<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: core_cache\lockable_cache_interface Interface Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;5.0</span>
   </div>
   <div id="projectbrief">Moodle 5.0dev (Build: 20250206) (139a0ad5f04)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d5/d51/namespacecore__cache.html">core_cache</a></li><li class="navelem"><a class="el" href="../../dd/d3b/interfacecore__cache_1_1lockable__cache__interface.html">lockable_cache_interface</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d3/dd7/interfacecore__cache_1_1lockable__cache__interface-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">core_cache\lockable_cache_interface Interface Reference<div class="ingroups"><a class="el" href="../../dc/d7b/group__core__cache.html">core_cache</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for core_cache\lockable_cache_interface:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../dd/d3b/interfacecore__cache_1_1lockable__cache__interface.png" usemap="#core_5Fcache_5Clockable_5Fcache_5Finterface_map" alt=""/>
  <map id="core_5Fcache_5Clockable_5Fcache_5Finterface_map" name="core_5Fcache_5Clockable_5Fcache_5Finterface_map">
<area href="../../da/df9/classcachestore__file.html" alt="cachestore_file" shape="rect" coords="0,56,230,80"/>
<area href="../../dc/dea/classcachestore__redis.html" alt="cachestore_redis" shape="rect" coords="240,56,470,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa318e50cba50c59149ebe5f1ba697b7a" id="r_aa318e50cba50c59149ebe5f1ba697b7a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa318e50cba50c59149ebe5f1ba697b7a">acquire_lock</a> ($key, $ownerid)</td></tr>
<tr class="memdesc:aa318e50cba50c59149ebe5f1ba697b7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires a lock on the given key for the given identifier.  <br /></td></tr>
<tr class="separator:aa318e50cba50c59149ebe5f1ba697b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a722932dad5199d656b739985a16bd6da" id="r_a722932dad5199d656b739985a16bd6da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a722932dad5199d656b739985a16bd6da">check_lock_state</a> ($key, $ownerid)</td></tr>
<tr class="memdesc:a722932dad5199d656b739985a16bd6da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if there is already a lock for the given key and if there is whether it belongs to the calling code.  <br /></td></tr>
<tr class="separator:a722932dad5199d656b739985a16bd6da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c521b9842146596ba748b685167deab" id="r_a6c521b9842146596ba748b685167deab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c521b9842146596ba748b685167deab">release_lock</a> ($key, $ownerid)</td></tr>
<tr class="memdesc:a6c521b9842146596ba748b685167deab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the lock on the given key.  <br /></td></tr>
<tr class="separator:a6c521b9842146596ba748b685167deab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa318e50cba50c59149ebe5f1ba697b7a" name="aa318e50cba50c59149ebe5f1ba697b7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa318e50cba50c59149ebe5f1ba697b7a">&#9670;&#160;</a></span>acquire_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_cache\lockable_cache_interface::acquire_lock </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$ownerid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acquires a lock on the given key for the given identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>The key we are locking. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$ownerid</td><td>The identifier so we can check if we have the lock or if it is someone else. The use of this property is entirely optional and implementations can act as they like upon it. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the lock could be acquired, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="../../da/df9/classcachestore__file.html#a9fe0fb30178209533b5d23aa9d3d8d44">cachestore_file</a>, and <a class="el" href="../../dc/dea/classcachestore__redis.html#ae8403f2959e41181e10fb7d98301a428">cachestore_redis</a>.</p>

</div>
</div>
<a id="a722932dad5199d656b739985a16bd6da" name="a722932dad5199d656b739985a16bd6da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a722932dad5199d656b739985a16bd6da">&#9670;&#160;</a></span>check_lock_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_cache\lockable_cache_interface::check_lock_state </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$ownerid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if there is already a lock for the given key and if there is whether it belongs to the calling code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>The key we are locking. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$ownerid</td><td>The identifier so we can check if we have the lock or if it is someone else. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if this code has the lock, false if there is a lock but this code doesn't have it, null if there is no lock. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="../../da/df9/classcachestore__file.html#a3fd093f5580490ba5082dfb722364198">cachestore_file</a>, and <a class="el" href="../../dc/dea/classcachestore__redis.html#ae309856eb831627d88c0a180b17b667d">cachestore_redis</a>.</p>

</div>
</div>
<a id="a6c521b9842146596ba748b685167deab" name="a6c521b9842146596ba748b685167deab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c521b9842146596ba748b685167deab">&#9670;&#160;</a></span>release_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_cache\lockable_cache_interface::release_lock </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$ownerid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases the lock on the given key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>The key we are locking. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$ownerid</td><td>The identifier so we can check if we have the lock or if it is someone else. The use of this property is entirely optional and implementations can act as they like upon it. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the lock has been released, false if there was a problem releasing the lock. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="../../da/df9/classcachestore__file.html#a084ef2a2418005f8e22066b25e91258d">cachestore_file</a>, and <a class="el" href="../../dc/dea/classcachestore__redis.html#ac781ce5faa1bbe008df5c3874add1a15">cachestore_redis</a>.</p>

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li>cache/classes/<b>lockable_cache_interface.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Feb 9 2025 03:02:18 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
