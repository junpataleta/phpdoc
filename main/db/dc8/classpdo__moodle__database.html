<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: pdo_moodle_database Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;5.1</span>
   </div>
   <div id="projectbrief">Moodle 5.1dev (Build: 20250530) (c39b7370636)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../df/d66/classpdo__moodle__database-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">pdo_moodle_database Class Reference<div class="ingroups"><a class="el" href="../../d5/db5/group__core__dml.html">core_dml</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Experimental pdo database class.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for pdo_moodle_database:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../db/dc8/classpdo__moodle__database.png" usemap="#pdo_5Fmoodle_5Fdatabase_map" alt=""/>
  <map id="pdo_5Fmoodle_5Fdatabase_map" name="pdo_5Fmoodle_5Fdatabase_map">
<area href="../../d3/d6e/classmoodle__database.html" title="Abstract class representing moodle database interface." alt="moodle_database" shape="rect" coords="0,0,138,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a427be9af9e7426b7198a16748568f813" id="r_a427be9af9e7426b7198a16748568f813"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a427be9af9e7426b7198a16748568f813">__construct</a> ($external=false)</td></tr>
<tr class="memdesc:a427be9af9e7426b7198a16748568f813"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor - instantiates the database, specifying if it's external (connect to other systems) or no (<a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a>) note this has effect to decide if prefix checks must be performed or no.  <br /></td></tr>
<tr class="separator:a427be9af9e7426b7198a16748568f813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27d29d117c7ffc4967b37136dd0cfaf6" id="r_a27d29d117c7ffc4967b37136dd0cfaf6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27d29d117c7ffc4967b37136dd0cfaf6">change_database_structure</a> ($sql, $tablenames=null)</td></tr>
<tr class="memdesc:a27d29d117c7ffc4967b37136dd0cfaf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do NOT use in code, to be used by <a class="el" href="../../de/dd9/classdatabase__manager.html" title="Database manager instance is responsible for all database structure modifications.">database_manager</a> only!  <br /></td></tr>
<tr class="separator:a27d29d117c7ffc4967b37136dd0cfaf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18bbc9d1781daebdbe45b9538f0c526d" id="r_a18bbc9d1781daebdbe45b9538f0c526d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a18bbc9d1781daebdbe45b9538f0c526d">change_db_encoding</a> ()</td></tr>
<tr class="memdesc:a18bbc9d1781daebdbe45b9538f0c526d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to change db encoding to UTF-8 encoding if possible.  <br /></td></tr>
<tr class="separator:a18bbc9d1781daebdbe45b9538f0c526d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25e59ae54a4848de4af3034a4a0e5318" id="r_a25e59ae54a4848de4af3034a4a0e5318"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a25e59ae54a4848de4af3034a4a0e5318">commit_delegated_transaction</a> (<a class="el" href="../../d8/db9/classmoodle__transaction.html">moodle_transaction</a> $transaction)</td></tr>
<tr class="memdesc:a25e59ae54a4848de4af3034a4a0e5318"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates delegated transaction finished successfully.  <br /></td></tr>
<tr class="separator:a25e59ae54a4848de4af3034a4a0e5318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad156ad200af39e06823449953b9eb31c" id="r_ad156ad200af39e06823449953b9eb31c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad156ad200af39e06823449953b9eb31c">connect</a> ($dbhost, $dbuser, $dbpass, $dbname, $prefix, ?array $dboptions=null)</td></tr>
<tr class="memdesc:ad156ad200af39e06823449953b9eb31c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to db Must be called before other methods.  <br /></td></tr>
<tr class="separator:ad156ad200af39e06823449953b9eb31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64a301c23a6a401a632d5268bc744e47" id="r_a64a301c23a6a401a632d5268bc744e47"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a64a301c23a6a401a632d5268bc744e47">count_records</a> ($table, ?array $conditions=null)</td></tr>
<tr class="memdesc:a64a301c23a6a401a632d5268bc744e47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count the records in a table where all the given conditions met.  <br /></td></tr>
<tr class="separator:a64a301c23a6a401a632d5268bc744e47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad206dce9472f9ddad66bf5ba6f665466" id="r_ad206dce9472f9ddad66bf5ba6f665466"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ad206dce9472f9ddad66bf5ba6f665466">count_records_select</a> ($table, $select, ?array $params=null, $countitem=&quot;COUNT('x')&quot;)</td></tr>
<tr class="memdesc:ad206dce9472f9ddad66bf5ba6f665466"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count the records in a table which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:ad206dce9472f9ddad66bf5ba6f665466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dbd8ba441ad1cf235fbf571fa05e91c" id="r_a0dbd8ba441ad1cf235fbf571fa05e91c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a0dbd8ba441ad1cf235fbf571fa05e91c">count_records_sql</a> ($sql, ?array $params=null)</td></tr>
<tr class="memdesc:a0dbd8ba441ad1cf235fbf571fa05e91c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the result of a SQL SELECT COUNT(...) query.  <br /></td></tr>
<tr class="separator:a0dbd8ba441ad1cf235fbf571fa05e91c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc014f3570a0110315d421a6cfd481e9" id="r_abc014f3570a0110315d421a6cfd481e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#abc014f3570a0110315d421a6cfd481e9">create_database</a> ($dbhost, $dbuser, $dbpass, $dbname, ?array $dboptions=null)</td></tr>
<tr class="memdesc:abc014f3570a0110315d421a6cfd481e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to create the database.  <br /></td></tr>
<tr class="separator:abc014f3570a0110315d421a6cfd481e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3d1f81d28ecd4ed389a64c52a421ee5" id="r_af3d1f81d28ecd4ed389a64c52a421ee5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#af3d1f81d28ecd4ed389a64c52a421ee5">delete_records</a> ($table, ?array $conditions=null)</td></tr>
<tr class="memdesc:af3d1f81d28ecd4ed389a64c52a421ee5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the records from a table where all the given conditions met.  <br /></td></tr>
<tr class="separator:af3d1f81d28ecd4ed389a64c52a421ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dea99d3ae3c3678253827e405842904" id="r_a1dea99d3ae3c3678253827e405842904"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a1dea99d3ae3c3678253827e405842904">delete_records_list</a> ($table, $field, array $values)</td></tr>
<tr class="memdesc:a1dea99d3ae3c3678253827e405842904"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the records from a table where one field match one list of values.  <br /></td></tr>
<tr class="separator:a1dea99d3ae3c3678253827e405842904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae864d03b7b0b63c9f35af6e3951949ca" id="r_ae864d03b7b0b63c9f35af6e3951949ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae864d03b7b0b63c9f35af6e3951949ca">delete_records_select</a> ($table, $select, ?array $params=null)</td></tr>
<tr class="memdesc:ae864d03b7b0b63c9f35af6e3951949ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete one or more records from a table which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:ae864d03b7b0b63c9f35af6e3951949ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8122a7e53b7a94353af65ee06ddd4602" id="r_a8122a7e53b7a94353af65ee06ddd4602"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a8122a7e53b7a94353af65ee06ddd4602">delete_records_subquery</a> (string $table, string $field, string $alias, string $subquery, array $params=[])</td></tr>
<tr class="memdesc:a8122a7e53b7a94353af65ee06ddd4602"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes records from a table using a subquery.  <br /></td></tr>
<tr class="separator:a8122a7e53b7a94353af65ee06ddd4602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bb8d693d664321e8ac1193d570053c7" id="r_a3bb8d693d664321e8ac1193d570053c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a3bb8d693d664321e8ac1193d570053c7">diagnose</a> ()</td></tr>
<tr class="memdesc:a3bb8d693d664321e8ac1193d570053c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Diagnose database and tables, this function is used to verify database and driver settings, db engine types, etc.  <br /></td></tr>
<tr class="separator:a3bb8d693d664321e8ac1193d570053c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc7496e5668a81d0aac9a2e6673cbc5d" id="r_adc7496e5668a81d0aac9a2e6673cbc5d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#adc7496e5668a81d0aac9a2e6673cbc5d">dispose</a> ()</td></tr>
<tr class="memdesc:adc7496e5668a81d0aac9a2e6673cbc5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the database connection and releases all resources and memory (especially circular memory references).  <br /></td></tr>
<tr class="separator:adc7496e5668a81d0aac9a2e6673cbc5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaced0d6405f8be443c2db9a7e29d8709" id="r_aaced0d6405f8be443c2db9a7e29d8709"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#aaced0d6405f8be443c2db9a7e29d8709">driver_installed</a> ()</td></tr>
<tr class="memdesc:aaced0d6405f8be443c2db9a7e29d8709"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detects if all needed PHP stuff are installed for <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> connectivity.  <br /></td></tr>
<tr class="separator:aaced0d6405f8be443c2db9a7e29d8709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f8d98915eb8aff6205ecc3617dc454b" id="r_a5f8d98915eb8aff6205ecc3617dc454b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5f8d98915eb8aff6205ecc3617dc454b">execute</a> ($sql, ?array $params=null)</td></tr>
<tr class="memdesc:a5f8d98915eb8aff6205ecc3617dc454b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute general sql query.  <br /></td></tr>
<tr class="separator:a5f8d98915eb8aff6205ecc3617dc454b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a1569ea398dbc1e4192ed6158953091" id="r_a8a1569ea398dbc1e4192ed6158953091"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a8a1569ea398dbc1e4192ed6158953091">export_dbconfig</a> ()</td></tr>
<tr class="memdesc:a8a1569ea398dbc1e4192ed6158953091"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the db related part of config.php.  <br /></td></tr>
<tr class="separator:a8a1569ea398dbc1e4192ed6158953091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31f60c69f30e971d083b6d96cbd9f8fb" id="r_a31f60c69f30e971d083b6d96cbd9f8fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a31f60c69f30e971d083b6d96cbd9f8fb">export_table_recordset</a> ($table)</td></tr>
<tr class="memdesc:a31f60c69f30e971d083b6d96cbd9f8fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all records from a table.  <br /></td></tr>
<tr class="separator:a31f60c69f30e971d083b6d96cbd9f8fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebd64178d04c5620fe1e163eaf86fc59" id="r_aebd64178d04c5620fe1e163eaf86fc59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#aebd64178d04c5620fe1e163eaf86fc59">fix_sql_params</a> ($sql, ?array $params=null)</td></tr>
<tr class="memdesc:aebd64178d04c5620fe1e163eaf86fc59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalizes sql query parameters and verifies parameters.  <br /></td></tr>
<tr class="separator:aebd64178d04c5620fe1e163eaf86fc59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adec2649775405235f1598ebe060a0cc2" id="r_adec2649775405235f1598ebe060a0cc2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#adec2649775405235f1598ebe060a0cc2">force_transaction_rollback</a> ()</td></tr>
<tr class="memdesc:adec2649775405235f1598ebe060a0cc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force rollback of all delegated transaction.  <br /></td></tr>
<tr class="separator:adec2649775405235f1598ebe060a0cc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7501053d106ee0ac51255c770fda6fef" id="r_a7501053d106ee0ac51255c770fda6fef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a7501053d106ee0ac51255c770fda6fef">get_columns</a> ($table, $usecache=true)</td></tr>
<tr class="memdesc:a7501053d106ee0ac51255c770fda6fef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns detailed information about columns in table.  <br /></td></tr>
<tr class="separator:a7501053d106ee0ac51255c770fda6fef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad99c6ed59fec7e8d0886eea04930b471" id="r_ad99c6ed59fec7e8d0886eea04930b471"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad99c6ed59fec7e8d0886eea04930b471">get_configuration_help</a> ()</td></tr>
<tr class="memdesc:ad99c6ed59fec7e8d0886eea04930b471"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns localised database configuration help.  <br /></td></tr>
<tr class="separator:ad99c6ed59fec7e8d0886eea04930b471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c5bbf6e20fc45b50018c37a6e52874" id="r_a58c5bbf6e20fc45b50018c37a6e52874"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a58c5bbf6e20fc45b50018c37a6e52874">get_configuration_hints</a> ()</td></tr>
<tr class="memdesc:a58c5bbf6e20fc45b50018c37a6e52874"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the localised database description Note: can be used before <a class="el" href="../../d0/de1/group__core.html#ga3ae73c52b49526f5a21cf02a3c1fceee" title="Connect to db.">connect()</a>  <br /></td></tr>
<tr class="separator:a58c5bbf6e20fc45b50018c37a6e52874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01d209c23d2000949014b76966db19b9" id="r_a01d209c23d2000949014b76966db19b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a01d209c23d2000949014b76966db19b9">get_counted_records_sql</a> (string $sql, string $fullcountcolumn, string $sort='', ?array $params=null, int $limitfrom=0, int $limitnum=0,)</td></tr>
<tr class="memdesc:a01d209c23d2000949014b76966db19b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve records with a select query and count the total number of records.  <br /></td></tr>
<tr class="separator:a01d209c23d2000949014b76966db19b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d164cc184a79209b75aaea639bd32d5" id="r_a0d164cc184a79209b75aaea639bd32d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a0d164cc184a79209b75aaea639bd32d5">get_counted_recordset_sql</a> (string $sql, string $fullcountcolumn, string $sort='', ?array $params=null, int $limitfrom=0, int $limitnum=0,)</td></tr>
<tr class="memdesc:a0d164cc184a79209b75aaea639bd32d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a recordset with a select query and count the total number of records.  <br /></td></tr>
<tr class="separator:a0d164cc184a79209b75aaea639bd32d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c518b7bf3b5c0ab61b97701d19955a1" id="r_a3c518b7bf3b5c0ab61b97701d19955a1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a3c518b7bf3b5c0ab61b97701d19955a1">get_dbfamily</a> ()</td></tr>
<tr class="memdesc:a3c518b7bf3b5c0ab61b97701d19955a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the database family type.  <br /></td></tr>
<tr class="separator:a3c518b7bf3b5c0ab61b97701d19955a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f413dfbddd57bbf4386cf13465e8022" id="r_a4f413dfbddd57bbf4386cf13465e8022"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a4f413dfbddd57bbf4386cf13465e8022">get_dbvendor</a> ()</td></tr>
<tr class="memdesc:a4f413dfbddd57bbf4386cf13465e8022"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the database vendor.  <br /></td></tr>
<tr class="separator:a4f413dfbddd57bbf4386cf13465e8022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab33f7a446c4e743e8ea6b5fabf9d6a98" id="r_ab33f7a446c4e743e8ea6b5fabf9d6a98"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ab33f7a446c4e743e8ea6b5fabf9d6a98">get_debug</a> ()</td></tr>
<tr class="memdesc:ab33f7a446c4e743e8ea6b5fabf9d6a98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns debug status.  <br /></td></tr>
<tr class="separator:ab33f7a446c4e743e8ea6b5fabf9d6a98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae298e05d4f80aa7952df399adc9252ff" id="r_ae298e05d4f80aa7952df399adc9252ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ae298e05d4f80aa7952df399adc9252ff">get_field</a> ($table, $return, array $conditions, $strictness=<a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a>)</td></tr>
<tr class="memdesc:ae298e05d4f80aa7952df399adc9252ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a single field value from a table record where all the given conditions met.  <br /></td></tr>
<tr class="separator:ae298e05d4f80aa7952df399adc9252ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61efd58e9205d13b7dffb8d1612558c4" id="r_a61efd58e9205d13b7dffb8d1612558c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a61efd58e9205d13b7dffb8d1612558c4">get_field_select</a> ($table, $return, $select, ?array $params=null, $strictness=<a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a>)</td></tr>
<tr class="memdesc:a61efd58e9205d13b7dffb8d1612558c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a single field value from a table record which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:a61efd58e9205d13b7dffb8d1612558c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86ffc39b76a6df0e899a880bfc187f2c" id="r_a86ffc39b76a6df0e899a880bfc187f2c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a86ffc39b76a6df0e899a880bfc187f2c">get_field_sql</a> ($sql, ?array $params=null, $strictness=<a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a>)</td></tr>
<tr class="memdesc:a86ffc39b76a6df0e899a880bfc187f2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a single field value (first field) using a SQL statement.  <br /></td></tr>
<tr class="separator:a86ffc39b76a6df0e899a880bfc187f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67e401e2ead09ea810af3b42c7932437" id="r_a67e401e2ead09ea810af3b42c7932437"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a67e401e2ead09ea810af3b42c7932437">get_fieldset</a> (string $table, string $return, ?array $conditions=null)</td></tr>
<tr class="memdesc:a67e401e2ead09ea810af3b42c7932437"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects records and return values of chosen field as an array where all the given conditions met.  <br /></td></tr>
<tr class="separator:a67e401e2ead09ea810af3b42c7932437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf87197c6dcb4d8ebad1384e38579645" id="r_abf87197c6dcb4d8ebad1384e38579645"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#abf87197c6dcb4d8ebad1384e38579645">get_fieldset_select</a> ($table, $return, $select, ?array $params=null)</td></tr>
<tr class="memdesc:abf87197c6dcb4d8ebad1384e38579645"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects records and return values of chosen field as an array which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:abf87197c6dcb4d8ebad1384e38579645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa401d902a6228ae60982cf8a4852baac" id="r_aa401d902a6228ae60982cf8a4852baac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa401d902a6228ae60982cf8a4852baac">get_fieldset_sql</a> ($sql, ?array $params=null)</td></tr>
<tr class="memdesc:aa401d902a6228ae60982cf8a4852baac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects rows and return values of first column as array.  <br /></td></tr>
<tr class="separator:aa401d902a6228ae60982cf8a4852baac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad3b5ff05207f773cc49352b79740e0" id="r_a9ad3b5ff05207f773cc49352b79740e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a9ad3b5ff05207f773cc49352b79740e0">get_in_or_equal</a> ($items, $type=<a class="el" href="../../d5/db5/group__core__dml.html#ga186c96032edcc8cb593687f7f7d55a1b">SQL_PARAMS_QM</a>, $prefix='param', $equal=true, $onemptyitems=false)</td></tr>
<tr class="memdesc:a9ad3b5ff05207f773cc49352b79740e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs 'IN()' or '=' sql fragment.  <br /></td></tr>
<tr class="separator:a9ad3b5ff05207f773cc49352b79740e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26ca1166e47a84a988811fcbeeeffeb0" id="r_a26ca1166e47a84a988811fcbeeeffeb0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a26ca1166e47a84a988811fcbeeeffeb0">get_indexes</a> ($table)</td></tr>
<tr class="memdesc:a26ca1166e47a84a988811fcbeeeffeb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return table indexes - everything lowercased.  <br /></td></tr>
<tr class="separator:a26ca1166e47a84a988811fcbeeeffeb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a916c644edf69b397564fafb1840ba789" id="r_a916c644edf69b397564fafb1840ba789"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a916c644edf69b397564fafb1840ba789">get_last_error</a> ()</td></tr>
<tr class="memdesc:a916c644edf69b397564fafb1840ba789"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns last error reported by database engine.  <br /></td></tr>
<tr class="separator:a916c644edf69b397564fafb1840ba789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1af2a2944bfff134c250e9b7dc9b50a" id="r_ad1af2a2944bfff134c250e9b7dc9b50a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ad1af2a2944bfff134c250e9b7dc9b50a">get_manager</a> ()</td></tr>
<tr class="memdesc:ad1af2a2944bfff134c250e9b7dc9b50a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the sql generator used for db manipulation.  <br /></td></tr>
<tr class="separator:ad1af2a2944bfff134c250e9b7dc9b50a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec80c681b5cf677a5037f0cf63b2312" id="r_a3ec80c681b5cf677a5037f0cf63b2312"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3ec80c681b5cf677a5037f0cf63b2312">get_name</a> ()</td></tr>
<tr class="memdesc:a3ec80c681b5cf677a5037f0cf63b2312"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns localised database type name Note: can be used before <a class="el" href="#ad156ad200af39e06823449953b9eb31c" title="Connect to db Must be called before other methods.">connect()</a>  <br /></td></tr>
<tr class="separator:a3ec80c681b5cf677a5037f0cf63b2312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8314cb807e9a59a9e3d6ec11f04bb4cf" id="r_a8314cb807e9a59a9e3d6ec11f04bb4cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a8314cb807e9a59a9e3d6ec11f04bb4cf">get_prefix</a> ()</td></tr>
<tr class="memdesc:a8314cb807e9a59a9e3d6ec11f04bb4cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns database table prefix Note: can be used before <a class="el" href="../../d0/de1/group__core.html#ga3ae73c52b49526f5a21cf02a3c1fceee" title="Connect to db.">connect()</a>  <br /></td></tr>
<tr class="separator:a8314cb807e9a59a9e3d6ec11f04bb4cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0264e381dc950fac100b14a3f67cff8a" id="r_a0264e381dc950fac100b14a3f67cff8a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a0264e381dc950fac100b14a3f67cff8a">get_record</a> ($table, array $conditions, $fields=' *', $strictness=<a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a>)</td></tr>
<tr class="memdesc:a0264e381dc950fac100b14a3f67cff8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a single database record as an object where all the given conditions met.  <br /></td></tr>
<tr class="separator:a0264e381dc950fac100b14a3f67cff8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42ec3402be724ce5f2f731b3454c0504" id="r_a42ec3402be724ce5f2f731b3454c0504"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a42ec3402be724ce5f2f731b3454c0504">get_record_select</a> ($table, $select, ?array $params=null, $fields=' *', $strictness=<a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a>)</td></tr>
<tr class="memdesc:a42ec3402be724ce5f2f731b3454c0504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a single database record as an object which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:a42ec3402be724ce5f2f731b3454c0504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49e796ca1d8f309c957b7ec43fb1dc2a" id="r_a49e796ca1d8f309c957b7ec43fb1dc2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a49e796ca1d8f309c957b7ec43fb1dc2a">get_record_sql</a> ($sql, ?array $params=null, $strictness=<a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a>)</td></tr>
<tr class="memdesc:a49e796ca1d8f309c957b7ec43fb1dc2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a single database record as an object using a SQL statement.  <br /></td></tr>
<tr class="separator:a49e796ca1d8f309c957b7ec43fb1dc2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c69a059c3c3aef6ae083ef1fbdaed20" id="r_a4c69a059c3c3aef6ae083ef1fbdaed20"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a4c69a059c3c3aef6ae083ef1fbdaed20">get_records</a> ($table, ?array $conditions=null, $sort='', $fields=' *', $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:a4c69a059c3c3aef6ae083ef1fbdaed20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a number of records as an array of objects where all the given conditions met.  <br /></td></tr>
<tr class="separator:a4c69a059c3c3aef6ae083ef1fbdaed20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf126d4aa56da71fd84cb77254de4106" id="r_abf126d4aa56da71fd84cb77254de4106"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#abf126d4aa56da71fd84cb77254de4106">get_records_list</a> ($table, $field, array $values, $sort='', $fields=' *', $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:abf126d4aa56da71fd84cb77254de4106"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a number of records as an array of objects where one field match one list of values.  <br /></td></tr>
<tr class="separator:abf126d4aa56da71fd84cb77254de4106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7d4d44f509f2fd325901accab10caa9" id="r_aa7d4d44f509f2fd325901accab10caa9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#aa7d4d44f509f2fd325901accab10caa9">get_records_menu</a> ($table, ?array $conditions=null, $sort='', $fields=' *', $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:aa7d4d44f509f2fd325901accab10caa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the first two columns from a number of records as an associative array where all the given conditions met.  <br /></td></tr>
<tr class="separator:aa7d4d44f509f2fd325901accab10caa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e1223f0bd3e6923aa84ffada115270f" id="r_a0e1223f0bd3e6923aa84ffada115270f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a0e1223f0bd3e6923aa84ffada115270f">get_records_select</a> ($table, $select, ?array $params=null, $sort='', $fields=' *', $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:a0e1223f0bd3e6923aa84ffada115270f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a number of records as an array of objects which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:a0e1223f0bd3e6923aa84ffada115270f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad56c4886758273808afb84fd74289588" id="r_ad56c4886758273808afb84fd74289588"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ad56c4886758273808afb84fd74289588">get_records_select_menu</a> ($table, $select, ?array $params=null, $sort='', $fields=' *', $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:ad56c4886758273808afb84fd74289588"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the first two columns from a number of records as an associative array which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:ad56c4886758273808afb84fd74289588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3fe3538fb378ca240413d77f27f7506" id="r_ae3fe3538fb378ca240413d77f27f7506"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3fe3538fb378ca240413d77f27f7506">get_records_sql</a> ($sql, ?array $params=null, $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:ae3fe3538fb378ca240413d77f27f7506"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a number of records as an array of objects.  <br /></td></tr>
<tr class="separator:ae3fe3538fb378ca240413d77f27f7506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27a87e4bb758741ac5c140be0813f209" id="r_a27a87e4bb758741ac5c140be0813f209"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a27a87e4bb758741ac5c140be0813f209">get_records_sql_menu</a> ($sql, ?array $params=null, $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:a27a87e4bb758741ac5c140be0813f209"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the first two columns from a number of records as an associative array using a SQL statement.  <br /></td></tr>
<tr class="separator:a27a87e4bb758741ac5c140be0813f209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59cdf34105f4d33160d2d7d6b5d6f24b" id="r_a59cdf34105f4d33160d2d7d6b5d6f24b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a59cdf34105f4d33160d2d7d6b5d6f24b">get_recordset</a> ($table, ?array $conditions=null, $sort='', $fields=' *', $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:a59cdf34105f4d33160d2d7d6b5d6f24b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a number of records as a <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> where all the given conditions met.  <br /></td></tr>
<tr class="separator:a59cdf34105f4d33160d2d7d6b5d6f24b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6f6bc13543347a60b4d4c39f6f1de59" id="r_ae6f6bc13543347a60b4d4c39f6f1de59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ae6f6bc13543347a60b4d4c39f6f1de59">get_recordset_list</a> ($table, $field, array $values, $sort='', $fields=' *', $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:ae6f6bc13543347a60b4d4c39f6f1de59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a number of records as a <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> where one field match one list of values.  <br /></td></tr>
<tr class="separator:ae6f6bc13543347a60b4d4c39f6f1de59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9add8d048686682c0f6942a027a4734e" id="r_a9add8d048686682c0f6942a027a4734e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a9add8d048686682c0f6942a027a4734e">get_recordset_select</a> ($table, $select, ?array $params=null, $sort='', $fields=' *', $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:a9add8d048686682c0f6942a027a4734e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a number of records as a <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:a9add8d048686682c0f6942a027a4734e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a358bab1cb64258d3b26ce861c863b6" id="r_a9a358bab1cb64258d3b26ce861c863b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a358bab1cb64258d3b26ce861c863b6">get_recordset_sql</a> ($sql, ?array $params=null, $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:a9a358bab1cb64258d3b26ce861c863b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a number of records as an <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a>.  <br /></td></tr>
<tr class="separator:a9a358bab1cb64258d3b26ce861c863b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a241ea9e9c9ecd10c546f12e24fce516f" id="r_a241ea9e9c9ecd10c546f12e24fce516f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a241ea9e9c9ecd10c546f12e24fce516f">get_server_info</a> ()</td></tr>
<tr class="memdesc:a241ea9e9c9ecd10c546f12e24fce516f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns database server info array.  <br /></td></tr>
<tr class="separator:a241ea9e9c9ecd10c546f12e24fce516f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c57a9a2f96d9bec0f77164aae45dc69" id="r_a6c57a9a2f96d9bec0f77164aae45dc69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a6c57a9a2f96d9bec0f77164aae45dc69">get_session_lock</a> ($rowid, $timeout)</td></tr>
<tr class="memdesc:a6c57a9a2f96d9bec0f77164aae45dc69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains the session lock.  <br /></td></tr>
<tr class="separator:a6c57a9a2f96d9bec0f77164aae45dc69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e8cb566e33c61c1ce9a3c86f51ac7b4" id="r_a2e8cb566e33c61c1ce9a3c86f51ac7b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a2e8cb566e33c61c1ce9a3c86f51ac7b4">get_tables</a> ($usecache=true)</td></tr>
<tr class="memdesc:a2e8cb566e33c61c1ce9a3c86f51ac7b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return tables in database WITHOUT current prefix.  <br /></td></tr>
<tr class="separator:a2e8cb566e33c61c1ce9a3c86f51ac7b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad848ee206bad0afea1fcc9e303fae770" id="r_ad848ee206bad0afea1fcc9e303fae770"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ad848ee206bad0afea1fcc9e303fae770">get_transaction_start_backtrace</a> ()</td></tr>
<tr class="memdesc:ad848ee206bad0afea1fcc9e303fae770"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns transaction trace for debugging purposes.  <br /></td></tr>
<tr class="separator:ad848ee206bad0afea1fcc9e303fae770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb99dfdf488ebd05f375c3938bef733b" id="r_afb99dfdf488ebd05f375c3938bef733b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afb99dfdf488ebd05f375c3938bef733b">import_record</a> ($table, $dataobject)</td></tr>
<tr class="memdesc:afb99dfdf488ebd05f375c3938bef733b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Import a record into a table, id field is required.  <br /></td></tr>
<tr class="separator:afb99dfdf488ebd05f375c3938bef733b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17239aa5a747bc51b9c034c4f4c1907c" id="r_a17239aa5a747bc51b9c034c4f4c1907c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a17239aa5a747bc51b9c034c4f4c1907c">insert_record</a> ($table, $dataobject, $returnid=true, $bulk=false)</td></tr>
<tr class="memdesc:a17239aa5a747bc51b9c034c4f4c1907c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out.  <br /></td></tr>
<tr class="separator:a17239aa5a747bc51b9c034c4f4c1907c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab30416598bc376f41f91957e8bbe048a" id="r_ab30416598bc376f41f91957e8bbe048a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab30416598bc376f41f91957e8bbe048a">insert_record_raw</a> ($table, $params, $returnid=true, $bulk=false, $customsequence=false)</td></tr>
<tr class="memdesc:ab30416598bc376f41f91957e8bbe048a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert new record into database, as fast as possible, no safety checks, lobs not supported.  <br /></td></tr>
<tr class="separator:ab30416598bc376f41f91957e8bbe048a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f0b239e223e372b5a5327420321ccb4" id="r_a9f0b239e223e372b5a5327420321ccb4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a9f0b239e223e372b5a5327420321ccb4">insert_records</a> ($table, $dataobjects)</td></tr>
<tr class="memdesc:a9f0b239e223e372b5a5327420321ccb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert multiple records into database as fast as possible.  <br /></td></tr>
<tr class="separator:a9f0b239e223e372b5a5327420321ccb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9057378f157727f54a9d3777279ccec8" id="r_a9057378f157727f54a9d3777279ccec8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a9057378f157727f54a9d3777279ccec8">is_count_window_function_supported</a> ()</td></tr>
<tr class="memdesc:a9057378f157727f54a9d3777279ccec8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the database is able to support the COUNT() window function and provides a performance improvement.  <br /></td></tr>
<tr class="separator:a9057378f157727f54a9d3777279ccec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab67f89340aae0d3b42d0f752276f4201" id="r_ab67f89340aae0d3b42d0f752276f4201"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ab67f89340aae0d3b42d0f752276f4201">is_fulltext_search_supported</a> ()</td></tr>
<tr class="memdesc:ab67f89340aae0d3b42d0f752276f4201"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the database is able to support full-text search or not.  <br /></td></tr>
<tr class="separator:ab67f89340aae0d3b42d0f752276f4201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd15d09cfbcd348245a113dc21299684" id="r_abd15d09cfbcd348245a113dc21299684"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#abd15d09cfbcd348245a113dc21299684">is_transaction_started</a> ()</td></tr>
<tr class="memdesc:abd15d09cfbcd348245a113dc21299684"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if a transaction is in progress.  <br /></td></tr>
<tr class="separator:abd15d09cfbcd348245a113dc21299684"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88efe099824232405fdd57abf99a5da5" id="r_a88efe099824232405fdd57abf99a5da5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a88efe099824232405fdd57abf99a5da5">perf_get_queries</a> ()</td></tr>
<tr class="memdesc:a88efe099824232405fdd57abf99a5da5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of queries done by this database.  <br /></td></tr>
<tr class="separator:a88efe099824232405fdd57abf99a5da5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26f3aea41366300759a65971ddaeae91" id="r_a26f3aea41366300759a65971ddaeae91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a26f3aea41366300759a65971ddaeae91">perf_get_queries_time</a> ()</td></tr>
<tr class="memdesc:a26f3aea41366300759a65971ddaeae91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time waiting for the database engine to finish running all queries.  <br /></td></tr>
<tr class="separator:a26f3aea41366300759a65971ddaeae91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abef8ec7916dbf288bdc45828e24e2e71" id="r_abef8ec7916dbf288bdc45828e24e2e71"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#abef8ec7916dbf288bdc45828e24e2e71">perf_get_reads</a> ()</td></tr>
<tr class="memdesc:abef8ec7916dbf288bdc45828e24e2e71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of reads done by this database.  <br /></td></tr>
<tr class="separator:abef8ec7916dbf288bdc45828e24e2e71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aede2b6f470152fcb31b1011e4a0a3c9d" id="r_aede2b6f470152fcb31b1011e4a0a3c9d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#aede2b6f470152fcb31b1011e4a0a3c9d">perf_get_reads_replica</a> ()</td></tr>
<tr class="memdesc:aede2b6f470152fcb31b1011e4a0a3c9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of reads before first write done by this database.  <br /></td></tr>
<tr class="separator:aede2b6f470152fcb31b1011e4a0a3c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3ba367be9772be6b095f58201579543" id="r_ab3ba367be9772be6b095f58201579543"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ab3ba367be9772be6b095f58201579543">perf_get_writes</a> ()</td></tr>
<tr class="memdesc:ab3ba367be9772be6b095f58201579543"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of writes done by this database.  <br /></td></tr>
<tr class="separator:ab3ba367be9772be6b095f58201579543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a330a77e48f251264f020d52169438e25" id="r_a330a77e48f251264f020d52169438e25"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a330a77e48f251264f020d52169438e25">query_log</a> ($error=false)</td></tr>
<tr class="memdesc:a330a77e48f251264f020d52169438e25"><td class="mdescLeft">&#160;</td><td class="mdescRight">This logs the last query based on 'logall', 'logslow' and 'logerrors' options configured via $CFG-&gt;dboptions .  <br /></td></tr>
<tr class="separator:a330a77e48f251264f020d52169438e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf3175a0c0ca9a47f7228a5dd82cc0d8" id="r_abf3175a0c0ca9a47f7228a5dd82cc0d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#abf3175a0c0ca9a47f7228a5dd82cc0d8">record_exists</a> ($table, array $conditions)</td></tr>
<tr class="memdesc:abf3175a0c0ca9a47f7228a5dd82cc0d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether a record exists in a table where all the given conditions met.  <br /></td></tr>
<tr class="separator:abf3175a0c0ca9a47f7228a5dd82cc0d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bb1c6d5c6208e51c68cf56b9a24b1ac" id="r_a1bb1c6d5c6208e51c68cf56b9a24b1ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a1bb1c6d5c6208e51c68cf56b9a24b1ac">record_exists_select</a> ($table, $select, ?array $params=null)</td></tr>
<tr class="memdesc:a1bb1c6d5c6208e51c68cf56b9a24b1ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether any records exists in a table which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:a1bb1c6d5c6208e51c68cf56b9a24b1ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2bf8283a63f4d432b0e5289a991eb78" id="r_ad2bf8283a63f4d432b0e5289a991eb78"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ad2bf8283a63f4d432b0e5289a991eb78">record_exists_sql</a> ($sql, ?array $params=null)</td></tr>
<tr class="memdesc:ad2bf8283a63f4d432b0e5289a991eb78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether a SQL SELECT statement returns any records.  <br /></td></tr>
<tr class="separator:ad2bf8283a63f4d432b0e5289a991eb78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78cee87e0f3b11c0b85dcdee1487ce01" id="r_a78cee87e0f3b11c0b85dcdee1487ce01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a78cee87e0f3b11c0b85dcdee1487ce01">release_session_lock</a> ($rowid)</td></tr>
<tr class="memdesc:a78cee87e0f3b11c0b85dcdee1487ce01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the session lock.  <br /></td></tr>
<tr class="separator:a78cee87e0f3b11c0b85dcdee1487ce01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c89e08b712205fb341d088e62062e91" id="r_a9c89e08b712205fb341d088e62062e91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a9c89e08b712205fb341d088e62062e91">replace_all_text</a> ($table, <a class="el" href="../../d8/d41/classdatabase__column__info.html">database_column_info</a> $column, $search, $replace)</td></tr>
<tr class="memdesc:a9c89e08b712205fb341d088e62062e91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace given text in all rows of column.  <br /></td></tr>
<tr class="separator:a9c89e08b712205fb341d088e62062e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae059743f764b66f1a55b9a7a0447480e" id="r_ae059743f764b66f1a55b9a7a0447480e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ae059743f764b66f1a55b9a7a0447480e">replace_all_text_supported</a> ()</td></tr>
<tr class="memdesc:ae059743f764b66f1a55b9a7a0447480e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does this driver support tool_replace?  <br /></td></tr>
<tr class="separator:ae059743f764b66f1a55b9a7a0447480e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a566d10b7a58d695c82fa97290d183c7f" id="r_a566d10b7a58d695c82fa97290d183c7f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a566d10b7a58d695c82fa97290d183c7f">reset_caches</a> ($tablenames=null)</td></tr>
<tr class="memdesc:a566d10b7a58d695c82fa97290d183c7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the internal column details cache.  <br /></td></tr>
<tr class="separator:a566d10b7a58d695c82fa97290d183c7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52626080be6e106f27052edac0046718" id="r_a52626080be6e106f27052edac0046718"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a52626080be6e106f27052edac0046718">rollback_delegated_transaction</a> (<a class="el" href="../../d8/db9/classmoodle__transaction.html">moodle_transaction</a> $transaction, $e)</td></tr>
<tr class="memdesc:a52626080be6e106f27052edac0046718"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call when delegated transaction failed, this rolls back all delegated transactions up to the top most level.  <br /></td></tr>
<tr class="separator:a52626080be6e106f27052edac0046718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82cef939ad959751ee2aac1c482d356" id="r_ae82cef939ad959751ee2aac1c482d356"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ae82cef939ad959751ee2aac1c482d356">session_lock_supported</a> ()</td></tr>
<tr class="memdesc:ae82cef939ad959751ee2aac1c482d356"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is session lock supported in this driver?  <br /></td></tr>
<tr class="separator:ae82cef939ad959751ee2aac1c482d356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35d0837880bf49e85ca84301f2be3eb7" id="r_a35d0837880bf49e85ca84301f2be3eb7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a35d0837880bf49e85ca84301f2be3eb7">set_debug</a> ($state)</td></tr>
<tr class="memdesc:a35d0837880bf49e85ca84301f2be3eb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/disable very detailed debugging.  <br /></td></tr>
<tr class="separator:a35d0837880bf49e85ca84301f2be3eb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e884967eafc75a13446856e3d4bcf18" id="r_a5e884967eafc75a13446856e3d4bcf18"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a5e884967eafc75a13446856e3d4bcf18">set_field</a> ($table, $newfield, $newvalue, ?array $conditions=null)</td></tr>
<tr class="memdesc:a5e884967eafc75a13446856e3d4bcf18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a single field in every table record where all the given conditions met.  <br /></td></tr>
<tr class="separator:a5e884967eafc75a13446856e3d4bcf18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a766368b5c13e01ebe4f856b57ace5ae5" id="r_a766368b5c13e01ebe4f856b57ace5ae5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a766368b5c13e01ebe4f856b57ace5ae5">set_field_select</a> ($table, $newfield, $newvalue, $select, ?array $params=null)</td></tr>
<tr class="memdesc:a766368b5c13e01ebe4f856b57ace5ae5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a single field in every table row where the select statement evaluates to true.  <br /></td></tr>
<tr class="separator:a766368b5c13e01ebe4f856b57ace5ae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab747076263a0c2fd6a802cb74382ad57" id="r_ab747076263a0c2fd6a802cb74382ad57"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ab747076263a0c2fd6a802cb74382ad57">setup_is_unicodedb</a> ()</td></tr>
<tr class="memdesc:ab747076263a0c2fd6a802cb74382ad57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks to see if the database is in unicode mode?  <br /></td></tr>
<tr class="separator:ab747076263a0c2fd6a802cb74382ad57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac68dc229239c363cbb694b5b48e80394" id="r_ac68dc229239c363cbb694b5b48e80394"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ac68dc229239c363cbb694b5b48e80394">sql_bitand</a> ($int1, $int2)</td></tr>
<tr class="memdesc:ac68dc229239c363cbb694b5b48e80394"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used in order to perform one bitwise AND operation between 2 integers.  <br /></td></tr>
<tr class="separator:ac68dc229239c363cbb694b5b48e80394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acac48b82fd3f9c783378bafbb5d3d114" id="r_acac48b82fd3f9c783378bafbb5d3d114"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#acac48b82fd3f9c783378bafbb5d3d114">sql_bitnot</a> ($int1)</td></tr>
<tr class="memdesc:acac48b82fd3f9c783378bafbb5d3d114"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used in order to perform one bitwise NOT operation with 1 integer.  <br /></td></tr>
<tr class="separator:acac48b82fd3f9c783378bafbb5d3d114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80882d2125b553aab4f8ca270482bb71" id="r_a80882d2125b553aab4f8ca270482bb71"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a80882d2125b553aab4f8ca270482bb71">sql_bitor</a> ($int1, $int2)</td></tr>
<tr class="memdesc:a80882d2125b553aab4f8ca270482bb71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used in order to perform one bitwise OR operation between 2 integers.  <br /></td></tr>
<tr class="separator:a80882d2125b553aab4f8ca270482bb71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4e61636f425f4bb9de8916a78460c3e" id="r_ad4e61636f425f4bb9de8916a78460c3e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ad4e61636f425f4bb9de8916a78460c3e">sql_bitxor</a> ($int1, $int2)</td></tr>
<tr class="memdesc:ad4e61636f425f4bb9de8916a78460c3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used in order to perform one bitwise XOR operation between 2 integers.  <br /></td></tr>
<tr class="separator:ad4e61636f425f4bb9de8916a78460c3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1694340dccdc80574299d01339b65197" id="r_a1694340dccdc80574299d01339b65197"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a1694340dccdc80574299d01339b65197">sql_cast_2signed</a> ($fieldname)</td></tr>
<tr class="memdesc:a1694340dccdc80574299d01339b65197"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL to be used in order to an UNSIGNED INTEGER column to SIGNED.  <br /></td></tr>
<tr class="separator:a1694340dccdc80574299d01339b65197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a180f8af7f59e19066d71edcdc304afb6" id="r_a180f8af7f59e19066d71edcdc304afb6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a180f8af7f59e19066d71edcdc304afb6">sql_cast_char2int</a> ($fieldname, $text=false)</td></tr>
<tr class="memdesc:a180f8af7f59e19066d71edcdc304afb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL to be used in order to CAST one CHAR column to INTEGER.  <br /></td></tr>
<tr class="separator:a180f8af7f59e19066d71edcdc304afb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0439d8a8138f109078dca2844de06625" id="r_a0439d8a8138f109078dca2844de06625"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a0439d8a8138f109078dca2844de06625">sql_cast_char2real</a> ($fieldname, $text=false)</td></tr>
<tr class="memdesc:a0439d8a8138f109078dca2844de06625"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL to be used in order to CAST one CHAR column to REAL number.  <br /></td></tr>
<tr class="separator:a0439d8a8138f109078dca2844de06625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790893b7ddd951c847e89ff924e49002" id="r_a790893b7ddd951c847e89ff924e49002"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a790893b7ddd951c847e89ff924e49002">sql_cast_to_char</a> (string $field)</td></tr>
<tr class="memdesc:a790893b7ddd951c847e89ff924e49002"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return SQL for casting to char of given field/expression.  <br /></td></tr>
<tr class="separator:a790893b7ddd951c847e89ff924e49002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7890196bac87305b781986a03c6f5be" id="r_af7890196bac87305b781986a03c6f5be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#af7890196bac87305b781986a03c6f5be">sql_ceil</a> ($fieldname)</td></tr>
<tr class="memdesc:af7890196bac87305b781986a03c6f5be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the cross db correct CEIL (ceiling) expression applied to fieldname.  <br /></td></tr>
<tr class="separator:af7890196bac87305b781986a03c6f5be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a820b8acd947c5e66d363d7900c24565f" id="r_a820b8acd947c5e66d363d7900c24565f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a820b8acd947c5e66d363d7900c24565f">sql_compare_text</a> ($fieldname, $numchars=32)</td></tr>
<tr class="memdesc:a820b8acd947c5e66d363d7900c24565f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used to compare one TEXT (clob) column with one varchar column, because some RDBMS doesn't support such direct comparisons.  <br /></td></tr>
<tr class="separator:a820b8acd947c5e66d363d7900c24565f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e86f216da2220ffb57d6276da6c3403" id="r_a2e86f216da2220ffb57d6276da6c3403"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e86f216da2220ffb57d6276da6c3403">sql_concat</a> (... $arr)</td></tr>
<tr class="memdesc:a2e86f216da2220ffb57d6276da6c3403"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the proper SQL to do CONCAT between the elements(fieldnames) passed.  <br /></td></tr>
<tr class="separator:a2e86f216da2220ffb57d6276da6c3403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93667a189d802a490e46ca1585b6ee90" id="r_a93667a189d802a490e46ca1585b6ee90"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93667a189d802a490e46ca1585b6ee90">sql_concat_join</a> ($separator=&quot;' '&quot;, $elements=array())</td></tr>
<tr class="memdesc:a93667a189d802a490e46ca1585b6ee90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the proper SQL to do CONCAT between the elements passed with a given separator.  <br /></td></tr>
<tr class="separator:a93667a189d802a490e46ca1585b6ee90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae22406799410a3cbdd253516eab46c5c" id="r_ae22406799410a3cbdd253516eab46c5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ae22406799410a3cbdd253516eab46c5c">sql_empty</a> ()</td></tr>
<tr class="memdesc:ae22406799410a3cbdd253516eab46c5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This used to return empty string replacement character.  <br /></td></tr>
<tr class="separator:ae22406799410a3cbdd253516eab46c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4961151d8452dbbae8764a21d3995924" id="r_a4961151d8452dbbae8764a21d3995924"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a4961151d8452dbbae8764a21d3995924">sql_equal</a> ($fieldname, $param, $casesensitive=true, $accentsensitive=true, $notequal=false)</td></tr>
<tr class="memdesc:a4961151d8452dbbae8764a21d3995924"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an equal (=) or not equal (&lt;&gt;) part of a query.  <br /></td></tr>
<tr class="separator:a4961151d8452dbbae8764a21d3995924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff9684dbbfefd579a8e8925e1930aff4" id="r_aff9684dbbfefd579a8e8925e1930aff4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#aff9684dbbfefd579a8e8925e1930aff4">sql_fullname</a> ($first='firstname', $last='lastname')</td></tr>
<tr class="memdesc:aff9684dbbfefd579a8e8925e1930aff4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the proper SQL (for the dbms in use) to concatenate $firstname and $lastname.  <br /></td></tr>
<tr class="separator:aff9684dbbfefd579a8e8925e1930aff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66295f6896c178df8cfb14f8b34f29f8" id="r_a66295f6896c178df8cfb14f8b34f29f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66295f6896c178df8cfb14f8b34f29f8">sql_group_concat</a> (string $field, string $separator=', ', string $sort='')</td></tr>
<tr class="memdesc:a66295f6896c178df8cfb14f8b34f29f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return SQL for performing group concatenation on given field/expression.  <br /></td></tr>
<tr class="separator:a66295f6896c178df8cfb14f8b34f29f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa750949c8de170e0d0af4f5fa60059c6" id="r_aa750949c8de170e0d0af4f5fa60059c6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#aa750949c8de170e0d0af4f5fa60059c6">sql_intersect</a> ($selects, $fields)</td></tr>
<tr class="memdesc:aa750949c8de170e0d0af4f5fa60059c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL that allows to find intersection of two or more queries.  <br /></td></tr>
<tr class="separator:aa750949c8de170e0d0af4f5fa60059c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4191fbfdf4d8f178c7f8baa6f0b3f10c" id="r_a4191fbfdf4d8f178c7f8baa6f0b3f10c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a4191fbfdf4d8f178c7f8baa6f0b3f10c">sql_isempty</a> ($tablename, $fieldname, $nullablefield, $textfield)</td></tr>
<tr class="memdesc:a4191fbfdf4d8f178c7f8baa6f0b3f10c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the proper SQL to know if one field is empty.  <br /></td></tr>
<tr class="separator:a4191fbfdf4d8f178c7f8baa6f0b3f10c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15973dfa55e723dee0363e3aee643914" id="r_a15973dfa55e723dee0363e3aee643914"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a15973dfa55e723dee0363e3aee643914">sql_isnotempty</a> ($tablename, $fieldname, $nullablefield, $textfield)</td></tr>
<tr class="memdesc:a15973dfa55e723dee0363e3aee643914"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the proper SQL to know if one field is not empty.  <br /></td></tr>
<tr class="separator:a15973dfa55e723dee0363e3aee643914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36de447388d1b69eea5e6aa8cef28939" id="r_a36de447388d1b69eea5e6aa8cef28939"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a36de447388d1b69eea5e6aa8cef28939">sql_length</a> ($fieldname)</td></tr>
<tr class="memdesc:a36de447388d1b69eea5e6aa8cef28939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used to calculate the length in characters of one expression.  <br /></td></tr>
<tr class="separator:a36de447388d1b69eea5e6aa8cef28939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa73681203c2756b0f4acc0048e3dced0" id="r_aa73681203c2756b0f4acc0048e3dced0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#aa73681203c2756b0f4acc0048e3dced0">sql_like</a> ($fieldname, $param, $casesensitive=true, $accentsensitive=true, $notlike=false, $escapechar='\\')</td></tr>
<tr class="memdesc:aa73681203c2756b0f4acc0048e3dced0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns 'LIKE' part of a query.  <br /></td></tr>
<tr class="separator:aa73681203c2756b0f4acc0048e3dced0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c121b8dd12ec96c1b383f408771f9df" id="r_a2c121b8dd12ec96c1b383f408771f9df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a2c121b8dd12ec96c1b383f408771f9df">sql_like_escape</a> ($text, $escapechar='\\')</td></tr>
<tr class="memdesc:a2c121b8dd12ec96c1b383f408771f9df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Escape sql LIKE special characters like '_' or ''.  <br /></td></tr>
<tr class="separator:a2c121b8dd12ec96c1b383f408771f9df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a8c36b4f5df99363ab8bddfe2b718c4" id="r_a4a8c36b4f5df99363ab8bddfe2b718c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a4a8c36b4f5df99363ab8bddfe2b718c4">sql_modulo</a> ($int1, $int2)</td></tr>
<tr class="memdesc:a4a8c36b4f5df99363ab8bddfe2b718c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used in order to perform module '' operation - remainder after division.  <br /></td></tr>
<tr class="separator:a4a8c36b4f5df99363ab8bddfe2b718c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17896707600b6f12a885e0928cad3c62" id="r_a17896707600b6f12a885e0928cad3c62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a17896707600b6f12a885e0928cad3c62">sql_null_from_clause</a> ()</td></tr>
<tr class="memdesc:a17896707600b6f12a885e0928cad3c62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the FROM clause required by some DBs in all SELECT statements.  <br /></td></tr>
<tr class="separator:a17896707600b6f12a885e0928cad3c62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eb3d5f73789b5ed8c809e6fe1a0fa84" id="r_a7eb3d5f73789b5ed8c809e6fe1a0fa84"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a7eb3d5f73789b5ed8c809e6fe1a0fa84">sql_order_by_null</a> (string $fieldname, int $sort=SORT_ASC)</td></tr>
<tr class="memdesc:a7eb3d5f73789b5ed8c809e6fe1a0fa84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used to order by columns, standardising the return pattern of null values across database types to sort nulls first when ascending and last when descending.  <br /></td></tr>
<tr class="separator:a7eb3d5f73789b5ed8c809e6fe1a0fa84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e51c0085bf05d53d7fb61840645f2c7" id="r_a4e51c0085bf05d53d7fb61840645f2c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a4e51c0085bf05d53d7fb61840645f2c7">sql_order_by_text</a> ($fieldname, $numchars=32)</td></tr>
<tr class="memdesc:a4e51c0085bf05d53d7fb61840645f2c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used to order by one TEXT (clob) column, because some RDBMS doesn't support direct ordering of such fields.  <br /></td></tr>
<tr class="separator:a4e51c0085bf05d53d7fb61840645f2c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e8706138bc2db33bf1da592c0c55ac1" id="r_a2e8706138bc2db33bf1da592c0c55ac1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a2e8706138bc2db33bf1da592c0c55ac1">sql_position</a> ($needle, $haystack)</td></tr>
<tr class="memdesc:a2e8706138bc2db33bf1da592c0c55ac1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL for returning searching one string for the location of another.  <br /></td></tr>
<tr class="separator:a2e8706138bc2db33bf1da592c0c55ac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7fba4bbf3f6e865a889e8742481e7e4" id="r_ae7fba4bbf3f6e865a889e8742481e7e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ae7fba4bbf3f6e865a889e8742481e7e4">sql_regex</a> ($positivematch=true, $casesensitive=false)</td></tr>
<tr class="memdesc:ae7fba4bbf3f6e865a889e8742481e7e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the driver specific syntax (SQL part) for matching regex positively or negatively (inverted matching).  <br /></td></tr>
<tr class="separator:ae7fba4bbf3f6e865a889e8742481e7e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52bf2f972a7f4e6a5f6456bf36cfedce" id="r_a52bf2f972a7f4e6a5f6456bf36cfedce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a52bf2f972a7f4e6a5f6456bf36cfedce">sql_regex_get_word_beginning_boundary_marker</a> ()</td></tr>
<tr class="memdesc:a52bf2f972a7f4e6a5f6456bf36cfedce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the word-beginning boundary marker if this database driver supports regex syntax when searching.  <br /></td></tr>
<tr class="separator:a52bf2f972a7f4e6a5f6456bf36cfedce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2313430109d2e2c6625d0462fca7d1b8" id="r_a2313430109d2e2c6625d0462fca7d1b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a2313430109d2e2c6625d0462fca7d1b8">sql_regex_get_word_end_boundary_marker</a> ()</td></tr>
<tr class="memdesc:a2313430109d2e2c6625d0462fca7d1b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the word-end boundary marker if this database driver supports regex syntax when searching.  <br /></td></tr>
<tr class="separator:a2313430109d2e2c6625d0462fca7d1b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2372afdf1879c5b986f9ea5e04352304" id="r_a2372afdf1879c5b986f9ea5e04352304"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a2372afdf1879c5b986f9ea5e04352304">sql_regex_supported</a> ()</td></tr>
<tr class="memdesc:a2372afdf1879c5b986f9ea5e04352304"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this database driver supports regex syntax when searching.  <br /></td></tr>
<tr class="separator:a2372afdf1879c5b986f9ea5e04352304"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bec22642abe1fe63bf0c82b5206a6e4" id="r_a1bec22642abe1fe63bf0c82b5206a6e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a1bec22642abe1fe63bf0c82b5206a6e4">sql_substr</a> ($expr, $start, $length=false)</td></tr>
<tr class="memdesc:a1bec22642abe1fe63bf0c82b5206a6e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the proper substr() SQL text used to extract substrings from <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> NOTE: this was originally returning only function name.  <br /></td></tr>
<tr class="separator:a1bec22642abe1fe63bf0c82b5206a6e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f26ff20924496ec4d7b12003e4bb9cf" id="r_a5f26ff20924496ec4d7b12003e4bb9cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a5f26ff20924496ec4d7b12003e4bb9cf">start_delegated_transaction</a> ()</td></tr>
<tr class="memdesc:a5f26ff20924496ec4d7b12003e4bb9cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">On DBs that support it, switch to transaction mode and begin a transaction you'll need to ensure you call allow_commit() on the returned object or your changes <em>will</em> be lost.  <br /></td></tr>
<tr class="separator:a5f26ff20924496ec4d7b12003e4bb9cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5788c52d917e79d2c95464809732aae" id="r_ac5788c52d917e79d2c95464809732aae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ac5788c52d917e79d2c95464809732aae">transactions_forbidden</a> ()</td></tr>
<tr class="memdesc:ac5788c52d917e79d2c95464809732aae"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a test that throws an exception if transaction in progress.  <br /></td></tr>
<tr class="separator:ac5788c52d917e79d2c95464809732aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a386ab63a6ed9074fff21bdbdae223f41" id="r_a386ab63a6ed9074fff21bdbdae223f41"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a386ab63a6ed9074fff21bdbdae223f41">update_record</a> ($table, $dataobject, $bulk=false)</td></tr>
<tr class="memdesc:a386ab63a6ed9074fff21bdbdae223f41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a record in a table.  <br /></td></tr>
<tr class="separator:a386ab63a6ed9074fff21bdbdae223f41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50b4ecea27057aa55f0a822572644bb5" id="r_a50b4ecea27057aa55f0a822572644bb5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a50b4ecea27057aa55f0a822572644bb5">update_record_raw</a> ($table, $params, $bulk=false)</td></tr>
<tr class="memdesc:a50b4ecea27057aa55f0a822572644bb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update record in database, as fast as possible, no safety checks, lobs not supported.  <br /></td></tr>
<tr class="separator:a50b4ecea27057aa55f0a822572644bb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0bcbea24c115fc7c14d8db268255df8" id="r_af0bcbea24c115fc7c14d8db268255df8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#af0bcbea24c115fc7c14d8db268255df8">update_temp_table_stats</a> ()</td></tr>
<tr class="memdesc:af0bcbea24c115fc7c14d8db268255df8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyze the data in temporary tables to force statistics collection after bulk data loads.  <br /></td></tr>
<tr class="separator:af0bcbea24c115fc7c14d8db268255df8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3edae032155bebcb42baaa3a97d8a34" id="r_af3edae032155bebcb42baaa3a97d8a34"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#af3edae032155bebcb42baaa3a97d8a34">want_read_replica</a> ()</td></tr>
<tr class="memdesc:af3edae032155bebcb42baaa3a97d8a34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether we want to connect to replica database for read queries.  <br /></td></tr>
<tr class="separator:af3edae032155bebcb42baaa3a97d8a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a0c73988370f8a4433b6cf8d7bbf8752f" id="r_a0c73988370f8a4433b6cf8d7bbf8752f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a0c73988370f8a4433b6cf8d7bbf8752f">get_driver_instance</a> ($type, $library, $external=false)</td></tr>
<tr class="memdesc:a0c73988370f8a4433b6cf8d7bbf8752f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads and returns a database instance with the specified type and library.  <br /></td></tr>
<tr class="separator:a0c73988370f8a4433b6cf8d7bbf8752f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:acd93a51ea24daa4c930d2fb4a45f83a1" id="r_acd93a51ea24daa4c930d2fb4a45f83a1"><td class="memItemLeft" align="right" valign="top">replacement&#160;</td><td class="memItemRight" valign="bottom">: '<a class="el" href="../../d3/d6e/classmoodle__database.html#af3edae032155bebcb42baaa3a97d8a34">want_read_replica</a>'</td></tr>
<tr class="memdesc:acd93a51ea24daa4c930d2fb4a45f83a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether we want to connect to slave database for read queries.  <br /></td></tr>
<tr class="separator:acd93a51ea24daa4c930d2fb4a45f83a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc94d1b2b078d795a08fc9e51cb4dda8" id="r_afc94d1b2b078d795a08fc9e51cb4dda8"><td class="memItemLeft" align="right" valign="top">replacement&#160;</td><td class="memItemRight" valign="bottom">: '<a class="el" href="../../d3/d6e/classmoodle__database.html#aede2b6f470152fcb31b1011e4a0a3c9d">perf_get_reads_replica</a>'</td></tr>
<tr class="memdesc:afc94d1b2b078d795a08fc9e51cb4dda8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of reads before first write done by this database.  <br /></td></tr>
<tr class="separator:afc94d1b2b078d795a08fc9e51cb4dda8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5071494c024a0b12ab7ce37dd95dfd99" id="r_a5071494c024a0b12ab7ce37dd95dfd99"><td class="memItemLeft" align="right" valign="top"><a id="a5071494c024a0b12ab7ce37dd95dfd99" name="a5071494c024a0b12ab7ce37dd95dfd99"></a>
return&#160;</td><td class="memItemRight" valign="bottom"><b>false</b></td></tr>
<tr class="separator:a5071494c024a0b12ab7ce37dd95dfd99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab129ac764e08cd8d96d15663094cd522" id="r_ab129ac764e08cd8d96d15663094cd522"><td class="memItemLeft" align="right" valign="top"><a id="ab129ac764e08cd8d96d15663094cd522" name="ab129ac764e08cd8d96d15663094cd522"></a>
replacement&#160;</td><td class="memItemRight" valign="bottom"><b>mdl</b>: '&lt;a class=&quot;el&quot; href=&quot;https: reason: 'Renamed' )] public function want_read_slave(): bool { <a class="el" href="../../dd/ddd/classcore_1_1deprecation.html#aa6a2a0314495a710cd681ca96146679d">core\deprecation::emit_deprecation_if_present</a>(__FUNCTION__)</td></tr>
<tr class="separator:ab129ac764e08cd8d96d15663094cd522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaf43de9920ba1c39733621b137c9ab4" id="r_abaf43de9920ba1c39733621b137c9ab4"><td class="memItemLeft" align="right" valign="top"><a id="abaf43de9920ba1c39733621b137c9ab4" name="abaf43de9920ba1c39733621b137c9ab4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>return</b></td></tr>
<tr class="separator:abaf43de9920ba1c39733621b137c9ab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab673a3e287494dc101a752f9649bcf95" id="r_ab673a3e287494dc101a752f9649bcf95"><td class="memItemLeft" align="right" valign="top"><a id="ab673a3e287494dc101a752f9649bcf95" name="ab673a3e287494dc101a752f9649bcf95"></a>
replacement&#160;</td><td class="memItemRight" valign="bottom"><b>since</b>: '5.0'</td></tr>
<tr class="separator:ab673a3e287494dc101a752f9649bcf95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a0068ad25e4eef063fc699f424f341b90" id="r_a0068ad25e4eef063fc699f424f341b90"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a0068ad25e4eef063fc699f424f341b90">add_sql_debugging</a> (string $sql)</td></tr>
<tr class="memdesc:a0068ad25e4eef063fc699f424f341b90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an SQL comment to trace all sql calls back to the calling php code.  <br /></td></tr>
<tr class="separator:a0068ad25e4eef063fc699f424f341b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abce610b1a8f6e95fe53384b1231d07fd" id="r_abce610b1a8f6e95fe53384b1231d07fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abce610b1a8f6e95fe53384b1231d07fd">allowed_param_types</a> ()</td></tr>
<tr class="memdesc:abce610b1a8f6e95fe53384b1231d07fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns supported query parameter types.  <br /></td></tr>
<tr class="separator:abce610b1a8f6e95fe53384b1231d07fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6b489761b809df86cf9da90e1e2600a" id="r_af6b489761b809df86cf9da90e1e2600a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af6b489761b809df86cf9da90e1e2600a">begin_transaction</a> ()</td></tr>
<tr class="memdesc:af6b489761b809df86cf9da90e1e2600a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver specific start of real database transaction, this can not be used directly in code.  <br /></td></tr>
<tr class="separator:af6b489761b809df86cf9da90e1e2600a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d561ae8e0d059cd7335c7b5c6640289" id="r_a6d561ae8e0d059cd7335c7b5c6640289"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d561ae8e0d059cd7335c7b5c6640289">commit_transaction</a> ()</td></tr>
<tr class="memdesc:a6d561ae8e0d059cd7335c7b5c6640289"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver specific commit of real database transaction, this can not be used directly in code.  <br /></td></tr>
<tr class="separator:a6d561ae8e0d059cd7335c7b5c6640289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a364365bc571947144715e48eb1f78e0e" id="r_a364365bc571947144715e48eb1f78e0e"><td class="memItemLeft" align="right" valign="top"><a id="a364365bc571947144715e48eb1f78e0e" name="a364365bc571947144715e48eb1f78e0e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>configure_dbconnection</b> ()</td></tr>
<tr class="separator:a364365bc571947144715e48eb1f78e0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70ed4a0289b186cfe00b78a8670e741a" id="r_a70ed4a0289b186cfe00b78a8670e741a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70ed4a0289b186cfe00b78a8670e741a">create_recordset</a> ($sth)</td></tr>
<tr class="memdesc:a70ed4a0289b186cfe00b78a8670e741a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Factory method that creates a recordset for return by a query.  <br /></td></tr>
<tr class="separator:a70ed4a0289b186cfe00b78a8670e741a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac168689baa5978f6226c792e9f813d7b" id="r_ac168689baa5978f6226c792e9f813d7b"><td class="memItemLeft" align="right" valign="top"><a id="ac168689baa5978f6226c792e9f813d7b" name="ac168689baa5978f6226c792e9f813d7b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>debug_query</b> ($sql, $params=null)</td></tr>
<tr class="memdesc:ac168689baa5978f6226c792e9f813d7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to print/save/ignore debugging messages related to SQL queries. <br /></td></tr>
<tr class="separator:ac168689baa5978f6226c792e9f813d7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a110ef84973d48ab49c3f9847dd3d3650" id="r_a110ef84973d48ab49c3f9847dd3d3650"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a110ef84973d48ab49c3f9847dd3d3650">detect_objects</a> ($value)</td></tr>
<tr class="memdesc:a110ef84973d48ab49c3f9847dd3d3650"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detects object parameters and throws exception if found.  <br /></td></tr>
<tr class="separator:a110ef84973d48ab49c3f9847dd3d3650"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75bb7b3490f7c0a2d531dc345ee8d58e" id="r_a75bb7b3490f7c0a2d531dc345ee8d58e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a75bb7b3490f7c0a2d531dc345ee8d58e">fetch_columns</a> (string $table)</td></tr>
<tr class="memdesc:a75bb7b3490f7c0a2d531dc345ee8d58e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns detailed information about columns in table.  <br /></td></tr>
<tr class="separator:a75bb7b3490f7c0a2d531dc345ee8d58e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a487eab5aa7b0cef210fcbcd9d175a4ab" id="r_a487eab5aa7b0cef210fcbcd9d175a4ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a487eab5aa7b0cef210fcbcd9d175a4ab">fix_table_name</a> ($tablename)</td></tr>
<tr class="memdesc:a487eab5aa7b0cef210fcbcd9d175a4ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the prefix to the table name.  <br /></td></tr>
<tr class="separator:a487eab5aa7b0cef210fcbcd9d175a4ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a926b0db9c78637448947a0482414dd7a" id="r_a926b0db9c78637448947a0482414dd7a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a926b0db9c78637448947a0482414dd7a">fix_table_names</a> ($sql)</td></tr>
<tr class="memdesc:a926b0db9c78637448947a0482414dd7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts short table name {tablename} to the real prefixed table name in given sql.  <br /></td></tr>
<tr class="separator:a926b0db9c78637448947a0482414dd7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97bf889466aeeac79058b708c425c108" id="r_a97bf889466aeeac79058b708c425c108"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97bf889466aeeac79058b708c425c108">get_dblibrary</a> ()</td></tr>
<tr class="memdesc:a97bf889466aeeac79058b708c425c108"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns general database library name Note: can be used before <a class="el" href="#ad156ad200af39e06823449953b9eb31c" title="Connect to db Must be called before other methods.">connect()</a>  <br /></td></tr>
<tr class="separator:a97bf889466aeeac79058b708c425c108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4b33ff2b22a5d84cf16b5db95195bb4" id="r_ac4b33ff2b22a5d84cf16b5db95195bb4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ac4b33ff2b22a5d84cf16b5db95195bb4">get_dbtype</a> ()</td></tr>
<tr class="memdesc:ac4b33ff2b22a5d84cf16b5db95195bb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a more specific database driver type Note: can be used before <a class="el" href="../../d0/de1/group__core.html#ga3ae73c52b49526f5a21cf02a3c1fceee" title="Connect to db.">connect()</a>  <br /></td></tr>
<tr class="separator:ac4b33ff2b22a5d84cf16b5db95195bb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6da5a47ab7ea54f0b4b155fef5615ace" id="r_a6da5a47ab7ea54f0b4b155fef5615ace"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6da5a47ab7ea54f0b4b155fef5615ace">get_dsn</a> ()</td></tr>
<tr class="memdesc:a6da5a47ab7ea54f0b4b155fef5615ace"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the driver-dependent DSN for PDO based on members stored by connect.  <br /></td></tr>
<tr class="separator:a6da5a47ab7ea54f0b4b155fef5615ace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac30d3f55af00560ad154cbf7341f2750" id="r_ac30d3f55af00560ad154cbf7341f2750"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ac30d3f55af00560ad154cbf7341f2750">get_metacache</a> ()</td></tr>
<tr class="memdesc:ac30d3f55af00560ad154cbf7341f2750"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle the creation and caching of the databasemeta information for all databases.  <br /></td></tr>
<tr class="separator:ac30d3f55af00560ad154cbf7341f2750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49fa1159bddb6703a4de07becd56bccc" id="r_a49fa1159bddb6703a4de07becd56bccc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49fa1159bddb6703a4de07becd56bccc">get_pdooptions</a> ()</td></tr>
<tr class="memdesc:a49fa1159bddb6703a4de07becd56bccc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the driver-dependent connection attributes for PDO based on members stored by connect.  <br /></td></tr>
<tr class="separator:a49fa1159bddb6703a4de07becd56bccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af44d6d3d48dc67c72d6143949a023ba8" id="r_af44d6d3d48dc67c72d6143949a023ba8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#af44d6d3d48dc67c72d6143949a023ba8">get_settings_hash</a> ()</td></tr>
<tr class="memdesc:af44d6d3d48dc67c72d6143949a023ba8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a hash for the settings used during connection.  <br /></td></tr>
<tr class="separator:af44d6d3d48dc67c72d6143949a023ba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe146e06552bdb6da89ca32cab04c754" id="r_afe146e06552bdb6da89ca32cab04c754"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#afe146e06552bdb6da89ca32cab04c754">get_temp_tables_cache</a> ()</td></tr>
<tr class="memdesc:afe146e06552bdb6da89ca32cab04c754"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle the creation and caching of the temporary tables.  <br /></td></tr>
<tr class="separator:afe146e06552bdb6da89ca32cab04c754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7696933b02ece447e69a29117b087583" id="r_a7696933b02ece447e69a29117b087583"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a7696933b02ece447e69a29117b087583">normalise_limit_from_num</a> ($limitfrom, $limitnum)</td></tr>
<tr class="memdesc:a7696933b02ece447e69a29117b087583"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensures that limit params are numeric and positive integers, to be passed to the database.  <br /></td></tr>
<tr class="separator:a7696933b02ece447e69a29117b087583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a722c575a19352a93bd472b29b7122c04" id="r_a722c575a19352a93bd472b29b7122c04"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a722c575a19352a93bd472b29b7122c04">normalise_value</a> ($column, $value)</td></tr>
<tr class="memdesc:a722c575a19352a93bd472b29b7122c04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalise values based on varying RDBMS's dependencies (booleans, LOBs...)  <br /></td></tr>
<tr class="separator:a722c575a19352a93bd472b29b7122c04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa22068a8553ee63304484bab2798178" id="r_aaa22068a8553ee63304484bab2798178"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#aaa22068a8553ee63304484bab2798178">print_debug</a> ($sql, ?array $params=null, $obj=null)</td></tr>
<tr class="memdesc:aaa22068a8553ee63304484bab2798178"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints sql debug info.  <br /></td></tr>
<tr class="separator:aaa22068a8553ee63304484bab2798178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af68a46c6ba0287f470ae0b7d4272b5f3" id="r_af68a46c6ba0287f470ae0b7d4272b5f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#af68a46c6ba0287f470ae0b7d4272b5f3">print_debug_time</a> ()</td></tr>
<tr class="memdesc:af68a46c6ba0287f470ae0b7d4272b5f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the time a query took to run.  <br /></td></tr>
<tr class="separator:af68a46c6ba0287f470ae0b7d4272b5f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af73ba05471d4c50e266ca117006b0174" id="r_af73ba05471d4c50e266ca117006b0174"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#af73ba05471d4c50e266ca117006b0174">query_end</a> ($result)</td></tr>
<tr class="memdesc:af73ba05471d4c50e266ca117006b0174"><td class="mdescLeft">&#160;</td><td class="mdescRight">This should be called immediately after each db query.  <br /></td></tr>
<tr class="separator:af73ba05471d4c50e266ca117006b0174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3777b67ffc20d229fd34ce8d6e49bbc1" id="r_a3777b67ffc20d229fd34ce8d6e49bbc1"><td class="memItemLeft" align="right" valign="top"><a id="a3777b67ffc20d229fd34ce8d6e49bbc1" name="a3777b67ffc20d229fd34ce8d6e49bbc1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>query_log_allow</b> ()</td></tr>
<tr class="memdesc:a3777b67ffc20d229fd34ce8d6e49bbc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore old logging behavior. <br /></td></tr>
<tr class="separator:a3777b67ffc20d229fd34ce8d6e49bbc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae736dd6147181783e38360930e052e76" id="r_ae736dd6147181783e38360930e052e76"><td class="memItemLeft" align="right" valign="top"><a id="ae736dd6147181783e38360930e052e76" name="ae736dd6147181783e38360930e052e76"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>query_log_prevent</b> ()</td></tr>
<tr class="memdesc:ae736dd6147181783e38360930e052e76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable logging temporarily. <br /></td></tr>
<tr class="separator:ae736dd6147181783e38360930e052e76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4308599a8db9b382fa4e977cef4a6168" id="r_a4308599a8db9b382fa4e977cef4a6168"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4308599a8db9b382fa4e977cef4a6168">query_start</a> ($sql, ?array $params, $type, $extrainfo=null)</td></tr>
<tr class="memdesc:a4308599a8db9b382fa4e977cef4a6168"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called before each db query.  <br /></td></tr>
<tr class="separator:a4308599a8db9b382fa4e977cef4a6168"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f19d95c9bf5d29ea5cfc5063ce24af5" id="r_a6f19d95c9bf5d29ea5cfc5063ce24af5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a6f19d95c9bf5d29ea5cfc5063ce24af5">query_time</a> ()</td></tr>
<tr class="memdesc:a6f19d95c9bf5d29ea5cfc5063ce24af5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the time elapsed since the query started.  <br /></td></tr>
<tr class="separator:a6f19d95c9bf5d29ea5cfc5063ce24af5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1927f39db382df39427e25f89f907a11" id="r_a1927f39db382df39427e25f89f907a11"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1927f39db382df39427e25f89f907a11">rollback_transaction</a> ()</td></tr>
<tr class="memdesc:a1927f39db382df39427e25f89f907a11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver specific abort of real database transaction, this can not be used directly in code.  <br /></td></tr>
<tr class="separator:a1927f39db382df39427e25f89f907a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a161e60ee2e05393bf0163460a92fbf7d" id="r_a161e60ee2e05393bf0163460a92fbf7d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a161e60ee2e05393bf0163460a92fbf7d">store_settings</a> ($dbhost, $dbuser, $dbpass, $dbname, $prefix, ?array $dboptions=null)</td></tr>
<tr class="memdesc:a161e60ee2e05393bf0163460a92fbf7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store various database settings.  <br /></td></tr>
<tr class="separator:a161e60ee2e05393bf0163460a92fbf7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaec9d44ef9c71181a5e15abe64052947" id="r_aaec9d44ef9c71181a5e15abe64052947"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#aaec9d44ef9c71181a5e15abe64052947">transactions_supported</a> ()</td></tr>
<tr class="memdesc:aaec9d44ef9c71181a5e15abe64052947"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks and returns true if transactions are supported.  <br /></td></tr>
<tr class="separator:aaec9d44ef9c71181a5e15abe64052947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d65ccf297cbad247020bacd16e5f2e1" id="r_a0d65ccf297cbad247020bacd16e5f2e1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a0d65ccf297cbad247020bacd16e5f2e1">where_clause</a> ($table, ?array $conditions=null)</td></tr>
<tr class="memdesc:a0d65ccf297cbad247020bacd16e5f2e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL WHERE conditions.  <br /></td></tr>
<tr class="separator:a0d65ccf297cbad247020bacd16e5f2e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee549c23eaf78db12ba079a9e0279e59" id="r_aee549c23eaf78db12ba079a9e0279e59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#aee549c23eaf78db12ba079a9e0279e59">where_clause_list</a> ($field, array $values)</td></tr>
<tr class="memdesc:aee549c23eaf78db12ba079a9e0279e59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns SQL WHERE conditions for the ..._list group of methods.  <br /></td></tr>
<tr class="separator:aee549c23eaf78db12ba079a9e0279e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a8cf858a9e1b3fe8a82df2e12e5b390c6" id="r_a8cf858a9e1b3fe8a82df2e12e5b390c6"><td class="memItemLeft" align="right" valign="top"><a id="a8cf858a9e1b3fe8a82df2e12e5b390c6" name="a8cf858a9e1b3fe8a82df2e12e5b390c6"></a>
<a class="el" href="../../de/dd9/classdatabase__manager.html">database_manager</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$database_manager</b></td></tr>
<tr class="memdesc:a8cf858a9e1b3fe8a82df2e12e5b390c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">db manager which allows db structure modifications. <br /></td></tr>
<tr class="separator:a8cf858a9e1b3fe8a82df2e12e5b390c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c0364b175adb1ca356a1211a41cfee2" id="r_a1c0364b175adb1ca356a1211a41cfee2"><td class="memItemLeft" align="right" valign="top"><a id="a1c0364b175adb1ca356a1211a41cfee2" name="a1c0364b175adb1ca356a1211a41cfee2"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$dbhost</b></td></tr>
<tr class="memdesc:a1c0364b175adb1ca356a1211a41cfee2"><td class="mdescLeft">&#160;</td><td class="mdescRight">db host name. <br /></td></tr>
<tr class="separator:a1c0364b175adb1ca356a1211a41cfee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50afa0f0b5ebce639e68a042c1faac1f" id="r_a50afa0f0b5ebce639e68a042c1faac1f"><td class="memItemLeft" align="right" valign="top"><a id="a50afa0f0b5ebce639e68a042c1faac1f" name="a50afa0f0b5ebce639e68a042c1faac1f"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$dbname</b></td></tr>
<tr class="memdesc:a50afa0f0b5ebce639e68a042c1faac1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">db name. <br /></td></tr>
<tr class="separator:a50afa0f0b5ebce639e68a042c1faac1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34e05e58cd41eff748823cf7bfe1cf92" id="r_a34e05e58cd41eff748823cf7bfe1cf92"><td class="memItemLeft" align="right" valign="top"><a id="a34e05e58cd41eff748823cf7bfe1cf92" name="a34e05e58cd41eff748823cf7bfe1cf92"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$dboptions</b></td></tr>
<tr class="memdesc:a34e05e58cd41eff748823cf7bfe1cf92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Database or driver specific options, such as sockets or TCP/IP db connections. <br /></td></tr>
<tr class="separator:a34e05e58cd41eff748823cf7bfe1cf92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f6e7637e8af89d250d0c536c96f778d" id="r_a8f6e7637e8af89d250d0c536c96f778d"><td class="memItemLeft" align="right" valign="top"><a id="a8f6e7637e8af89d250d0c536c96f778d" name="a8f6e7637e8af89d250d0c536c96f778d"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$dbpass</b></td></tr>
<tr class="memdesc:a8f6e7637e8af89d250d0c536c96f778d"><td class="mdescLeft">&#160;</td><td class="mdescRight">db host password. <br /></td></tr>
<tr class="separator:a8f6e7637e8af89d250d0c536c96f778d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a589cf875d0dfa7327a57034927477793" id="r_a589cf875d0dfa7327a57034927477793"><td class="memItemLeft" align="right" valign="top"><a id="a589cf875d0dfa7327a57034927477793" name="a589cf875d0dfa7327a57034927477793"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$dbuser</b></td></tr>
<tr class="memdesc:a589cf875d0dfa7327a57034927477793"><td class="mdescLeft">&#160;</td><td class="mdescRight">db host user. <br /></td></tr>
<tr class="separator:a589cf875d0dfa7327a57034927477793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18bbd9c4003a07b23653ae9f98cca215" id="r_a18bbd9c4003a07b23653ae9f98cca215"><td class="memItemLeft" align="right" valign="top"><a id="a18bbd9c4003a07b23653ae9f98cca215" name="a18bbd9c4003a07b23653ae9f98cca215"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$debug</b> = 0</td></tr>
<tr class="memdesc:a18bbd9c4003a07b23653ae9f98cca215"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debug level. <br /></td></tr>
<tr class="separator:a18bbd9c4003a07b23653ae9f98cca215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8af882b9a304208efa3b422d26220088" id="r_a8af882b9a304208efa3b422d26220088"><td class="memItemLeft" align="right" valign="top"><a id="a8af882b9a304208efa3b422d26220088" name="a8af882b9a304208efa3b422d26220088"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>$disposed</b></td></tr>
<tr class="memdesc:a8af882b9a304208efa3b422d26220088"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag marking database instance as disposed <br /></td></tr>
<tr class="separator:a8af882b9a304208efa3b422d26220088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f98ec4a3814195bea8997fb23bce3d2" id="r_a0f98ec4a3814195bea8997fb23bce3d2"><td class="memItemLeft" align="right" valign="top"><a id="a0f98ec4a3814195bea8997fb23bce3d2" name="a0f98ec4a3814195bea8997fb23bce3d2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>$external</b></td></tr>
<tr class="memdesc:a0f98ec4a3814195bea8997fb23bce3d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">True means non-moodle external database used. <br /></td></tr>
<tr class="separator:a0f98ec4a3814195bea8997fb23bce3d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fa841ae6b4c000c77d2c4f2c68842c4" id="r_a3fa841ae6b4c000c77d2c4f2c68842c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a3fa841ae6b4c000c77d2c4f2c68842c4">$inorequaluniqueindex</a> = 1</td></tr>
<tr class="memdesc:a3fa841ae6b4c000c77d2c4f2c68842c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">internal temporary variable used to guarantee unique parameters in each request.  <br /></td></tr>
<tr class="separator:a3fa841ae6b4c000c77d2c4f2c68842c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f3c05d0cdf7e3240e1e4f5bc0afd77" id="r_af4f3c05d0cdf7e3240e1e4f5bc0afd77"><td class="memItemLeft" align="right" valign="top"><a id="af4f3c05d0cdf7e3240e1e4f5bc0afd77" name="af4f3c05d0cdf7e3240e1e4f5bc0afd77"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$last_extrainfo</b></td></tr>
<tr class="memdesc:af4f3c05d0cdf7e3240e1e4f5bc0afd77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last extra info. <br /></td></tr>
<tr class="separator:af4f3c05d0cdf7e3240e1e4f5bc0afd77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a825ebfe92bcab92f1a6a18d48c9dd02c" id="r_a825ebfe92bcab92f1a6a18d48c9dd02c"><td class="memItemLeft" align="right" valign="top"><a id="a825ebfe92bcab92f1a6a18d48c9dd02c" name="a825ebfe92bcab92f1a6a18d48c9dd02c"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$last_params</b></td></tr>
<tr class="memdesc:a825ebfe92bcab92f1a6a18d48c9dd02c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last query parameters. <br /></td></tr>
<tr class="separator:a825ebfe92bcab92f1a6a18d48c9dd02c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f5b51d40187f2bc389f7310f131609f" id="r_a9f5b51d40187f2bc389f7310f131609f"><td class="memItemLeft" align="right" valign="top"><a id="a9f5b51d40187f2bc389f7310f131609f" name="a9f5b51d40187f2bc389f7310f131609f"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$last_sql</b></td></tr>
<tr class="memdesc:a9f5b51d40187f2bc389f7310f131609f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last used query sql. <br /></td></tr>
<tr class="separator:a9f5b51d40187f2bc389f7310f131609f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a799a582a7ea9c734d67eb9189de4f68f" id="r_a799a582a7ea9c734d67eb9189de4f68f"><td class="memItemLeft" align="right" valign="top"><a id="a799a582a7ea9c734d67eb9189de4f68f" name="a799a582a7ea9c734d67eb9189de4f68f"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>$last_time</b></td></tr>
<tr class="memdesc:a799a582a7ea9c734d67eb9189de4f68f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last time in seconds with millisecond precision. <br /></td></tr>
<tr class="separator:a799a582a7ea9c734d67eb9189de4f68f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc27bf5125a095c45fbd9ff9120f17b4" id="r_afc27bf5125a095c45fbd9ff9120f17b4"><td class="memItemLeft" align="right" valign="top"><a id="afc27bf5125a095c45fbd9ff9120f17b4" name="afc27bf5125a095c45fbd9ff9120f17b4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$last_type</b></td></tr>
<tr class="memdesc:afc27bf5125a095c45fbd9ff9120f17b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last query type. <br /></td></tr>
<tr class="separator:afc27bf5125a095c45fbd9ff9120f17b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c03146944fceded5f4799ebee4130e9" id="r_a2c03146944fceded5f4799ebee4130e9"><td class="memItemLeft" align="right" valign="top"><a id="a2c03146944fceded5f4799ebee4130e9" name="a2c03146944fceded5f4799ebee4130e9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$lastError</b> = null</td></tr>
<tr class="separator:a2c03146944fceded5f4799ebee4130e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98b3aaf27e355265db1838e10b49d49b" id="r_a98b3aaf27e355265db1838e10b49d49b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a98b3aaf27e355265db1838e10b49d49b">$loggingquery</a> = false</td></tr>
<tr class="memdesc:a98b3aaf27e355265db1838e10b49d49b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating logging of query in progress.  <br /></td></tr>
<tr class="separator:a98b3aaf27e355265db1838e10b49d49b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7072a30d714c852b07ee839f2c7521" id="r_aca7072a30d714c852b07ee839f2c7521"><td class="memItemLeft" align="right" valign="top"><a id="aca7072a30d714c852b07ee839f2c7521" name="aca7072a30d714c852b07ee839f2c7521"></a>
cache_application&#160;</td><td class="memItemRight" valign="bottom"><b>$metacache</b></td></tr>
<tr class="memdesc:aca7072a30d714c852b07ee839f2c7521"><td class="mdescLeft">&#160;</td><td class="mdescRight">for column info <br /></td></tr>
<tr class="separator:aca7072a30d714c852b07ee839f2c7521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a367eaf5cad8acda505530eccaa0703d8" id="r_a367eaf5cad8acda505530eccaa0703d8"><td class="memItemLeft" align="right" valign="top"><a id="a367eaf5cad8acda505530eccaa0703d8" name="a367eaf5cad8acda505530eccaa0703d8"></a>
cache_application cache_session cache_store&#160;</td><td class="memItemRight" valign="bottom"><b>$metacachetemp</b></td></tr>
<tr class="memdesc:a367eaf5cad8acda505530eccaa0703d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">for column info on temp tables <br /></td></tr>
<tr class="separator:a367eaf5cad8acda505530eccaa0703d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4cd30c3cd35792c7f7ebc452eda5e7c" id="r_ae4cd30c3cd35792c7f7ebc452eda5e7c"><td class="memItemLeft" align="right" valign="top"><a id="ae4cd30c3cd35792c7f7ebc452eda5e7c" name="ae4cd30c3cd35792c7f7ebc452eda5e7c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$pdb</b></td></tr>
<tr class="separator:ae4cd30c3cd35792c7f7ebc452eda5e7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1ef136d2cb6f7770cb717d4908a31f7" id="r_ad1ef136d2cb6f7770cb717d4908a31f7"><td class="memItemLeft" align="right" valign="top"><a id="ad1ef136d2cb6f7770cb717d4908a31f7" name="ad1ef136d2cb6f7770cb717d4908a31f7"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$prefix</b></td></tr>
<tr class="memdesc:ad1ef136d2cb6f7770cb717d4908a31f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prefix added to table names. <br /></td></tr>
<tr class="separator:ad1ef136d2cb6f7770cb717d4908a31f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4cd7d4b152a949e1da6b92ca8b60b67" id="r_aa4cd7d4b152a949e1da6b92ca8b60b67"><td class="memItemLeft" align="right" valign="top"><a id="aa4cd7d4b152a949e1da6b92ca8b60b67" name="aa4cd7d4b152a949e1da6b92ca8b60b67"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>$queriestime</b> = 0</td></tr>
<tr class="memdesc:aa4cd7d4b152a949e1da6b92ca8b60b67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time queries took to finish, seconds with microseconds. <br /></td></tr>
<tr class="separator:aa4cd7d4b152a949e1da6b92ca8b60b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c4e84bde70fcce41f52a84dbc7f0001" id="r_a3c4e84bde70fcce41f52a84dbc7f0001"><td class="memItemLeft" align="right" valign="top"><a id="a3c4e84bde70fcce41f52a84dbc7f0001" name="a3c4e84bde70fcce41f52a84dbc7f0001"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$reads</b> = 0</td></tr>
<tr class="memdesc:a3c4e84bde70fcce41f52a84dbc7f0001"><td class="mdescLeft">&#160;</td><td class="mdescRight">The database reads (performance counter). <br /></td></tr>
<tr class="separator:a3c4e84bde70fcce41f52a84dbc7f0001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05ef6253ee6c835f293daf39e66d32ac" id="r_a05ef6253ee6c835f293daf39e66d32ac"><td class="memItemLeft" align="right" valign="top"><a id="a05ef6253ee6c835f293daf39e66d32ac" name="a05ef6253ee6c835f293daf39e66d32ac"></a>
boolean&#160;</td><td class="memItemRight" valign="bottom"><b>$skiplogging</b> = false</td></tr>
<tr class="memdesc:a05ef6253ee6c835f293daf39e66d32ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">variable use to temporarily disable logging. <br /></td></tr>
<tr class="separator:a05ef6253ee6c835f293daf39e66d32ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5118bd480f75339b2c4915095fd30c6" id="r_af5118bd480f75339b2c4915095fd30c6"><td class="memItemLeft" align="right" valign="top"><a id="af5118bd480f75339b2c4915095fd30c6" name="af5118bd480f75339b2c4915095fd30c6"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$tables</b> = null</td></tr>
<tr class="memdesc:af5118bd480f75339b2c4915095fd30c6"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../dc/d67/class_cache.html" title="Used to create cache objects.">Cache</a> of table info. <br /></td></tr>
<tr class="separator:af5118bd480f75339b2c4915095fd30c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2052ace7088bc2445906134247d4a57" id="r_ab2052ace7088bc2445906134247d4a57"><td class="memItemLeft" align="right" valign="top"><a id="ab2052ace7088bc2445906134247d4a57" name="ab2052ace7088bc2445906134247d4a57"></a>
<a class="el" href="../../d3/d68/classmoodle__temptables.html">moodle_temptables</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$temptables</b></td></tr>
<tr class="memdesc:ab2052ace7088bc2445906134247d4a57"><td class="mdescLeft">&#160;</td><td class="mdescRight">temptables manager to provide cross-db support for temp tables. <br /></td></tr>
<tr class="separator:ab2052ace7088bc2445906134247d4a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a619f8ea23d0850cadd8f8bec6ea563" id="r_a6a619f8ea23d0850cadd8f8bec6ea563"><td class="memItemLeft" align="right" valign="top"><a id="a6a619f8ea23d0850cadd8f8bec6ea563" name="a6a619f8ea23d0850cadd8f8bec6ea563"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$transactions</b> = array()</td></tr>
<tr class="memdesc:a6a619f8ea23d0850cadd8f8bec6ea563"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array containing open transactions. <br /></td></tr>
<tr class="separator:a6a619f8ea23d0850cadd8f8bec6ea563"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70e23ca84e80675c166c8891951b4b8a" id="r_a70e23ca84e80675c166c8891951b4b8a"><td class="memItemLeft" align="right" valign="top"><a id="a70e23ca84e80675c166c8891951b4b8a" name="a70e23ca84e80675c166c8891951b4b8a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>$used_for_db_sessions</b> = false</td></tr>
<tr class="memdesc:a70e23ca84e80675c166c8891951b4b8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if the db is used for db sessions. <br /></td></tr>
<tr class="separator:a70e23ca84e80675c166c8891951b4b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023e454cebf2120b9854742e0333a482" id="r_a023e454cebf2120b9854742e0333a482"><td class="memItemLeft" align="right" valign="top"><a id="a023e454cebf2120b9854742e0333a482" name="a023e454cebf2120b9854742e0333a482"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$writes</b> = 0</td></tr>
<tr class="memdesc:a023e454cebf2120b9854742e0333a482"><td class="mdescLeft">&#160;</td><td class="mdescRight">The database writes (performance counter). <br /></td></tr>
<tr class="separator:a023e454cebf2120b9854742e0333a482"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Experimental pdo database class. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2008 Andrei Bautu </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a427be9af9e7426b7198a16748568f813" name="a427be9af9e7426b7198a16748568f813"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a427be9af9e7426b7198a16748568f813">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::__construct </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$external</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor - instantiates the database, specifying if it's external (connect to other systems) or no (<a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a>) note this has effect to decide if prefix checks must be performed or no. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bool</td><td>true means external database used </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a3c8ace63e950fa41935d51725ff9cec3">moodle_database</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0068ad25e4eef063fc699f424f341b90" name="a0068ad25e4eef063fc699f424f341b90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0068ad25e4eef063fc699f424f341b90">&#9670;&#160;</a></span>add_sql_debugging()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::add_sql_debugging </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$sql</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add an SQL comment to trace all sql calls back to the calling php code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>Original sql </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>Instrumented sql </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abce610b1a8f6e95fe53384b1231d07fd" name="abce610b1a8f6e95fe53384b1231d07fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abce610b1a8f6e95fe53384b1231d07fd">&#9670;&#160;</a></span>allowed_param_types()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::allowed_param_types </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns supported query parameter types. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>bitmask of accepted SQL_PARAMS_* </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a2ee7f4ce261d4a9c11d397a15c0617c2">moodle_database</a>.</p>

</div>
</div>
<a id="af6b489761b809df86cf9da90e1e2600a" name="af6b489761b809df86cf9da90e1e2600a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6b489761b809df86cf9da90e1e2600a">&#9670;&#160;</a></span>begin_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::begin_transaction </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Driver specific start of real database transaction, this can not be used directly in code. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a7f27f857a66eeb0cb2224dc3be1e5c59">moodle_database</a>.</p>

</div>
</div>
<a id="a27d29d117c7ffc4967b37136dd0cfaf6" name="a27d29d117c7ffc4967b37136dd0cfaf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27d29d117c7ffc4967b37136dd0cfaf6">&#9670;&#160;</a></span>change_database_structure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::change_database_structure </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablenames</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do NOT use in code, to be used by <a class="el" href="../../de/dd9/classdatabase__manager.html" title="Database manager instance is responsible for all database structure modifications.">database_manager</a> only! </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$sql</td><td>query </td></tr>
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$tablenames</td><td>an array of xmldb table names affected by this request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d6/df8/classddl__change__structure__exception.html" title="Error during changing db structure.">ddl_change_structure_exception</a></td><td>A DDL specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#ab11c54399233e896deb8f8f5a1c0ecbb">moodle_database</a>.</p>

</div>
</div>
<a id="a18bbc9d1781daebdbe45b9538f0c526d" name="a18bbc9d1781daebdbe45b9538f0c526d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18bbc9d1781daebdbe45b9538f0c526d">&#9670;&#160;</a></span>change_db_encoding()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::change_db_encoding </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempts to change db encoding to UTF-8 encoding if possible. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True is successful. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a25e59ae54a4848de4af3034a4a0e5318" name="a25e59ae54a4848de4af3034a4a0e5318"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25e59ae54a4848de4af3034a4a0e5318">&#9670;&#160;</a></span>commit_delegated_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::commit_delegated_transaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/db9/classmoodle__transaction.html">moodle_transaction</a></td>          <td class="paramname"><span class="paramname"><em>$transaction</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates delegated transaction finished successfully. </p>
<p>The real database transaction is committed only if all delegated transactions committed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d8/db9/classmoodle__transaction.html" title="Delegated transaction class.">moodle_transaction</a></td><td class="paramname">$transaction</td><td>The transaction to commit </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d2/d42/classdml__transaction__exception.html" title="DML transaction exception - triggered by problems related to DB transactions.">dml_transaction_exception</a></td><td>Creates and throws transaction related exceptions. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6d561ae8e0d059cd7335c7b5c6640289" name="a6d561ae8e0d059cd7335c7b5c6640289"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d561ae8e0d059cd7335c7b5c6640289">&#9670;&#160;</a></span>commit_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::commit_transaction </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Driver specific commit of real database transaction, this can not be used directly in code. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a27ec0942c440d007297bd06f1aa064a7">moodle_database</a>.</p>

</div>
</div>
<a id="ad156ad200af39e06823449953b9eb31c" name="ad156ad200af39e06823449953b9eb31c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad156ad200af39e06823449953b9eb31c">&#9670;&#160;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::connect </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbhost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbuser</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbpass</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$prefix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$dboptions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect to db Must be called before other methods. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$dbhost</td><td>The database host. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbuser</td><td>The database username. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbpass</td><td>The database username's password. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbname</td><td>The name of the database being connected to. </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$prefix</td><td>string means moodle db prefix, false used for external databases where prefix not used </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$dboptions</td><td>driver specific options </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a76f184b06a2c39fa93a89926d9777a54">moodle_database</a>.</p>

</div>
</div>
<a id="a64a301c23a6a401a632d5268bc744e47" name="a64a301c23a6a401a632d5268bc744e47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64a301c23a6a401a632d5268bc744e47">&#9670;&#160;</a></span>count_records()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::count_records </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Count the records in a table where all the given conditions met. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The table to query. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>The count of records returned from the specified criteria. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad206dce9472f9ddad66bf5ba6f665466" name="ad206dce9472f9ddad66bf5ba6f665466"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad206dce9472f9ddad66bf5ba6f665466">&#9670;&#160;</a></span>count_records_select()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::count_records_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$countitem</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;COUNT('x')&quot;</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Count the records in a table which match a particular WHERE clause. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a WHERE clause in the SQL call. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$countitem</td><td>The count string to be used in the SQL call. Default is COUNT('x'). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>The count of records returned from the specified criteria. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0dbd8ba441ad1cf235fbf571fa05e91c" name="a0dbd8ba441ad1cf235fbf571fa05e91c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dbd8ba441ad1cf235fbf571fa05e91c">&#9670;&#160;</a></span>count_records_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::count_records_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the result of a SQL SELECT COUNT(...) query. </p>
<p>Given a query that counts rows, return that count. (In fact, given any query, return the first field of the first record returned. However, this method should only be used for the intended purpose.) If an error occurs, 0 is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The SQL string you wish to be executed. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the count </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abc014f3570a0110315d421a6cfd481e9" name="abc014f3570a0110315d421a6cfd481e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc014f3570a0110315d421a6cfd481e9">&#9670;&#160;</a></span>create_database()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::create_database </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbhost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbuser</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbpass</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$dboptions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempt to create the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$dbhost</td><td>The database host. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbuser</td><td>The database user to connect as. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbpass</td><td>The password to use when connecting to the database. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbname</td><td>The name of the database being connected to. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$dboptions</td><td>An array of optional database options (eg: dbport)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>success True for successful connection. False otherwise. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#af1c58c78b7942929482e50d0b408ad41">mysqli_native_moodle_database</a>.</p>

</div>
</div>
<a id="a70ed4a0289b186cfe00b78a8670e741a" name="a70ed4a0289b186cfe00b78a8670e741a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70ed4a0289b186cfe00b78a8670e741a">&#9670;&#160;</a></span>create_recordset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::create_recordset </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sth</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Factory method that creates a recordset for return by a query. </p>
<p>The generic <a class="el" href="../../d6/dcb/classpdo__moodle__recordset.html" title="Experimental pdo recordset.">pdo_moodle_recordset</a> class should fit most cases, but <a class="el" href="../../db/dc8/classpdo__moodle__database.html" title="Experimental pdo database class.">pdo_moodle_database</a> subclasses can override this method to return a subclass of <a class="el" href="../../d6/dcb/classpdo__moodle__recordset.html" title="Experimental pdo recordset.">pdo_moodle_recordset</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$sth</td><td>instance of PDOStatement </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">object</td><td>instance of <a class="el" href="../../d6/dcb/classpdo__moodle__recordset.html" title="Experimental pdo recordset.">pdo_moodle_recordset</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af3d1f81d28ecd4ed389a64c52a421ee5" name="af3d1f81d28ecd4ed389a64c52a421ee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3d1f81d28ecd4ed389a64c52a421ee5">&#9670;&#160;</a></span>delete_records()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::delete_records </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete the records from a table where all the given conditions met. </p>
<p>If conditions not specified, table is truncated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to delete from. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1dea99d3ae3c3678253827e405842904" name="a1dea99d3ae3c3678253827e405842904"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dea99d3ae3c3678253827e405842904">&#9670;&#160;</a></span>delete_records_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::delete_records_list </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$values</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete the records from a table where one field match one list of values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to delete from. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td>The field to search </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$values</td><td>array of values </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae864d03b7b0b63c9f35af6e3951949ca" name="ae864d03b7b0b63c9f35af6e3951949ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae864d03b7b0b63c9f35af6e3951949ca">&#9670;&#160;</a></span>delete_records_select()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::delete_records_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete one or more records from a table which match a particular WHERE clause. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a where clause in the SQL call (used to define the selection criteria). </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a812097c0c2ab4ee214930f1885422d79">moodle_database</a>.</p>

</div>
</div>
<a id="a8122a7e53b7a94353af65ee06ddd4602" name="a8122a7e53b7a94353af65ee06ddd4602"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8122a7e53b7a94353af65ee06ddd4602">&#9670;&#160;</a></span>delete_records_subquery()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::delete_records_subquery </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$field</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$alias</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$subquery</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes records from a table using a subquery. </p>
<p>The subquery should return a list of values in a single column, which match one field from the table being deleted.</p>
<p>The $alias parameter must be set to the name of the single column in your subquery result (e.g. if the subquery is 'SELECT id FROM whatever', then it should be 'id'). This is not needed on most databases, but <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> requires it.</p>
<p>(On database where the subquery is inefficient, it is implemented differently.)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>Table to delete from </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td>Field in table to match </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$alias</td><td>Name of single column in subquery e.g. 'id' </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$subquery</td><td>Subquery that will return values of the field to delete </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>Parameters for subquery </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>If there is any error </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.10 </dd></dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a5d33790de4d76a66ad8e0784f56c804b">mysqli_native_moodle_database</a>.</p>

</div>
</div>
<a id="a110ef84973d48ab49c3f9847dd3d3650" name="a110ef84973d48ab49c3f9847dd3d3650"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a110ef84973d48ab49c3f9847dd3d3650">&#9670;&#160;</a></span>detect_objects()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::detect_objects </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$value</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Detects object parameters and throws exception if found. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">coding_exception</td><td>if object detected </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3bb8d693d664321e8ac1193d570053c7" name="a3bb8d693d664321e8ac1193d570053c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bb8d693d664321e8ac1193d570053c7">&#9670;&#160;</a></span>diagnose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::diagnose </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Diagnose database and tables, this function is used to verify database and driver settings, db engine types, etc. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>null means everything ok, string means problem found. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a366023424ee0a9518f1e547c4548c6bb">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="adc7496e5668a81d0aac9a2e6673cbc5d" name="adc7496e5668a81d0aac9a2e6673cbc5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc7496e5668a81d0aac9a2e6673cbc5d">&#9670;&#160;</a></span>dispose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::dispose </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Closes the database connection and releases all resources and memory (especially circular memory references). </p>
<p>Do NOT use <a class="el" href="#ad156ad200af39e06823449953b9eb31c" title="Connect to db Must be called before other methods.">connect()</a> again, create a new instance if needed. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#ac92bb6f451540a1cc2234615336e92f6">mysqli_native_moodle_database</a>, <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a4edcbb79d197ced33f354b429dfbe7be">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#adf1a288fab7e210371ba1455d39ebb74">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="aaced0d6405f8be443c2db9a7e29d8709" name="aaced0d6405f8be443c2db9a7e29d8709"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaced0d6405f8be443c2db9a7e29d8709">&#9670;&#160;</a></span>driver_installed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::driver_installed </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel abstract">abstract</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Detects if all needed PHP stuff are installed for <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> connectivity. </p>
<p>Note: can be used before <a class="el" href="#ad156ad200af39e06823449953b9eb31c" title="Connect to db Must be called before other methods.">connect()</a> </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>True if requirements are met, otherwise a string if something isn't installed. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#afb8e27179facb33745d1b992b946d824">mysqli_native_moodle_database</a>, <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a553d48faf11f9de651ffe6f684bfbee8">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a7fe9ddfc7ce471edf517b3c29725ce03">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a5f8d98915eb8aff6205ecc3617dc454b" name="a5f8d98915eb8aff6205ecc3617dc454b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f8d98915eb8aff6205ecc3617dc454b">&#9670;&#160;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::execute </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute general sql query. </p>
<p>Should be used only when no other method suitable. Do NOT use this to make changes in db structure, use <a class="el" href="../../de/dd9/classdatabase__manager.html" title="Database manager instance is responsible for all database structure modifications.">database_manager</a> methods instead! </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>query </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>query parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a47ba4950a154729fb4512b95a7de39fa">moodle_database</a>.</p>

</div>
</div>
<a id="a8a1569ea398dbc1e4192ed6158953091" name="a8a1569ea398dbc1e4192ed6158953091"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a1569ea398dbc1e4192ed6158953091">&#9670;&#160;</a></span>export_dbconfig()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::export_dbconfig </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the db related part of config.php. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a31f60c69f30e971d083b6d96cbd9f8fb" name="a31f60c69f30e971d083b6d96cbd9f8fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31f60c69f30e971d083b6d96cbd9f8fb">&#9670;&#160;</a></span>export_table_recordset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::export_table_recordset </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get all records from a table. </p>
<p>This method works around potential memory problems and may improve performance, this method may block access to table until the recordset is closed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>Name of database table. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a></td><td>A <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> instance <a class="el" href="">functionget_recordset</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a325dc7c1beef18ffdb9d0bcb732c2ad1">mysqli_native_moodle_database</a>.</p>

</div>
</div>
<a id="a75bb7b3490f7c0a2d531dc345ee8d58e" name="a75bb7b3490f7c0a2d531dc345ee8d58e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75bb7b3490f7c0a2d531dc345ee8d58e">&#9670;&#160;</a></span>fetch_columns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::fetch_columns </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$table</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel abstract">abstract</span><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns detailed information about columns in table. </p>
<p>This information is cached internally.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The table's name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">database_column_info[]</td><td>of <a class="el" href="../../d8/d41/classdatabase__column__info.html">database_column_info</a> objects indexed with column names </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a8da74f7da3e614b34bd2c1f42e32e3fb">mysqli_native_moodle_database</a>, <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a632c32b4285adca1cf82a4b7a92512d7">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a1e955826dc4fc19a5ed45f60bf82c06e">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="aebd64178d04c5620fe1e163eaf86fc59" name="aebd64178d04c5620fe1e163eaf86fc59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebd64178d04c5620fe1e163eaf86fc59">&#9670;&#160;</a></span>fix_sql_params()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::fix_sql_params </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Normalizes sql query parameters and verifies parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The query or part of it. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>The query parameters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>(sql, params, type of params) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a487eab5aa7b0cef210fcbcd9d175a4ab" name="a487eab5aa7b0cef210fcbcd9d175a4ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a487eab5aa7b0cef210fcbcd9d175a4ab">&#9670;&#160;</a></span>fix_table_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::fix_table_name </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the prefix to the table name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$tablename</td><td>The table name </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The prefixed table name </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a5e182d715619f9aa2daf2d8407bff38b">mysqli_native_moodle_database</a>.</p>

</div>
</div>
<a id="a926b0db9c78637448947a0482414dd7a" name="a926b0db9c78637448947a0482414dd7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a926b0db9c78637448947a0482414dd7a">&#9670;&#160;</a></span>fix_table_names()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::fix_table_names </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts short table name {tablename} to the real prefixed table name in given sql. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The sql to be operated on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The sql with tablenames being prefixed with $CFG-&gt;prefix </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a7d20f1877160a2f9c270c9880b17e49e">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="adec2649775405235f1598ebe060a0cc2" name="adec2649775405235f1598ebe060a0cc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adec2649775405235f1598ebe060a0cc2">&#9670;&#160;</a></span>force_transaction_rollback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::force_transaction_rollback </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Force rollback of all delegated transaction. </p>
<p>Does not throw any exceptions and does not log anything.</p>
<p>This method should be used only from default exception handlers and other core code.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7501053d106ee0ac51255c770fda6fef" name="a7501053d106ee0ac51255c770fda6fef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7501053d106ee0ac51255c770fda6fef">&#9670;&#160;</a></span>get_columns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_columns </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$usecache</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns detailed information about columns in table. </p>
<p>This information is cached internally.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The table's name. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$usecache</td><td>Flag to use internal cacheing. The default is true. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">database_column_info[]</td><td>of <a class="el" href="../../d8/d41/classdatabase__column__info.html">database_column_info</a> objects indexed with column names </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad99c6ed59fec7e8d0886eea04930b471" name="ad99c6ed59fec7e8d0886eea04930b471"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad99c6ed59fec7e8d0886eea04930b471">&#9670;&#160;</a></span>get_configuration_help()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::get_configuration_help </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns localised database configuration help. </p>
<p>Note: can be used before <a class="el" href="#ad156ad200af39e06823449953b9eb31c" title="Connect to db Must be called before other methods.">connect()</a> </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a49e4ebbe1537da910e6355d28b0ce585">moodle_database</a>.</p>

</div>
</div>
<a id="a58c5bbf6e20fc45b50018c37a6e52874" name="a58c5bbf6e20fc45b50018c37a6e52874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58c5bbf6e20fc45b50018c37a6e52874">&#9670;&#160;</a></span>get_configuration_hints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_configuration_hints </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the localised database description Note: can be used before <a class="el" href="#ad156ad200af39e06823449953b9eb31c" title="Connect to db Must be called before other methods.">connect()</a> </p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000294">Deprecated</a></b></dt><dd>since 2.6 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a01d209c23d2000949014b76966db19b9" name="a01d209c23d2000949014b76966db19b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01d209c23d2000949014b76966db19b9">&#9670;&#160;</a></span>get_counted_records_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_counted_records_sql </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$fullcountcolumn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve records with a select query and count the total number of records. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The query string. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fullcountcolumn</td><td>The column name used for counting total records. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>(Optional) Sorting criteria for the records. The reason to separate $sort from $sql are:<ol type="1">
<li>The $sort needs to be placed outside the full count subquery in order to function properly in MariaDB.</li>
<li>For unsupported databases, it is not allowed to run a query to get the total with the $sort. Please refer to the {</li>
</ol>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>generate_fullcount_sql()} for details. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$params</td><td>(Optional) Parameters to bind with the query. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>(Optional) Offset for pagination. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>(Optional) Limit for pagination. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Fetched records. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0d164cc184a79209b75aaea639bd32d5" name="a0d164cc184a79209b75aaea639bd32d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d164cc184a79209b75aaea639bd32d5">&#9670;&#160;</a></span>get_counted_recordset_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_counted_recordset_sql </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$fullcountcolumn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve a recordset with a select query and count the total number of records. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The query string. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fullcountcolumn</td><td>The column name used for counting total records. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>(Optional) Sorting criteria for the records. The reason to separate $sort from $sql are:<ol type="1">
<li>The $sort needs to be placed outside the full count subquery in order to function properly in MariaDB.</li>
<li>For unsupported databases, it is not allowed to run a query to get the total with the $sort. Please refer to the {</li>
</ol>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>generate_fullcount_sql()} for details. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$params</td><td>(Optional) Parameters to bind with the query. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>(Optional) Offset for pagination. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>(Optional) Limit for pagination. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a></td><td>A <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> instance.. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3c518b7bf3b5c0ab61b97701d19955a1" name="a3c518b7bf3b5c0ab61b97701d19955a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c518b7bf3b5c0ab61b97701d19955a1">&#9670;&#160;</a></span>get_dbfamily()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_dbfamily </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel abstract">abstract</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the database family type. </p>
<p>(This sort of describes the SQL 'dialect') Note: can be used before <a class="el" href="#ad156ad200af39e06823449953b9eb31c" title="Connect to db Must be called before other methods.">connect()</a> </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The db family name (mysql, postgres, mssql, etc.) </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#add015da35b5f796f76421ab262a4e218">mysqli_native_moodle_database</a>, <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a449ffe3f8b5932786aef49c177b7994a">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#aa8a53c4fd660d334a33bc60ac54bf135">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a97bf889466aeeac79058b708c425c108" name="a97bf889466aeeac79058b708c425c108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97bf889466aeeac79058b708c425c108">&#9670;&#160;</a></span>get_dblibrary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::get_dblibrary </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns general database library name Note: can be used before <a class="el" href="#ad156ad200af39e06823449953b9eb31c" title="Connect to db Must be called before other methods.">connect()</a> </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>db type pdo, native </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a2c02b88e1afcb430bb0255abf79ed9c2">moodle_database</a>.</p>

</div>
</div>
<a id="ac4b33ff2b22a5d84cf16b5db95195bb4" name="ac4b33ff2b22a5d84cf16b5db95195bb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4b33ff2b22a5d84cf16b5db95195bb4">&#9670;&#160;</a></span>get_dbtype()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_dbtype </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel abstract">abstract</span><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a more specific database driver type Note: can be used before <a class="el" href="#ad156ad200af39e06823449953b9eb31c" title="Connect to db Must be called before other methods.">connect()</a> </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The db type mysqli, pgsql, mssql, sqlsrv </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/d0d/classauroramysql__native__moodle__database.html#af69b3b84e31066b587622fb93592feeb">auroramysql_native_moodle_database</a>, <a class="el" href="../../d9/d22/classmariadb__native__moodle__database.html#afbcd4c7e386394b3c64122c57d552bc6">mariadb_native_moodle_database</a>, <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a267dca8ae8842625ebdc4535de284b61">mysqli_native_moodle_database</a>, <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#ae50a40926ea72cc8e9a596b293f4812d">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a99032c34b2e1b5f8eb13aac1f22d9ac4">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a4f413dfbddd57bbf4386cf13465e8022" name="a4f413dfbddd57bbf4386cf13465e8022"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f413dfbddd57bbf4386cf13465e8022">&#9670;&#160;</a></span>get_dbvendor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_dbvendor </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the database vendor. </p>
<p>Note: can be used before <a class="el" href="#ad156ad200af39e06823449953b9eb31c" title="Connect to db Must be called before other methods.">connect()</a> </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The db vendor name, usually the same as db family name. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/d0d/classauroramysql__native__moodle__database.html#a9c1858b8c126b131cd1c950557dc5503">auroramysql_native_moodle_database</a>, and <a class="el" href="../../d9/d22/classmariadb__native__moodle__database.html#ab27c073c97ab5375765dc699a1db8e5f">mariadb_native_moodle_database</a>.</p>

</div>
</div>
<a id="ab33f7a446c4e743e8ea6b5fabf9d6a98" name="ab33f7a446c4e743e8ea6b5fabf9d6a98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab33f7a446c4e743e8ea6b5fabf9d6a98">&#9670;&#160;</a></span>get_debug()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_debug </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns debug status. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool#$state</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c73988370f8a4433b6cf8d7bbf8752f" name="a0c73988370f8a4433b6cf8d7bbf8752f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c73988370f8a4433b6cf8d7bbf8752f">&#9670;&#160;</a></span>get_driver_instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static moodle_database::get_driver_instance </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$library</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$external</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads and returns a database instance with the specified type and library. </p>
<p>The loaded class is within lib/dml directory and of the form: $type.'_'.$library.'_moodle_database'</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td>Database driver's type. (eg: mysqli, pgsql, mssql, sqldrv, etc.) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$library</td><td>Database driver's library (native, pdo, etc.) </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$external</td><td>True if this is an external database. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">?moodle_database</td><td>driver object or null if error, for example of driver object see {</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html" title="Native mysqli class representing moodle database interface.">mysqli_native_moodle_database</a>} </dd></dl>

</div>
</div>
<a id="a6da5a47ab7ea54f0b4b155fef5615ace" name="a6da5a47ab7ea54f0b4b155fef5615ace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6da5a47ab7ea54f0b4b155fef5615ace">&#9670;&#160;</a></span>get_dsn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::get_dsn </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel abstract">abstract</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the driver-dependent DSN for PDO based on members stored by connect. </p>
<p>Must be called after connect (or after $dbname, $dbhost, etc. members have been set). </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>driver-dependent DSN </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae298e05d4f80aa7952df399adc9252ff" name="ae298e05d4f80aa7952df399adc9252ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae298e05d4f80aa7952df399adc9252ff">&#9670;&#160;</a></span>get_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_field </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$return</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$strictness</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a single field value from a table record where all the given conditions met. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$return</td><td>the field to return the value of. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td>IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found; IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended); MUST_EXIST means throw exception if no record or multiple records found </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>the specified value false if not found </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a61efd58e9205d13b7dffb8d1612558c4" name="a61efd58e9205d13b7dffb8d1612558c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61efd58e9205d13b7dffb8d1612558c4">&#9670;&#160;</a></span>get_field_select()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_field_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$return</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$strictness</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a single field value from a table record which match a particular WHERE clause. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$return</td><td>the field to return the value of. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a where clause returning one row with one column </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td>IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found; IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended); MUST_EXIST means throw exception if no record or multiple records found </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>the specified value false if not found </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a86ffc39b76a6df0e899a880bfc187f2c" name="a86ffc39b76a6df0e899a880bfc187f2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86ffc39b76a6df0e899a880bfc187f2c">&#9670;&#160;</a></span>get_field_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_field_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$strictness</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a single field value (first field) using a SQL statement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The SQL query returning one row with one column </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td>IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found; IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended); MUST_EXIST means throw exception if no record or multiple records found </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>the specified value false if not found </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a67e401e2ead09ea810af3b42c7932437" name="a67e401e2ead09ea810af3b42c7932437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67e401e2ead09ea810af3b42c7932437">&#9670;&#160;</a></span>get_fieldset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_fieldset </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$return</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Selects records and return values of chosen field as an array where all the given conditions met. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$return</td><td>the field we are intered in </td></tr>
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of values </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abf87197c6dcb4d8ebad1384e38579645" name="abf87197c6dcb4d8ebad1384e38579645"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf87197c6dcb4d8ebad1384e38579645">&#9670;&#160;</a></span>get_fieldset_select()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_fieldset_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$return</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Selects records and return values of chosen field as an array which match a particular WHERE clause. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$return</td><td>the field we are intered in </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a where clause in the SQL call. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of values </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa401d902a6228ae60982cf8a4852baac" name="aa401d902a6228ae60982cf8a4852baac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa401d902a6228ae60982cf8a4852baac">&#9670;&#160;</a></span>get_fieldset_sql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::get_fieldset_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Selects rows and return values of first column as array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The SQL query </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of values </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#af49e08d8a05499b59dcc3fac7c70b1c9">moodle_database</a>.</p>

</div>
</div>
<a id="a9ad3b5ff05207f773cc49352b79740e0" name="a9ad3b5ff05207f773cc49352b79740e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ad3b5ff05207f773cc49352b79740e0">&#9670;&#160;</a></span>get_in_or_equal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_in_or_equal </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$items</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$type</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d5/db5/group__core__dml.html#ga186c96032edcc8cb593687f7f7d55a1b">SQL_PARAMS_QM</a></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$prefix</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'param'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$equal</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$onemptyitems</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs 'IN()' or '=' sql fragment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$items</td><td>A single value or array of values for the expression. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$type</td><td>Parameter bounding type : SQL_PARAMS_QM or SQL_PARAMS_NAMED. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$prefix</td><td>Named parameter placeholder prefix (a unique counter value is appended to each parameter name). </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$equal</td><td>True means we want to equate to the constructed expression, false means we don't want to equate to it. </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$onemptyitems</td><td>This defines the behavior when the array of items provided is empty. Defaults to false, meaning throw exceptions. Other values will become part of the returned SQL fragment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">coding_exception</td><td>| <a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>A list containing the constructed sql fragment and an array of parameters. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a091825a97f99d077fcbe5255bcbb0d23">pgsql_native_moodle_database</a>.</p>

</div>
</div>
<a id="a26ca1166e47a84a988811fcbeeeffeb0" name="a26ca1166e47a84a988811fcbeeeffeb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26ca1166e47a84a988811fcbeeeffeb0">&#9670;&#160;</a></span>get_indexes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_indexes </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel abstract">abstract</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return table indexes - everything lowercased. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The table we want to get indexes from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An associative array of indexes containing 'unique' flag and 'columns' being indexed </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a451ebc43876d1eb3f87225d0b8b03947">mysqli_native_moodle_database</a>, <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#af743ae16410d34ac74a51285967f0ab3">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a36117d20cf09620cb33c4bfc7ea0d9ff">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a916c644edf69b397564fafb1840ba789" name="a916c644edf69b397564fafb1840ba789"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a916c644edf69b397564fafb1840ba789">&#9670;&#160;</a></span>get_last_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::get_last_error </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns last error reported by database engine. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>error message </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#aa6cafef5d9db5b720a66d68d057a8d3c">moodle_database</a>.</p>

</div>
</div>
<a id="ad1af2a2944bfff134c250e9b7dc9b50a" name="ad1af2a2944bfff134c250e9b7dc9b50a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1af2a2944bfff134c250e9b7dc9b50a">&#9670;&#160;</a></span>get_manager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_manager </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the sql generator used for db manipulation. </p>
<p>Used mostly in upgrade.php scripts. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../de/dd9/classdatabase__manager.html" title="Database manager instance is responsible for all database structure modifications.">database_manager</a></td><td>The instance used to perform ddl operations. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>lib/ddl/database_manager.php </dd></dl>

</div>
</div>
<a id="ac30d3f55af00560ad154cbf7341f2750" name="ac30d3f55af00560ad154cbf7341f2750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac30d3f55af00560ad154cbf7341f2750">&#9670;&#160;</a></span>get_metacache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_metacache </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle the creation and caching of the databasemeta information for all databases. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">cache_application</td><td>The databasemeta cachestore to complete operations on. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3ec80c681b5cf677a5037f0cf63b2312" name="a3ec80c681b5cf677a5037f0cf63b2312"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ec80c681b5cf677a5037f0cf63b2312">&#9670;&#160;</a></span>get_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::get_name </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns localised database type name Note: can be used before <a class="el" href="#ad156ad200af39e06823449953b9eb31c" title="Connect to db Must be called before other methods.">connect()</a> </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a7464b6260743e5e42da942998c2a4829">moodle_database</a>.</p>

</div>
</div>
<a id="a49fa1159bddb6703a4de07becd56bccc" name="a49fa1159bddb6703a4de07becd56bccc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49fa1159bddb6703a4de07becd56bccc">&#9670;&#160;</a></span>get_pdooptions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::get_pdooptions </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the driver-dependent connection attributes for PDO based on members stored by connect. </p>
<p>Must be called after $dbname, $dbhost, etc. members have been set. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>A key=&gt;value array of PDO driver-specific connection options </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8314cb807e9a59a9e3d6ec11f04bb4cf" name="a8314cb807e9a59a9e3d6ec11f04bb4cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8314cb807e9a59a9e3d6ec11f04bb4cf">&#9670;&#160;</a></span>get_prefix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_prefix </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns database table prefix Note: can be used before <a class="el" href="#ad156ad200af39e06823449953b9eb31c" title="Connect to db Must be called before other methods.">connect()</a> </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The prefix used in the database. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0264e381dc950fac100b14a3f67cff8a" name="a0264e381dc950fac100b14a3f67cff8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0264e381dc950fac100b14a3f67cff8a">&#9670;&#160;</a></span>get_record()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_record </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$strictness</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a single database record as an object where all the given conditions met. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The table to select from. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>A comma separated list of fields to be returned from the chosen table. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td>IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found; IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended); MUST_EXIST means we will throw an exception if no record or multiple records found.</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000133">Todo</a></b></dt><dd><a href="https://tracker.moodle.org/browse/MDL-30407" class="el">MDL-30407</a> MUST_EXIST option should not throw a <a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a>, it should throw a different exception as it's a requested check. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>a fieldset object containing the first matching record, false or exception if error not found depending on mode </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a42ec3402be724ce5f2f731b3454c0504" name="a42ec3402be724ce5f2f731b3454c0504"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42ec3402be724ce5f2f731b3454c0504">&#9670;&#160;</a></span>get_record_select()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_record_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$strictness</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a single database record as an object which match a particular WHERE clause. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a where clause in the SQL call. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>A comma separated list of fields to be returned from the chosen table. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td>IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found; IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended); MUST_EXIST means throw exception if no record or multiple records found </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass|false</td><td>a fieldset object containing the first matching record, false or exception if error not found depending on mode </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a49e796ca1d8f309c957b7ec43fb1dc2a" name="a49e796ca1d8f309c957b7ec43fb1dc2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49e796ca1d8f309c957b7ec43fb1dc2a">&#9670;&#160;</a></span>get_record_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_record_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$strictness</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a single database record as an object using a SQL statement. </p>
<p>The SQL statement should normally only return one record. It is recommended to use <a class="el" href="#ae3fe3538fb378ca240413d77f27f7506" title="Get a number of records as an array of objects.">get_records_sql()</a> if more matches possible!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The SQL string you wish to be executed, should normally only return one record. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td>IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found; IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended); MUST_EXIST means throw exception if no record or multiple records found </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>a fieldset object containing the first matching record, false or exception if error not found depending on mode </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4c69a059c3c3aef6ae083ef1fbdaed20" name="a4c69a059c3c3aef6ae083ef1fbdaed20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c69a059c3c3aef6ae083ef1fbdaed20">&#9670;&#160;</a></span>get_records()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_records </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a number of records as an array of objects where all the given conditions met. </p>
<p>If the query succeeds and returns at least one record, the return value is an array of objects, one object for each record found. The array key is the value from the first column of the result set. The object associated with that key has a member variable for each column of the results.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>an order to sort the results in (optional, a valid SQL ORDER BY parameter). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>a comma separated list of fields to return (optional, by default all fields are returned). The first field will be used as key for the array so must be a unique field such as 'id'. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records in total (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of Objects indexed by first column. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abf126d4aa56da71fd84cb77254de4106" name="abf126d4aa56da71fd84cb77254de4106"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf126d4aa56da71fd84cb77254de4106">&#9670;&#160;</a></span>get_records_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_records_list </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$values</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a number of records as an array of objects where one field match one list of values. </p>
<p>Return value is like <a class="el" href="">functionget_records</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td>The field to search </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$values</td><td>An array of values </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>Sort order (as valid SQL sort parameter) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>A comma separated list of fields to be returned from the chosen table. If specified, the first field should be a unique one such as 'id' since it will be used as a key in the associative array. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records in total (optional). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of objects indexed by first column </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa7d4d44f509f2fd325901accab10caa9" name="aa7d4d44f509f2fd325901accab10caa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7d4d44f509f2fd325901accab10caa9">&#9670;&#160;</a></span>get_records_menu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_records_menu </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the first two columns from a number of records as an associative array where all the given conditions met. </p>
<p>Arguments are like <a class="el" href="">functionget_recordset</a>.</p>
<p>If no errors occur the return value is an associative whose keys come from the first field of each record, and whose values are the corresponding second fields. False is returned if an error occurs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>an order to sort the results in (optional, a valid SQL ORDER BY parameter). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>a comma separated list of fields to return - the number of fields should be 2! </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>an associative array </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0e1223f0bd3e6923aa84ffada115270f" name="a0e1223f0bd3e6923aa84ffada115270f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e1223f0bd3e6923aa84ffada115270f">&#9670;&#160;</a></span>get_records_select()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_records_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a number of records as an array of objects which match a particular WHERE clause. </p>
<p>Return value is like <a class="el" href="">functionget_records</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The table to query. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a where clause in the SQL call. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>An array of sql parameters </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>An order to sort the results in (optional, a valid SQL ORDER BY parameter). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>A comma separated list of fields to return (optional, by default all fields are returned). The first field will be used as key for the array so must be a unique field such as 'id'. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records in total (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of objects indexed by first column </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad56c4886758273808afb84fd74289588" name="ad56c4886758273808afb84fd74289588"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad56c4886758273808afb84fd74289588">&#9670;&#160;</a></span>get_records_select_menu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_records_select_menu </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the first two columns from a number of records as an associative array which match a particular WHERE clause. </p>
<p>Arguments are like <a class="el" href="">functionget_recordset_select</a>. Return value is like <a class="el" href="">functionget_records_menu</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a where clause in the SQL call. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>Sort order (optional) - a valid SQL order parameter </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>A comma separated list of fields to be returned from the chosen table - the number of fields should be 2! </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>an associative array </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae3fe3538fb378ca240413d77f27f7506" name="ae3fe3538fb378ca240413d77f27f7506"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3fe3538fb378ca240413d77f27f7506">&#9670;&#160;</a></span>get_records_sql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::get_records_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a number of records as an array of objects. </p>
<p>Return value is like: </p><dl class="section see"><dt>See also</dt><dd>function <a class="el" href="../../d3/d6e/classmoodle__database.html#a4c69a059c3c3aef6ae083ef1fbdaed20" title="Get a number of records as an array of objects where all the given conditions met.">get_records</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>the SQL select query to execute. The first column of this SELECT statement must be a unique value (usually the 'id' field), as it will be used as the key of the returned array. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional, required if $limitnum is set). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of objects, or empty array if no records were found, or false if an error occurred. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#ad09e279fd22987580c5fc8faa45026e9">moodle_database</a>.</p>

</div>
</div>
<a id="a27a87e4bb758741ac5c140be0813f209" name="a27a87e4bb758741ac5c140be0813f209"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27a87e4bb758741ac5c140be0813f209">&#9670;&#160;</a></span>get_records_sql_menu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_records_sql_menu </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the first two columns from a number of records as an associative array using a SQL statement. </p>
<p>Arguments are like <a class="el" href="">functionget_recordset_sql</a>. Return value is like <a class="el" href="">functionget_records_menu</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The SQL string you wish to be executed. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>an associative array </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a59cdf34105f4d33160d2d7d6b5d6f24b" name="a59cdf34105f4d33160d2d7d6b5d6f24b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59cdf34105f4d33160d2d7d6b5d6f24b">&#9670;&#160;</a></span>get_recordset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_recordset </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a number of records as a <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> where all the given conditions met. </p>
<p>Selects records from the table $table.</p>
<p>If specified, only records meeting $conditions.</p>
<p>If specified, the results will be sorted as specified by $sort. This is added to the SQL as "ORDER BY $sort". Example values of $sort might be "time ASC" or "time DESC".</p>
<p>If $fields is specified, only those fields are returned.</p>
<p>Since this method is a little less readable, use of it should be restricted to code where it's possible there might be large datasets being returned. For known small datasets use get_records - it leads to simpler code.</p>
<p>If you only want some of the records, specify $limitfrom and $limitnum. The query will skip the first $limitfrom records (according to the sort order) and then return the next $limitnum records. If either of $limitfrom or $limitnum is specified, both must be present.</p>
<p>The return value is a <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> if the query succeeds. If an error occurs, false is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>an order to sort the results in (optional, a valid SQL ORDER BY parameter). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>a comma separated list of fields to return (optional, by default all fields are returned). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a></td><td>A <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae6f6bc13543347a60b4d4c39f6f1de59" name="ae6f6bc13543347a60b4d4c39f6f1de59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6f6bc13543347a60b4d4c39f6f1de59">&#9670;&#160;</a></span>get_recordset_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_recordset_list </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$values</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a number of records as a <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> where one field match one list of values. </p>
<p>Only records where $field takes one of the values $values are returned. $values must be an array of values.</p>
<p>Other arguments and the return type are like <a class="el" href="">functionget_recordset</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td>a field to check (optional). </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$values</td><td>array of values the field must have </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>an order to sort the results in (optional, a valid SQL ORDER BY parameter). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>a comma separated list of fields to return (optional, by default all fields are returned). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a></td><td>A <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9add8d048686682c0f6942a027a4734e" name="a9add8d048686682c0f6942a027a4734e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9add8d048686682c0f6942a027a4734e">&#9670;&#160;</a></span>get_recordset_select()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_recordset_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a number of records as a <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> which match a particular WHERE clause. </p>
<p>If given, $select is used as the SELECT parameter in the SQL query, otherwise all records from the table are returned.</p>
<p>Other arguments and the return type are like <a class="el" href="">functionget_recordset</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a where clause in the SQL call. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>an order to sort the results in (optional, a valid SQL ORDER BY parameter). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>a comma separated list of fields to return (optional, by default all fields are returned). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a></td><td>A <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9a358bab1cb64258d3b26ce861c863b6" name="a9a358bab1cb64258d3b26ce861c863b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a358bab1cb64258d3b26ce861c863b6">&#9670;&#160;</a></span>get_recordset_sql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::get_recordset_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a number of records as an <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a>. </p>
<p>$sql must be a complete SQL query. Since this method is a little less readable, use of it should be restricted to code where it's possible there might be large datasets being returned. For known small datasets use get_records_sql - it leads to simpler code.</p>
<p>The return type is like: </p><dl class="section see"><dt>See also</dt><dd>function <a class="el" href="../../d3/d6e/classmoodle__database.html#a59cdf34105f4d33160d2d7d6b5d6f24b" title="Get a number of records as a moodle_recordset where all the given conditions met.">get_recordset</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>the SQL select query to execute. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional, required if $limitnum is set). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a></td><td>instance </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a75b4e0662ab137e9ef69e61173c682ce">moodle_database</a>.</p>

</div>
</div>
<a id="a241ea9e9c9ecd10c546f12e24fce516f" name="a241ea9e9c9ecd10c546f12e24fce516f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a241ea9e9c9ecd10c546f12e24fce516f">&#9670;&#160;</a></span>get_server_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::get_server_info </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns database server info array. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Array containing 'description' and 'version' info </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a48bc59d587e11678df0ae93623073b79">moodle_database</a>.</p>

</div>
</div>
<a id="a6c57a9a2f96d9bec0f77164aae45dc69" name="a6c57a9a2f96d9bec0f77164aae45dc69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c57a9a2f96d9bec0f77164aae45dc69">&#9670;&#160;</a></span>get_session_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_session_lock </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$rowid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timeout</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtains the session lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$rowid</td><td>The id of the row with session record. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timeout</td><td>The maximum allowed time to wait for the lock in seconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#aa99211baed37f6af9c86766b43e7d9b5">mysqli_native_moodle_database</a>, <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a9cb746cffafddd220f96b282ac8edafb">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a3daf0eceabe94632bcaa4006883b3fc7">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="af44d6d3d48dc67c72d6143949a023ba8" name="af44d6d3d48dc67c72d6143949a023ba8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af44d6d3d48dc67c72d6143949a023ba8">&#9670;&#160;</a></span>get_settings_hash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_settings_hash </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a hash for the settings used during connection. </p>
<p>If not already requested it is generated and stored in a private property.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2e8cb566e33c61c1ce9a3c86f51ac7b4" name="a2e8cb566e33c61c1ce9a3c86f51ac7b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e8cb566e33c61c1ce9a3c86f51ac7b4">&#9670;&#160;</a></span>get_tables()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_tables </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$usecache</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel abstract">abstract</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return tables in database WITHOUT current prefix. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$usecache</td><td>if true, returns list of cached tables. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of table names in lowercase and without prefix </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a4713e24bb18b56ac90387afeca491dfd">mysqli_native_moodle_database</a>, <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a93e21cf80a15fdeb0d27be398f258d28">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#ac15da8bad025df089eca337414412b06">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="afe146e06552bdb6da89ca32cab04c754" name="afe146e06552bdb6da89ca32cab04c754"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe146e06552bdb6da89ca32cab04c754">&#9670;&#160;</a></span>get_temp_tables_cache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_temp_tables_cache </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle the creation and caching of the temporary tables. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">cache_application</td><td>The temp_tables cachestore to complete operations on. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad848ee206bad0afea1fcc9e303fae770" name="ad848ee206bad0afea1fcc9e303fae770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad848ee206bad0afea1fcc9e303fae770">&#9670;&#160;</a></span>get_transaction_start_backtrace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_transaction_start_backtrace </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns transaction trace for debugging purposes. </p>
<p>to be used by core only </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">?array</td><td>or null if not in transaction. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afb99dfdf488ebd05f375c3938bef733b" name="afb99dfdf488ebd05f375c3938bef733b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb99dfdf488ebd05f375c3938bef733b">&#9670;&#160;</a></span>import_record()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::import_record </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dataobject</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Import a record into a table, id field is required. </p>
<p>Basic safety checks only. Lobs are supported. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>name of database table to be inserted into </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$dataobject</td><td>object or array with fields in the record </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#aebc6879671362696031999843e165eb3">moodle_database</a>.</p>

</div>
</div>
<a id="a17239aa5a747bc51b9c034c4f4c1907c" name="a17239aa5a747bc51b9c034c4f4c1907c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17239aa5a747bc51b9c034c4f4c1907c">&#9670;&#160;</a></span>insert_record()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::insert_record </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dataobject</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$returnid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$bulk</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. </p>
<p>Lobs are supported. If the return ID isn't required, then this just reports success as true/false. $data is an object containing needed data </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be inserted into </td></tr>
    <tr><td class="paramtype">object&#160;|&#160;array</td><td class="paramname">$dataobject</td><td>A data object with values for one or more fields in the record </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$returnid</td><td>Should the id of the newly created record entry be returned? If this option is not requested then true/false is returned. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$bulk</td><td>true means repeated inserts expected </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool|int</td><td>true or new id </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a5d95faae31eb8264a61b48ee82327672">moodle_database</a>.</p>

</div>
</div>
<a id="ab30416598bc376f41f91957e8bbe048a" name="ab30416598bc376f41f91957e8bbe048a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab30416598bc376f41f91957e8bbe048a">&#9670;&#160;</a></span>insert_record_raw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::insert_record_raw </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$params</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$returnid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$bulk</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$customsequence</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert new record into database, as fast as possible, no safety checks, lobs not supported. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>name </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$params</td><td>data record as object or array </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$returnit</td><td>return it of inserted record </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$bulk</td><td>true means repeated inserts expected </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$customsequence</td><td>true if 'id' included in $params, disables $returnid </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool|int</td><td>true or new id </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a78dbff65e2da5fa4470a20e7489a2f52">moodle_database</a>.</p>

</div>
</div>
<a id="a9f0b239e223e372b5a5327420321ccb4" name="a9f0b239e223e372b5a5327420321ccb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f0b239e223e372b5a5327420321ccb4">&#9670;&#160;</a></span>insert_records()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::insert_records </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dataobjects</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert multiple records into database as fast as possible. </p>
<p>Order of inserts is maintained, but the operation is not atomic, use transactions if necessary.</p>
<p>This method is intended for inserting of large number of small objects, do not use for huge objects with text or binary fields.</p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.7</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be inserted into </td></tr>
    <tr><td class="paramtype">array&#160;|&#160;Traversable</td><td class="paramname">$dataobjects</td><td>list of objects to be inserted, must be compatible with foreach </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td>does not return new record ids</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">coding_exception</td><td>if data objects have different structure </td></tr>
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a225a9a214763a2394065d8d1933456b1">mysqli_native_moodle_database</a>, and <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a9017a345165f106a73ccf1931cad38a3">pgsql_native_moodle_database</a>.</p>

</div>
</div>
<a id="a9057378f157727f54a9d3777279ccec8" name="a9057378f157727f54a9d3777279ccec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9057378f157727f54a9d3777279ccec8">&#9670;&#160;</a></span>is_count_window_function_supported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::is_count_window_function_supported </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether the database is able to support the COUNT() window function and provides a performance improvement. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d22/classmariadb__native__moodle__database.html#a84e551beba47b1c0f94d1fe1e6c5de97">mariadb_native_moodle_database</a>, and <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#ad9e12bbc0ee891c569c949cf18f3bb8c">pgsql_native_moodle_database</a>.</p>

</div>
</div>
<a id="ab67f89340aae0d3b42d0f752276f4201" name="ab67f89340aae0d3b42d0f752276f4201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab67f89340aae0d3b42d0f752276f4201">&#9670;&#160;</a></span>is_fulltext_search_supported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::is_fulltext_search_supported </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether the database is able to support full-text search or not. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d22/classmariadb__native__moodle__database.html#a3a17de1e539649b1b39b25f4a06b0a27">mariadb_native_moodle_database</a>, <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a4e3dd8d878322ac1a2c9f46833b4e1c2">mysqli_native_moodle_database</a>, <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a4583ff05bdcae51bf70cf724ec9bdf06">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#ae25ab6e51d91334ffdefcf688229ae88">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="abd15d09cfbcd348245a113dc21299684" name="abd15d09cfbcd348245a113dc21299684"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd15d09cfbcd348245a113dc21299684">&#9670;&#160;</a></span>is_transaction_started()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::is_transaction_started </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if a transaction is in progress. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7696933b02ece447e69a29117b087583" name="a7696933b02ece447e69a29117b087583"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7696933b02ece447e69a29117b087583">&#9670;&#160;</a></span>normalise_limit_from_num()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::normalise_limit_from_num </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ensures that limit params are numeric and positive integers, to be passed to the database. </p>
<p>We explicitly treat null, '' and -1 as 0 in order to provide compatibility with how limit values have been passed historically.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>Where to start results from </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>How many results to return </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Normalised limit params in array($limitfrom, $limitnum) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a722c575a19352a93bd472b29b7122c04" name="a722c575a19352a93bd472b29b7122c04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a722c575a19352a93bd472b29b7122c04">&#9670;&#160;</a></span>normalise_value()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::normalise_value </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$column</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel abstract">abstract</span><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Normalise values based on varying RDBMS's dependencies (booleans, LOBs...) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d8/d41/classdatabase__column__info.html">database_column_info</a></td><td class="paramname">$column</td><td>column metadata corresponding with the value we are going to normalise </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$value</td><td>value we are going to normalise </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>the normalised value </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#aa6b6dc8485613b1c78360eafec5a815a">mysqli_native_moodle_database</a>, <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a22c1c1074122ff06bb3f603ca0bc58fc">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a76db167c64a7a80e5afca9e84a2ed5fd">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a88efe099824232405fdd57abf99a5da5" name="a88efe099824232405fdd57abf99a5da5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88efe099824232405fdd57abf99a5da5">&#9670;&#160;</a></span>perf_get_queries()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::perf_get_queries </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of queries done by this database. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>Number of queries. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a26f3aea41366300759a65971ddaeae91" name="a26f3aea41366300759a65971ddaeae91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26f3aea41366300759a65971ddaeae91">&#9670;&#160;</a></span>perf_get_queries_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::perf_get_queries_time </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time waiting for the database engine to finish running all queries. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">float</td><td>Number of seconds with microseconds </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abef8ec7916dbf288bdc45828e24e2e71" name="abef8ec7916dbf288bdc45828e24e2e71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abef8ec7916dbf288bdc45828e24e2e71">&#9670;&#160;</a></span>perf_get_reads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::perf_get_reads </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of reads done by this database. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>Number of reads. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aede2b6f470152fcb31b1011e4a0a3c9d" name="aede2b6f470152fcb31b1011e4a0a3c9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aede2b6f470152fcb31b1011e4a0a3c9d">&#9670;&#160;</a></span>perf_get_reads_replica()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::perf_get_reads_replica </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of reads before first write done by this database. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>Number of reads. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab3ba367be9772be6b095f58201579543" name="ab3ba367be9772be6b095f58201579543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3ba367be9772be6b095f58201579543">&#9670;&#160;</a></span>perf_get_writes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::perf_get_writes </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of writes done by this database. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>Number of writes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaa22068a8553ee63304484bab2798178" name="aaa22068a8553ee63304484bab2798178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa22068a8553ee63304484bab2798178">&#9670;&#160;</a></span>print_debug()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::print_debug </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$obj</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints sql debug info. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The query which is being debugged. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>The query parameters. (optional) </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$obj</td><td>The library specific object. (optional) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af68a46c6ba0287f470ae0b7d4272b5f3" name="af68a46c6ba0287f470ae0b7d4272b5f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af68a46c6ba0287f470ae0b7d4272b5f3">&#9670;&#160;</a></span>print_debug_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::print_debug_time </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints the time a query took to run. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af73ba05471d4c50e266ca117006b0174" name="af73ba05471d4c50e266ca117006b0174"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af73ba05471d4c50e266ca117006b0174">&#9670;&#160;</a></span>query_end()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::query_end </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$result</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This should be called immediately after each db query. </p>
<p>It does a clean up of resources. It also throws exceptions if the sql that ran produced errors. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$result</td><td>The db specific result obtained from running a query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d8/d7b/classdml__read__exception.html" title="DML read exception - triggered by some SQL syntax errors, etc.">dml_read_exception</a></td><td>| <a class="el" href="../../d5/da8/classdml__write__exception.html" title="DML write exception - triggered by some SQL syntax errors, etc.">dml_write_exception</a> | <a class="el" href="../../d6/df8/classddl__change__structure__exception.html" title="Error during changing db structure.">ddl_change_structure_exception</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a71eb1f8a02177772840691278ab6dc6f">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#ae17b89fe72332dc3208792d096d0e89d">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a330a77e48f251264f020d52169438e25" name="a330a77e48f251264f020d52169438e25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a330a77e48f251264f020d52169438e25">&#9670;&#160;</a></span>query_log()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::query_log </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$error</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This logs the last query based on 'logall', 'logslow' and 'logerrors' options configured via $CFG-&gt;dboptions . </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;bool</td><td class="paramname">$error</td><td>or false if not error </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4308599a8db9b382fa4e977cef4a6168" name="a4308599a8db9b382fa4e977cef4a6168"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4308599a8db9b382fa4e977cef4a6168">&#9670;&#160;</a></span>query_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::query_start </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$extrainfo</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called before each db query. </p>
<p>Overridden to ensure $this-&gt;lastErorr is reset each query</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td></td></tr>
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$params</td><td>An array of parameters. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$type</td><td>type of query </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$extrainfo</td><td>driver specific extra information </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a22869776c6a8b72f2983bc51152147bd">moodle_database</a>.</p>

</div>
</div>
<a id="a6f19d95c9bf5d29ea5cfc5063ce24af5" name="a6f19d95c9bf5d29ea5cfc5063ce24af5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f19d95c9bf5d29ea5cfc5063ce24af5">&#9670;&#160;</a></span>query_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::query_time </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the time elapsed since the query started. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">float</td><td>Seconds with microseconds </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abf3175a0c0ca9a47f7228a5dd82cc0d8" name="abf3175a0c0ca9a47f7228a5dd82cc0d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf3175a0c0ca9a47f7228a5dd82cc0d8">&#9670;&#160;</a></span>record_exists()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::record_exists </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test whether a record exists in a table where all the given conditions met. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The table to check. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if a matching record exists, else false. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1bb1c6d5c6208e51c68cf56b9a24b1ac" name="a1bb1c6d5c6208e51c68cf56b9a24b1ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bb1c6d5c6208e51c68cf56b9a24b1ac">&#9670;&#160;</a></span>record_exists_select()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::record_exists_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test whether any records exists in a table which match a particular WHERE clause. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a WHERE clause in the SQL call. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if a matching record exists, else false. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad2bf8283a63f4d432b0e5289a991eb78" name="ad2bf8283a63f4d432b0e5289a991eb78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2bf8283a63f4d432b0e5289a991eb78">&#9670;&#160;</a></span>record_exists_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::record_exists_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test whether a SQL SELECT statement returns any records. </p>
<p>This function returns true if the SQL statement executes without any errors and returns at least one record.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The SQL statement to execute. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if the SQL executes without errors and returns at least one record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a78cee87e0f3b11c0b85dcdee1487ce01" name="a78cee87e0f3b11c0b85dcdee1487ce01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78cee87e0f3b11c0b85dcdee1487ce01">&#9670;&#160;</a></span>release_session_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::release_session_lock </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$rowid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Releases the session lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$rowid</td><td>The id of the row with session record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#aaf2f2a5d983a792c513bc461237c484e">mysqli_native_moodle_database</a>, <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a2d65b5ee42c780e4e05c50db0bfa33f3">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#aec01c7b3d6bd29048ba7e845e1c358c8">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a9c89e08b712205fb341d088e62062e91" name="a9c89e08b712205fb341d088e62062e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c89e08b712205fb341d088e62062e91">&#9670;&#160;</a></span>replace_all_text()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::replace_all_text </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d41/classdatabase__column__info.html">database_column_info</a></td>          <td class="paramname"><span class="paramname"><em>$column</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$search</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$replace</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Replace given text in all rows of column. </p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.6.1 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>name of the table </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d8/d41/classdatabase__column__info.html">database_column_info</a></td><td class="paramname">$column</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$search</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$replace</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae059743f764b66f1a55b9a7a0447480e" name="ae059743f764b66f1a55b9a7a0447480e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae059743f764b66f1a55b9a7a0447480e">&#9670;&#160;</a></span>replace_all_text_supported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::replace_all_text_supported </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does this driver support tool_replace? </p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.6.1 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a282c446467886bea70a4dc5ace1ce257">mysqli_native_moodle_database</a>, <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a53128e5cebe4e69f198a4659dee95aef">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a270fa7a6a257ea57c6aadb723ded1fc4">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a566d10b7a58d695c82fa97290d183c7f" name="a566d10b7a58d695c82fa97290d183c7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a566d10b7a58d695c82fa97290d183c7f">&#9670;&#160;</a></span>reset_caches()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::reset_caches </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablenames</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets the internal column details cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$tablenames</td><td>an array of xmldb table names affected by this request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a52626080be6e106f27052edac0046718" name="a52626080be6e106f27052edac0046718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52626080be6e106f27052edac0046718">&#9670;&#160;</a></span>rollback_delegated_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::rollback_delegated_transaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/db9/classmoodle__transaction.html">moodle_transaction</a></td>          <td class="paramname"><span class="paramname"><em>$transaction</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$e</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call when delegated transaction failed, this rolls back all delegated transactions up to the top most level. </p>
<p>In many cases you do not need to call this method manually, because all open delegated transactions are rolled back automatically if exceptions not caught.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d8/db9/classmoodle__transaction.html" title="Delegated transaction class.">moodle_transaction</a></td><td class="paramname">$transaction</td><td>An instance of a <a class="el" href="../../d8/db9/classmoodle__transaction.html" title="Delegated transaction class.">moodle_transaction</a>. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../df/d70/class_exception.html" title="General SimplePie exception class.">Exception</a>&#160;|&#160;Throwable</td><td class="paramname">$e</td><td>The related exception/throwable to this transaction rollback. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td>This does not return, instead the exception passed in will be rethrown. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1927f39db382df39427e25f89f907a11" name="a1927f39db382df39427e25f89f907a11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1927f39db382df39427e25f89f907a11">&#9670;&#160;</a></span>rollback_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::rollback_transaction </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Driver specific abort of real database transaction, this can not be used directly in code. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#ab531ad140c3e7532efcde3821ff4bdb1">moodle_database</a>.</p>

</div>
</div>
<a id="ae82cef939ad959751ee2aac1c482d356" name="ae82cef939ad959751ee2aac1c482d356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae82cef939ad959751ee2aac1c482d356">&#9670;&#160;</a></span>session_lock_supported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::session_lock_supported </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is session lock supported in this driver? </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a01d9a7840353df2b1a28353e89b1eebf">mysqli_native_moodle_database</a>, <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a20ab3fd0fbf2d1faa08f4815a9cc28a5">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a545da709d4a3e75bc0e334eb3ce69e51">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a35d0837880bf49e85ca84301f2be3eb7" name="a35d0837880bf49e85ca84301f2be3eb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35d0837880bf49e85ca84301f2be3eb7">&#9670;&#160;</a></span>set_debug()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::set_debug </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable/disable very detailed debugging. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$state</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5e884967eafc75a13446856e3d4bcf18" name="a5e884967eafc75a13446856e3d4bcf18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e884967eafc75a13446856e3d4bcf18">&#9670;&#160;</a></span>set_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::set_field </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newfield</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newvalue</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a single field in every table record where all the given conditions met. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newfield</td><td>the field to set. </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$newvalue</td><td>the value to set the field to. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a766368b5c13e01ebe4f856b57ace5ae5" name="a766368b5c13e01ebe4f856b57ace5ae5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a766368b5c13e01ebe4f856b57ace5ae5">&#9670;&#160;</a></span>set_field_select()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::set_field_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newfield</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newvalue</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a single field in every table row where the select statement evaluates to true. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newfield</td><td>the field to set. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newvalue</td><td>the value to set the field to. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a where clause in the SQL call. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a3cada6a743d80f1c66775d33b9065b75">moodle_database</a>.</p>

</div>
</div>
<a id="ab747076263a0c2fd6a802cb74382ad57" name="ab747076263a0c2fd6a802cb74382ad57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab747076263a0c2fd6a802cb74382ad57">&#9670;&#160;</a></span>setup_is_unicodedb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::setup_is_unicodedb </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks to see if the database is in unicode mode? </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a8d8a59b122bc0668b00eb85465a0d413">mysqli_native_moodle_database</a>, and <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#acbd944ecdaafb8844226d2c300d553c3">pgsql_native_moodle_database</a>.</p>

</div>
</div>
<a id="ac68dc229239c363cbb694b5b48e80394" name="ac68dc229239c363cbb694b5b48e80394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac68dc229239c363cbb694b5b48e80394">&#9670;&#160;</a></span>sql_bitand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_bitand </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int2</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used in order to perform one bitwise AND operation between 2 integers. </p>
<p>NOTE: The SQL result is a number and can not be used directly in SQL condition, please compare it to some number to get a bool!!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$int1</td><td>SQL for the first integer in the operation. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$int2</td><td>SQL for the second integer in the operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acac48b82fd3f9c783378bafbb5d3d114" name="acac48b82fd3f9c783378bafbb5d3d114"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acac48b82fd3f9c783378bafbb5d3d114">&#9670;&#160;</a></span>sql_bitnot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_bitnot </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int1</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used in order to perform one bitwise NOT operation with 1 integer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$int1</td><td>The operand integer in the operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a80882d2125b553aab4f8ca270482bb71" name="a80882d2125b553aab4f8ca270482bb71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80882d2125b553aab4f8ca270482bb71">&#9670;&#160;</a></span>sql_bitor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_bitor </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int2</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used in order to perform one bitwise OR operation between 2 integers. </p>
<p>NOTE: The SQL result is a number and can not be used directly in SQL condition, please compare it to some number to get a bool!!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$int1</td><td>The first operand integer in the operation. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$int2</td><td>The second operand integer in the operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad4e61636f425f4bb9de8916a78460c3e" name="ad4e61636f425f4bb9de8916a78460c3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4e61636f425f4bb9de8916a78460c3e">&#9670;&#160;</a></span>sql_bitxor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_bitxor </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int2</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used in order to perform one bitwise XOR operation between 2 integers. </p>
<p>NOTE: The SQL result is a number and can not be used directly in SQL condition, please compare it to some number to get a bool!!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$int1</td><td>The first operand integer in the operation. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$int2</td><td>The second operand integer in the operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#af9ec217ea430b0fb086216947b2986a3">pgsql_native_moodle_database</a>.</p>

</div>
</div>
<a id="a1694340dccdc80574299d01339b65197" name="a1694340dccdc80574299d01339b65197"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1694340dccdc80574299d01339b65197">&#9670;&#160;</a></span>sql_cast_2signed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_cast_2signed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL to be used in order to an UNSIGNED INTEGER column to SIGNED. </p>
<p>(Only <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> needs this. <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> things that 1 * -1 = 18446744073709551615 if the 1 comes from an unsigned column).</p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000295">Deprecated</a></b></dt><dd>since 2.3 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The name of the field to be cast </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#af04c35869c12df64a86464b5687e168c">mysqli_native_moodle_database</a>.</p>

</div>
</div>
<a id="a180f8af7f59e19066d71edcdc304afb6" name="a180f8af7f59e19066d71edcdc304afb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a180f8af7f59e19066d71edcdc304afb6">&#9670;&#160;</a></span>sql_cast_char2int()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_cast_char2int </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$text</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL to be used in order to CAST one CHAR column to INTEGER. </p>
<p>Be aware that the CHAR column you're trying to cast contains really int values or the RDBMS will throw an error!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The name of the field to be casted. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$text</td><td>Specifies if the original column is one TEXT (CLOB) column (true). Defaults to false. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a4ad90505cf998ae1e32fd13abe20972d">mysqli_native_moodle_database</a>, <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a27270e53c0c2e92e9c722e4996889118">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#ac2181a784fde0a95fec354cd32aa2d49">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a0439d8a8138f109078dca2844de06625" name="a0439d8a8138f109078dca2844de06625"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0439d8a8138f109078dca2844de06625">&#9670;&#160;</a></span>sql_cast_char2real()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_cast_char2real </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$text</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL to be used in order to CAST one CHAR column to REAL number. </p>
<p>Be aware that the CHAR column you're trying to cast contains really numbers or the RDBMS will throw an error!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The name of the field to be casted. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$text</td><td>Specifies if the original column is one TEXT (CLOB) column (true). Defaults to false. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a2f45b0d7e916fc199a8d2b5aa1ad4c7b">mysqli_native_moodle_database</a>, <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a06d4e0595179c1fc2357f2fca0222f35">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#aeb659708a71e36c20a76393142e32f9e">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a790893b7ddd951c847e89ff924e49002" name="a790893b7ddd951c847e89ff924e49002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a790893b7ddd951c847e89ff924e49002">&#9670;&#160;</a></span>sql_cast_to_char()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_cast_to_char </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$field</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return SQL for casting to char of given field/expression. </p>
<p>Default implementation performs implicit cast using concatenation with an empty string</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td>Table field or SQL expression to be cast </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a64d74cbdb71cb1f85551f1625da73751">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a6b228d6eed81b5e93d89229fcef805cd">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="af7890196bac87305b781986a03c6f5be" name="af7890196bac87305b781986a03c6f5be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7890196bac87305b781986a03c6f5be">&#9670;&#160;</a></span>sql_ceil()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_ceil </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the cross db correct CEIL (ceiling) expression applied to fieldname. </p>
<p>note: Most DBs use CEIL(), hence it's the default here.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The field (or expression) we are going to ceil. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your ceiling statement. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#afc575b21bf49ae1dfcc9cd5ce13e4e87">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a820b8acd947c5e66d363d7900c24565f" name="a820b8acd947c5e66d363d7900c24565f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a820b8acd947c5e66d363d7900c24565f">&#9670;&#160;</a></span>sql_compare_text()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_compare_text </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$numchars</em></span><span class="paramdefsep"> = </span><span class="paramdefval">32</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used to compare one TEXT (clob) column with one varchar column, because some RDBMS doesn't support such direct comparisons. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The name of the TEXT field we need to order by </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$numchars</td><td>Number of chars to use for the ordering (defaults to 32). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2e86f216da2220ffb57d6276da6c3403" name="a2e86f216da2220ffb57d6276da6c3403"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e86f216da2220ffb57d6276da6c3403">&#9670;&#160;</a></span>sql_concat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::sql_concat </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the proper SQL to do CONCAT between the elements(fieldnames) passed. </p>
<p>This function accepts variable number of string parameters. All strings/fieldnames will used in the SQL concatenate statement generated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$arr,...</td><td>expressions to be concatenated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The SQL to concatenate strings passed in. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a90ca908bef686f9e757de65a8fa2b273">moodle_database</a>.</p>

</div>
</div>
<a id="a93667a189d802a490e46ca1585b6ee90" name="a93667a189d802a490e46ca1585b6ee90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93667a189d802a490e46ca1585b6ee90">&#9670;&#160;</a></span>sql_concat_join()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::sql_concat_join </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$separator</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;'&#160;'&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$elements</em></span><span class="paramdefsep"> = </span><span class="paramdefval">array()</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the proper SQL to do CONCAT between the elements passed with a given separator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$separator</td><td>The separator desired for the SQL concatenating $elements. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$elements</td><td>The array of strings to be concatenated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The SQL to concatenate the strings. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a7d9dde595f34975475f4d0df3a2f9b1b">moodle_database</a>.</p>

</div>
</div>
<a id="ae22406799410a3cbdd253516eab46c5c" name="ae22406799410a3cbdd253516eab46c5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae22406799410a3cbdd253516eab46c5c">&#9670;&#160;</a></span>sql_empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_empty </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This used to return empty string replacement character. </p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000296">Deprecated</a></b></dt><dd>use bound parameter with empty string instead</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>An empty string. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4961151d8452dbbae8764a21d3995924" name="a4961151d8452dbbae8764a21d3995924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4961151d8452dbbae8764a21d3995924">&#9670;&#160;</a></span>sql_equal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_equal </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$param</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$casesensitive</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$accentsensitive</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$notequal</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an equal (=) or not equal (&lt;&gt;) part of a query. </p>
<p>Note the use of this method may lead to slower queries (full scans) so use it only when needed and against already reduced data sets.</p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.2</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>Usually the name of the table column. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param</td><td>Usually the bound query parameter (?, :named). </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$casesensitive</td><td>Use case sensitive search when set to true (default). </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$accentsensitive</td><td>Use accent sensitive search when set to true (default). (not all databases support accent insensitive) </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$notequal</td><td>True means not equal (&lt;&gt;) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The SQL code fragment. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a97728114ee233b71bd2aa862ef3e5602">mysqli_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#af6016138216f1545f2eb2cca6440400d">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="aff9684dbbfefd579a8e8925e1930aff4" name="aff9684dbbfefd579a8e8925e1930aff4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff9684dbbfefd579a8e8925e1930aff4">&#9670;&#160;</a></span>sql_fullname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_fullname </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$first</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'firstname'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$last</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'lastname'</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the proper SQL (for the dbms in use) to concatenate $firstname and $lastname. </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000134">Todo</a></b></dt><dd><a href="https://tracker.moodle.org/browse/MDL-31233" class="el">MDL-31233</a> This may not be needed here.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$first</td><td>User's first name (default:'firstname'). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$last</td><td>User's last name (default:'lastname'). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The SQL to concatenate strings. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a66295f6896c178df8cfb14f8b34f29f8" name="a66295f6896c178df8cfb14f8b34f29f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66295f6896c178df8cfb14f8b34f29f8">&#9670;&#160;</a></span>sql_group_concat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::sql_group_concat </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$field</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$separator</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">'</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return SQL for performing group concatenation on given field/expression. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$separator</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a71e8c0d5b06ffc6a15d113cb563c3fbc">moodle_database</a>.</p>

</div>
</div>
<a id="aa750949c8de170e0d0af4f5fa60059c6" name="aa750949c8de170e0d0af4f5fa60059c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa750949c8de170e0d0af4f5fa60059c6">&#9670;&#160;</a></span>sql_intersect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_intersect </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$selects</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL that allows to find intersection of two or more queries. </p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.8</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$selects</td><td>array of SQL select queries, each of them only returns fields with the names from $fields </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>comma-separated list of fields (used only by some <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> engines) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>SQL query that will return only values that are present in each of selects </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a354de7f0293a8bf898e9569d34ce93d4">mysqli_native_moodle_database</a>.</p>

</div>
</div>
<a id="a4191fbfdf4d8f178c7f8baa6f0b3f10c" name="a4191fbfdf4d8f178c7f8baa6f0b3f10c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4191fbfdf4d8f178c7f8baa6f0b3f10c">&#9670;&#160;</a></span>sql_isempty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_isempty </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$nullablefield</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$textfield</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the proper SQL to know if one field is empty. </p>
<p>Note that the function behavior strongly relies on the parameters passed describing the field so, please, be accurate when specifying them.</p>
<p>Also, note that this function is not suitable to look for fields having NULL contents at all. It's all for empty values!</p>
<p>This function should be applied in all the places where conditions of the type: </p><pre class="fragment">... AND fieldname = '';
</pre><p>are being used. Final result for text fields should be: </p><pre class="fragment">... AND ' . sql_isempty('tablename', 'fieldname', true/false, true);
</pre><p>and for varchar fields result should be:</p>
<p>... AND fieldname = :empty; "; $params['empty'] = '';</p>
<p>(see parameters description below)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$tablename</td><td>Name of the table (without prefix). Not used for now but can be necessary in the future if we want to use some introspection using meta information against the <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a>. /// TODO /// </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>Name of the field we are going to check </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$nullablefield</td><td>For specifying if the field is nullable (true) or no (false) in the <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a>. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$textfield</td><td>For specifying if it is a text (also called clob) field (true) or a varchar one (false) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the sql code to be added to check for empty values </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a9eff09e65c8a28b1710c9e597a4463be">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a15973dfa55e723dee0363e3aee643914" name="a15973dfa55e723dee0363e3aee643914"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15973dfa55e723dee0363e3aee643914">&#9670;&#160;</a></span>sql_isnotempty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_isnotempty </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$nullablefield</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$textfield</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the proper SQL to know if one field is not empty. </p>
<p>Note that the function behavior strongly relies on the parameters passed describing the field so, please, be accurate when specifying them.</p>
<p>This function should be applied in all the places where conditions of the type: </p><pre class="fragment">... AND fieldname != '';
</pre><p>are being used. Final result for text fields should be: </p><pre class="fragment">... AND ' . sql_isnotempty('tablename', 'fieldname', true/false, true/false);
</pre><p>and for varchar fields result should be:</p>
<p>... AND fieldname != :empty; "; $params['empty'] = '';</p>
<p>(see parameters description below)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$tablename</td><td>Name of the table (without prefix). This is not used for now but can be necessary in the future if we want to use some introspection using meta information against the <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a>. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The name of the field we are going to check. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$nullablefield</td><td>Specifies if the field is nullable (true) or not (false) in the <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a>. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$textfield</td><td>Specifies if it is a text (also called clob) field (true) or a varchar one (false). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The sql code to be added to check for non empty values. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a36de447388d1b69eea5e6aa8cef28939" name="a36de447388d1b69eea5e6aa8cef28939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36de447388d1b69eea5e6aa8cef28939">&#9670;&#160;</a></span>sql_length()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_length </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used to calculate the length in characters of one expression. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The fieldname/expression to calculate its length in characters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the piece of SQL code to be used in the statement. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a8794c1c35daa08f69264b7d4090f4a77">mysqli_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a81ac726f881d3200b018d7b0c8b97f03">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="aa73681203c2756b0f4acc0048e3dced0" name="aa73681203c2756b0f4acc0048e3dced0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa73681203c2756b0f4acc0048e3dced0">&#9670;&#160;</a></span>sql_like()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_like </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$param</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$casesensitive</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$accentsensitive</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$notlike</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$escapechar</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'\\'</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns 'LIKE' part of a query. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>Usually the name of the table column. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param</td><td>Usually the bound query parameter (?, :named). </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$casesensitive</td><td>Use case sensitive search when set to true (default). </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$accentsensitive</td><td>Use accent sensitive search when set to true (default). (not all databases support accent insensitive) </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$notlike</td><td>True means "NOT LIKE". </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$escapechar</td><td>The escape char for '' and '_'. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The SQL code fragment. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a303026767ea836b991a1eb6fccd61edd">mysqli_native_moodle_database</a>, <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#ac22ee546426829336da19a3f09ea2507">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a0e63b563561e7c4f8b2d7b859bbd8be9">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a2c121b8dd12ec96c1b383f408771f9df" name="a2c121b8dd12ec96c1b383f408771f9df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c121b8dd12ec96c1b383f408771f9df">&#9670;&#160;</a></span>sql_like_escape()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_like_escape </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$text</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$escapechar</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'\\'</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Escape sql LIKE special characters like '_' or ''. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>The string containing characters needing escaping. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$escapechar</td><td>The desired escape character, defaults to '::::'. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The escaped sql LIKE string. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a22f17d732c22159cd6901d09316a531f">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a4a8c36b4f5df99363ab8bddfe2b718c4" name="a4a8c36b4f5df99363ab8bddfe2b718c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a8c36b4f5df99363ab8bddfe2b718c4">&#9670;&#160;</a></span>sql_modulo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_modulo </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int2</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used in order to perform module '' operation - remainder after division. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$int1</td><td>The first operand integer in the operation. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$int2</td><td>The second operand integer in the operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a17896707600b6f12a885e0928cad3c62" name="a17896707600b6f12a885e0928cad3c62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17896707600b6f12a885e0928cad3c62">&#9670;&#160;</a></span>sql_null_from_clause()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_null_from_clause </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the FROM clause required by some DBs in all SELECT statements. </p>
<p>To be used in queries not having FROM clause to provide cross_db Most DBs don't need it, hence the default is '' </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7eb3d5f73789b5ed8c809e6fe1a0fa84" name="a7eb3d5f73789b5ed8c809e6fe1a0fa84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eb3d5f73789b5ed8c809e6fe1a0fa84">&#9670;&#160;</a></span>sql_order_by_null()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_order_by_null </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">SORT_ASC</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used to order by columns, standardising the return pattern of null values across database types to sort nulls first when ascending and last when descending. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The name of the field we need to sort by. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$sort</td><td>An order to sort the results in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a822470c86b6a680bd28e063d6f775cf8">pgsql_native_moodle_database</a>.</p>

</div>
</div>
<a id="a4e51c0085bf05d53d7fb61840645f2c7" name="a4e51c0085bf05d53d7fb61840645f2c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e51c0085bf05d53d7fb61840645f2c7">&#9670;&#160;</a></span>sql_order_by_text()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_order_by_text </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$numchars</em></span><span class="paramdefsep"> = </span><span class="paramdefval">32</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used to order by one TEXT (clob) column, because some RDBMS doesn't support direct ordering of such fields. </p>
<p>Note that the use or queries being ordered by TEXT columns must be minimised, because it's really slooooooow.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The name of the TEXT field we need to order by. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$numchars</td><td>The number of chars to use for the ordering (defaults to 32). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a3e07de92d79438fbdcb72305f92ae32b">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a2e8706138bc2db33bf1da592c0c55ac1" name="a2e8706138bc2db33bf1da592c0c55ac1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e8706138bc2db33bf1da592c0c55ac1">&#9670;&#160;</a></span>sql_position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_position </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$needle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$haystack</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL for returning searching one string for the location of another. </p>
<p>Note, there is no guarantee which order $needle, $haystack will be in the resulting SQL so when using this method, and both arguments contain placeholders, you should use named placeholders.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$needle</td><td>the SQL expression that will be searched for. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$haystack</td><td>the SQL expression that will be searched in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The required searching SQL part. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a67c683d5757fbbedbaff009ae88af77a">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="ae7fba4bbf3f6e865a889e8742481e7e4" name="ae7fba4bbf3f6e865a889e8742481e7e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7fba4bbf3f6e865a889e8742481e7e4">&#9670;&#160;</a></span>sql_regex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_regex </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$positivematch</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$casesensitive</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the driver specific syntax (SQL part) for matching regex positively or negatively (inverted matching). </p>
<p>Eg: 'REGEXP':'NOT REGEXP' or '~*' : '!~*'</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$positivematch</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$casesensitive</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>or empty if not supported </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a69a9ff16cb42c07d95a049e75fa21428">mysqli_native_moodle_database</a>, and <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a042b110b457fc7b1c52043d6c48773cf">pgsql_native_moodle_database</a>.</p>

</div>
</div>
<a id="a52bf2f972a7f4e6a5f6456bf36cfedce" name="a52bf2f972a7f4e6a5f6456bf36cfedce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52bf2f972a7f4e6a5f6456bf36cfedce">&#9670;&#160;</a></span>sql_regex_get_word_beginning_boundary_marker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_regex_get_word_beginning_boundary_marker </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the word-beginning boundary marker if this database driver supports regex syntax when searching. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The word-beginning boundary marker. Otherwise, an empty string. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#afa629853c2fd0bd659864594c8498b31">mysqli_native_moodle_database</a>.</p>

</div>
</div>
<a id="a2313430109d2e2c6625d0462fca7d1b8" name="a2313430109d2e2c6625d0462fca7d1b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2313430109d2e2c6625d0462fca7d1b8">&#9670;&#160;</a></span>sql_regex_get_word_end_boundary_marker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_regex_get_word_end_boundary_marker </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the word-end boundary marker if this database driver supports regex syntax when searching. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The word-end boundary marker. Otherwise, an empty string. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a05a7c7b03e223bc39b855a0ca23727eb">mysqli_native_moodle_database</a>.</p>

</div>
</div>
<a id="a2372afdf1879c5b986f9ea5e04352304" name="a2372afdf1879c5b986f9ea5e04352304"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2372afdf1879c5b986f9ea5e04352304">&#9670;&#160;</a></span>sql_regex_supported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_regex_supported </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if this database driver supports regex syntax when searching. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if supported. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a36385de1a5b1bfd8f1ab6b40585573c5">mysqli_native_moodle_database</a>, and <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#ab191baff390a37b2fba7d4c86d0994c9">pgsql_native_moodle_database</a>.</p>

</div>
</div>
<a id="a1bec22642abe1fe63bf0c82b5206a6e4" name="a1bec22642abe1fe63bf0c82b5206a6e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bec22642abe1fe63bf0c82b5206a6e4">&#9670;&#160;</a></span>sql_substr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_substr </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$expr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$start</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$length</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the proper substr() SQL text used to extract substrings from <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> NOTE: this was originally returning only function name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$expr</td><td>Some string field, no aggregates. </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$start</td><td>Integer or expression evaluating to integer (1 based value; first char has index 1) </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$length</td><td>Optional integer or expression evaluating to integer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The sql substring extraction fragment. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a4c8979afe5ae2d317f772d6997acad02">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a5f26ff20924496ec4d7b12003e4bb9cf" name="a5f26ff20924496ec4d7b12003e4bb9cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f26ff20924496ec4d7b12003e4bb9cf">&#9670;&#160;</a></span>start_delegated_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::start_delegated_transaction </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>On DBs that support it, switch to transaction mode and begin a transaction you'll need to ensure you call allow_commit() on the returned object or your changes <em>will</em> be lost. </p>
<p>this is <em>very</em> useful for massive updates</p>
<p>Delegated database transactions can be nested, but only one actual database transaction is used for the outer-most delegated transaction. This method returns a transaction object which you should keep until the end of the delegated transaction. The actual database transaction will only be committed if all the nested delegated transactions commit successfully. If any part of the transaction rolls back then the whole thing is rolled back.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d8/db9/classmoodle__transaction.html" title="Delegated transaction class.">moodle_transaction</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a161e60ee2e05393bf0163460a92fbf7d" name="a161e60ee2e05393bf0163460a92fbf7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a161e60ee2e05393bf0163460a92fbf7d">&#9670;&#160;</a></span>store_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::store_settings </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbhost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbuser</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbpass</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$prefix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$dboptions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Store various database settings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$dbhost</td><td>The database host. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbuser</td><td>The database user to connect as. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbpass</td><td>The password to use when connecting to the database. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbname</td><td>The name of the database being connected to. </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$prefix</td><td>string means moodle db prefix, false used for external databases where prefix not used </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$dboptions</td><td>driver specific options </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac5788c52d917e79d2c95464809732aae" name="ac5788c52d917e79d2c95464809732aae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5788c52d917e79d2c95464809732aae">&#9670;&#160;</a></span>transactions_forbidden()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::transactions_forbidden </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is a test that throws an exception if transaction in progress. </p>
<p>This test does not force rollback of active transactions. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d2/d42/classdml__transaction__exception.html" title="DML transaction exception - triggered by problems related to DB transactions.">dml_transaction_exception</a></td><td>if stansaction active </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaec9d44ef9c71181a5e15abe64052947" name="aaec9d44ef9c71181a5e15abe64052947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaec9d44ef9c71181a5e15abe64052947">&#9670;&#160;</a></span>transactions_supported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::transactions_supported </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks and returns true if transactions are supported. </p>
<p>It is not responsible to run productions servers on databases without transaction support ;-)</p>
<p>Override in driver if needed.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/d0d/classauroramysql__native__moodle__database.html#a9ef79af40d4c1194622451878057cf39">auroramysql_native_moodle_database</a>, <a class="el" href="../../d9/d22/classmariadb__native__moodle__database.html#ad4ced7a45b5e2fd15d6e7a5f4d0a1f22">mariadb_native_moodle_database</a>, and <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a71911b36fff90d99ba12fc0bba22665c">mysqli_native_moodle_database</a>.</p>

</div>
</div>
<a id="a386ab63a6ed9074fff21bdbdae223f41" name="a386ab63a6ed9074fff21bdbdae223f41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a386ab63a6ed9074fff21bdbdae223f41">&#9670;&#160;</a></span>update_record()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::update_record </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dataobject</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$bulk</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update a record in a table. </p>
<p>$dataobject is an object containing needed data Relies on $dataobject having a variable "id" to specify the record to update</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$dataobject</td><td>An object with contents equal to fieldname=&gt;fieldvalue. Must have an entry for 'id' to map to the table specified. </td></tr>
    <tr><td class="paramtype"></td><td class="paramname">bool</td><td>true means repeated updates expected </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#ae0b82b139bc584b0e76ddd5270a21236">moodle_database</a>.</p>

</div>
</div>
<a id="a50b4ecea27057aa55f0a822572644bb5" name="a50b4ecea27057aa55f0a822572644bb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50b4ecea27057aa55f0a822572644bb5">&#9670;&#160;</a></span>update_record_raw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pdo_moodle_database::update_record_raw </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$params</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$bulk</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update record in database, as fast as possible, no safety checks, lobs not supported. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>name </td></tr>
    <tr><td class="paramtype">stdClass&#160;|&#160;array</td><td class="paramname">$params</td><td>data record as object or array </td></tr>
    <tr><td class="paramtype"></td><td class="paramname">bool</td><td>true means repeated updates expected </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a644c573433f7c624257e9b1ef708fd8a">moodle_database</a>.</p>

</div>
</div>
<a id="af0bcbea24c115fc7c14d8db268255df8" name="af0bcbea24c115fc7c14d8db268255df8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0bcbea24c115fc7c14d8db268255df8">&#9670;&#160;</a></span>update_temp_table_stats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::update_temp_table_stats </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Analyze the data in temporary tables to force statistics collection after bulk data loads. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af3edae032155bebcb42baaa3a97d8a34" name="af3edae032155bebcb42baaa3a97d8a34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3edae032155bebcb42baaa3a97d8a34">&#9670;&#160;</a></span>want_read_replica()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::want_read_replica </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether we want to connect to replica database for read queries. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Want read only connection. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0d65ccf297cbad247020bacd16e5f2e1" name="a0d65ccf297cbad247020bacd16e5f2e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d65ccf297cbad247020bacd16e5f2e1">&#9670;&#160;</a></span>where_clause()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::where_clause </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL WHERE conditions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The table name that these conditions will be validated against. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>The conditions to build the where clause. (must not contain numeric indexes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array list containing sql 'where' part and 'params'. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aee549c23eaf78db12ba079a9e0279e59" name="aee549c23eaf78db12ba079a9e0279e59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee549c23eaf78db12ba079a9e0279e59">&#9670;&#160;</a></span>where_clause_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::where_clause_list </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$values</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns SQL WHERE conditions for the ..._list group of methods. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td>the name of a field. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$values</td><td>the values field might take. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array containing sql 'where' part and 'params' </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a3fa841ae6b4c000c77d2c4f2c68842c4" name="a3fa841ae6b4c000c77d2c4f2c68842c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fa841ae6b4c000c77d2c4f2c68842c4">&#9670;&#160;</a></span>$inorequaluniqueindex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int moodle_database::$inorequaluniqueindex = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>internal temporary variable used to guarantee unique parameters in each request. </p>
<p>Its used by <a class="el" href="../../d3/d6e/classmoodle__database.html#a9ad3b5ff05207f773cc49352b79740e0">get_in_or_equal()</a>. </p>

</div>
</div>
<a id="a98b3aaf27e355265db1838e10b49d49b" name="a98b3aaf27e355265db1838e10b49d49b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98b3aaf27e355265db1838e10b49d49b">&#9670;&#160;</a></span>$loggingquery</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool moodle_database::$loggingquery = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag indicating logging of query in progress. </p>
<p>This helps prevent infinite loops. </p>

</div>
</div>
<a id="acd93a51ea24daa4c930d2fb4a45f83a1" name="acd93a51ea24daa4c930d2fb4a45f83a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd93a51ea24daa4c930d2fb4a45f83a1">&#9670;&#160;</a></span>__pad0__</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">replacement moodle_database::__pad0__</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether we want to connect to slave database for read queries. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Want read only connection </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000297">Deprecated</a></b></dt><dd>Since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 5.0. See <a href="https://tracker.moodle.org/browse/MDL-71257" class="el">MDL-71257</a>. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000135">Todo</a></b></dt><dd>Final deprecation in <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 6.0. See <a href="https://tracker.moodle.org/browse/MDL-83171" class="el">MDL-83171</a>. </dd></dl>

</div>
</div>
<a id="afc94d1b2b078d795a08fc9e51cb4dda8" name="afc94d1b2b078d795a08fc9e51cb4dda8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc94d1b2b078d795a08fc9e51cb4dda8">&#9670;&#160;</a></span>__pad1__</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">replacement moodle_database::__pad1__</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of reads before first write done by this database. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>Number of reads. </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000298">Deprecated</a></b></dt><dd>Since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 5.0 </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000136">Todo</a></b></dt><dd>Final deprecation in <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 6.0. See <a href="https://tracker.moodle.org/browse/MDL-83171" class="el">MDL-83171</a>. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/dml/<b>pdo_moodle_database.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 1 2025 03:56:34 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
