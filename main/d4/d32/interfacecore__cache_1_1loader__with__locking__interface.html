<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: core_cache\loader_with_locking_interface Interface Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;5.0</span>
   </div>
   <div id="projectbrief">Moodle 5.0dev (Build: 20241025) (ec7711b9a60)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d5/d51/namespacecore__cache.html">core_cache</a></li><li class="navelem"><a class="el" href="../../d4/d32/interfacecore__cache_1_1loader__with__locking__interface.html">loader_with_locking_interface</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../db/da7/interfacecore__cache_1_1loader__with__locking__interface-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">core_cache\loader_with_locking_interface Interface Reference<div class="ingroups"><a class="el" href="../../dc/d7b/group__core__cache.html">core_cache</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for core_cache\loader_with_locking_interface:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d4/d32/interfacecore__cache_1_1loader__with__locking__interface.png" usemap="#core_5Fcache_5Cloader_5Fwith_5Flocking_5Finterface_map" alt=""/>
  <map id="core_5Fcache_5Cloader_5Fwith_5Flocking_5Finterface_map" name="core_5Fcache_5Cloader_5Fwith_5Flocking_5Finterface_map">
<area href="../../d2/d3a/classcore__cache_1_1application__cache.html" alt="core_cache\application_cache" shape="rect" coords="0,56,253,80"/>
<area href="../../d8/d29/classcore__cache_1_1disabled__cache.html" alt="core_cache\disabled_cache" shape="rect" coords="263,56,516,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6e3750715fee38a393cd8bdfd43567db" id="r_a6e3750715fee38a393cd8bdfd43567db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e3750715fee38a393cd8bdfd43567db">acquire_lock</a> ($key)</td></tr>
<tr class="memdesc:a6e3750715fee38a393cd8bdfd43567db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires a lock for the given key.  <br /></td></tr>
<tr class="separator:a6e3750715fee38a393cd8bdfd43567db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bd71df5c7495dff29cb4e3176f8fef1" id="r_a0bd71df5c7495dff29cb4e3176f8fef1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0bd71df5c7495dff29cb4e3176f8fef1">check_lock_state</a> ($key)</td></tr>
<tr class="memdesc:a0bd71df5c7495dff29cb4e3176f8fef1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the cache loader owns the lock for the given key.  <br /></td></tr>
<tr class="separator:a0bd71df5c7495dff29cb4e3176f8fef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a870d810d88034e7128f48f50f6a5f70a" id="r_a870d810d88034e7128f48f50f6a5f70a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a870d810d88034e7128f48f50f6a5f70a">release_lock</a> ($key)</td></tr>
<tr class="memdesc:a870d810d88034e7128f48f50f6a5f70a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the lock for the given key.  <br /></td></tr>
<tr class="separator:a870d810d88034e7128f48f50f6a5f70a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6e3750715fee38a393cd8bdfd43567db" name="a6e3750715fee38a393cd8bdfd43567db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e3750715fee38a393cd8bdfd43567db">&#9670;&#160;</a></span>acquire_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_cache\loader_with_locking_interface::acquire_lock </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$key</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acquires a lock for the given key. </p>
<p>Please note that this happens automatically if the cache definition requires locking. it is still made a public method so that adhoc caches can use it if they choose. However this doesn't guarantee consistent access. It will become the responsibility of the calling code to ensure locks are acquired, checked, and released.</p>
<p>Prior to <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 4,3 this function used to return false if the lock cannot be obtained. It now always returns true, and throws an exception if the lock cannot be obtained.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;int</td><td class="paramname">$key</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Always returns true (for backwards compatibility) </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">moodle_exception</td><td>If the lock cannot be obtained after a timeout </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="../../d2/d3a/classcore__cache_1_1application__cache.html#a1fdeeef9d221a07bf07f0a51777dbfb5">core_cache\application_cache</a>, and <a class="el" href="../../d8/d29/classcore__cache_1_1disabled__cache.html#ae75c3b74adcb4afd5f7e1391d97e18db">core_cache\disabled_cache</a>.</p>

</div>
</div>
<a id="a0bd71df5c7495dff29cb4e3176f8fef1" name="a0bd71df5c7495dff29cb4e3176f8fef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bd71df5c7495dff29cb4e3176f8fef1">&#9670;&#160;</a></span>check_lock_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_cache\loader_with_locking_interface::check_lock_state </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$key</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the cache loader owns the lock for the given key. </p>
<p>Please note that this happens automatically if the cache definition requires locking. it is still made a public method so that adhoc caches can use it if they choose. However this doesn't guarantee consistent access. It will become the responsibility of the calling code to ensure locks are acquired, checked, and released.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;int</td><td class="paramname">$key</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if this code has the lock, false if there is a lock but this code doesn't have it, null if there is no lock. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="../../d2/d3a/classcore__cache_1_1application__cache.html#a9625c4375e9d072ffdacfd5a593260e7">core_cache\application_cache</a>, and <a class="el" href="../../d8/d29/classcore__cache_1_1disabled__cache.html#a03211cbe21295c4b18dba3532c59242c">core_cache\disabled_cache</a>.</p>

</div>
</div>
<a id="a870d810d88034e7128f48f50f6a5f70a" name="a870d810d88034e7128f48f50f6a5f70a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a870d810d88034e7128f48f50f6a5f70a">&#9670;&#160;</a></span>release_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_cache\loader_with_locking_interface::release_lock </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$key</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases the lock for the given key. </p>
<p>Please note that this happens automatically if the cache definition requires locking. it is still made a public method so that adhoc caches can use it if they choose. However this doesn't guarantee consistent access. It will become the responsibility of the calling code to ensure locks are acquired, checked, and released.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;int</td><td class="paramname">$key</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the lock has been released, false if there was a problem releasing the lock. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="../../d2/d3a/classcore__cache_1_1application__cache.html#a99344f1b9013ebd565047a06f47a2a30">core_cache\application_cache</a>, and <a class="el" href="../../d8/d29/classcore__cache_1_1disabled__cache.html#ab79d6f499de30a907f988141193f7650">core_cache\disabled_cache</a>.</p>

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li>cache/classes/<b>loader_with_locking_interface.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Oct 27 2024 03:04:27 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
