<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: core_search\document Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;5.0</span>
   </div>
   <div id="projectbrief">Moodle 5.0dev (Build: 20250221) (7a318d5c85a)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d4/dbc/namespacecore__search.html">core_search</a></li><li class="navelem"><a class="el" href="../../d3/d5d/classcore__search_1_1document.html">document</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="../../db/d2c/classcore__search_1_1document-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">core_search\document Class Reference<div class="ingroups"><a class="el" href="../../dc/da9/group__core__search.html">core_search</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Represents a document to index.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for core_search\document:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d3/d5d/classcore__search_1_1document.png" usemap="#core_5Fsearch_5Cdocument_map" alt=""/>
  <map id="core_5Fsearch_5Cdocument_map" name="core_5Fsearch_5Cdocument_map">
<area href="../../d5/d8e/classsearch__solr_1_1document.html" title="Respresents a document to index." alt="search_solr\document" shape="rect" coords="76,112,218,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a80d83093eab04b40d32586e379324612" id="r_a80d83093eab04b40d32586e379324612"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80d83093eab04b40d32586e379324612">__construct</a> ($itemid, $componentname, $areaname)</td></tr>
<tr class="memdesc:a80d83093eab04b40d32586e379324612"><td class="mdescLeft">&#160;</td><td class="mdescRight">We ensure that the document has a unique id across search areas.  <br /></td></tr>
<tr class="separator:a80d83093eab04b40d32586e379324612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b8083239829aa25221bb21b062a0a4" id="r_a01b8083239829aa25221bb21b062a0a4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01b8083239829aa25221bb21b062a0a4">add_stored_file</a> ($file)</td></tr>
<tr class="memdesc:a01b8083239829aa25221bb21b062a0a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a stored file to the document.  <br /></td></tr>
<tr class="separator:a01b8083239829aa25221bb21b062a0a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb7c334ecfe29098343430b7e26986a0" id="r_aeb7c334ecfe29098343430b7e26986a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb7c334ecfe29098343430b7e26986a0">export_doc</a> (\renderer_base $output)</td></tr>
<tr class="memdesc:aeb7c334ecfe29098343430b7e26986a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current docuement information.  <br /></td></tr>
<tr class="separator:aeb7c334ecfe29098343430b7e26986a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51ba3421fa38b91fff6fa965a94b465a" id="r_a51ba3421fa38b91fff6fa965a94b465a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51ba3421fa38b91fff6fa965a94b465a">export_for_engine</a> ()</td></tr>
<tr class="memdesc:a51ba3421fa38b91fff6fa965a94b465a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the document ready to submit to the search engine.  <br /></td></tr>
<tr class="separator:a51ba3421fa38b91fff6fa965a94b465a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d729cb399f46e7f3d331dd2fc65833f" id="r_a8d729cb399f46e7f3d331dd2fc65833f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d729cb399f46e7f3d331dd2fc65833f">export_for_template</a> (\renderer_base $output)</td></tr>
<tr class="memdesc:a8d729cb399f46e7f3d331dd2fc65833f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export the document data to be used as a template context.  <br /></td></tr>
<tr class="separator:a8d729cb399f46e7f3d331dd2fc65833f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1ace437c30217c09b584664c7abc484" id="r_aa1ace437c30217c09b584664c7abc484"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa1ace437c30217c09b584664c7abc484">get</a> ($field)</td></tr>
<tr class="memdesc:aa1ace437c30217c09b584664c7abc484"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter.  <br /></td></tr>
<tr class="separator:aa1ace437c30217c09b584664c7abc484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ab698eff11bb60c66160eb19e982257" id="r_a8ab698eff11bb60c66160eb19e982257"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ab698eff11bb60c66160eb19e982257">get_context_url</a> ()</td></tr>
<tr class="memdesc:a8ab698eff11bb60c66160eb19e982257"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the url to the context.  <br /></td></tr>
<tr class="separator:a8ab698eff11bb60c66160eb19e982257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad762c8e689ae520f688629dc126680e" id="r_aad762c8e689ae520f688629dc126680e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad762c8e689ae520f688629dc126680e">get_doc_icon</a> ()</td></tr>
<tr class="memdesc:aad762c8e689ae520f688629dc126680e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets document icon instance.  <br /></td></tr>
<tr class="separator:aad762c8e689ae520f688629dc126680e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc395ebefd012c8feb90bd4eeb240c2f" id="r_adc395ebefd012c8feb90bd4eeb240c2f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc395ebefd012c8feb90bd4eeb240c2f">get_doc_url</a> ()</td></tr>
<tr class="memdesc:adc395ebefd012c8feb90bd4eeb240c2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the url to the doc.  <br /></td></tr>
<tr class="separator:adc395ebefd012c8feb90bd4eeb240c2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1e4a3ae35c15384bc8624e9dd2611e1" id="r_aa1e4a3ae35c15384bc8624e9dd2611e1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa1e4a3ae35c15384bc8624e9dd2611e1">get_files</a> ()</td></tr>
<tr class="memdesc:aa1e4a3ae35c15384bc8624e9dd2611e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the array of attached files.  <br /></td></tr>
<tr class="separator:aa1e4a3ae35c15384bc8624e9dd2611e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa28ad93a5f5bca3a395257689213cb69" id="r_aa28ad93a5f5bca3a395257689213cb69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa28ad93a5f5bca3a395257689213cb69">get_is_new</a> ()</td></tr>
<tr class="memdesc:aa28ad93a5f5bca3a395257689213cb69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns if the document is new.  <br /></td></tr>
<tr class="separator:aa28ad93a5f5bca3a395257689213cb69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace5b0e443abd3e1fff6c411d16eeaacb" id="r_ace5b0e443abd3e1fff6c411d16eeaacb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace5b0e443abd3e1fff6c411d16eeaacb">is_set</a> ($field)</td></tr>
<tr class="memdesc:ace5b0e443abd3e1fff6c411d16eeaacb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a field is set.  <br /></td></tr>
<tr class="separator:ace5b0e443abd3e1fff6c411d16eeaacb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68bfb8263bd5e5396446a9111218cb56" id="r_a68bfb8263bd5e5396446a9111218cb56"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a68bfb8263bd5e5396446a9111218cb56">set</a> ($fieldname, $value)</td></tr>
<tr class="memdesc:a68bfb8263bd5e5396446a9111218cb56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter.  <br /></td></tr>
<tr class="separator:a68bfb8263bd5e5396446a9111218cb56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a77bc3c4387da23d700bbc2b2069451" id="r_a3a77bc3c4387da23d700bbc2b2069451"><td class="memItemLeft" align="right" valign="top"><a id="a3a77bc3c4387da23d700bbc2b2069451" name="a3a77bc3c4387da23d700bbc2b2069451"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>set_context_url</b> (\moodle_url $url)</td></tr>
<tr class="separator:a3a77bc3c4387da23d700bbc2b2069451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dd511699725a37f582f7dd18b1c0288" id="r_a1dd511699725a37f582f7dd18b1c0288"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1dd511699725a37f582f7dd18b1c0288">set_data_from_engine</a> ($docdata)</td></tr>
<tr class="memdesc:a1dd511699725a37f582f7dd18b1c0288"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills the document with data coming from the search engine.  <br /></td></tr>
<tr class="separator:a1dd511699725a37f582f7dd18b1c0288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae43474ba1512334932ef5f061939d0db" id="r_ae43474ba1512334932ef5f061939d0db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae43474ba1512334932ef5f061939d0db">set_doc_icon</a> (<a class="el" href="../../d6/d74/classcore__search_1_1document__icon.html">document_icon</a> $docicon)</td></tr>
<tr class="memdesc:ae43474ba1512334932ef5f061939d0db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets document icon instance.  <br /></td></tr>
<tr class="separator:ae43474ba1512334932ef5f061939d0db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51582bff0083221e08e9d720fc7966ba" id="r_a51582bff0083221e08e9d720fc7966ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51582bff0083221e08e9d720fc7966ba">set_doc_url</a> (\moodle_url $url)</td></tr>
<tr class="memdesc:a51582bff0083221e08e9d720fc7966ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the document url.  <br /></td></tr>
<tr class="separator:a51582bff0083221e08e9d720fc7966ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cd2c52fa54c6d7ff164d5cdeb174d2a" id="r_a6cd2c52fa54c6d7ff164d5cdeb174d2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6cd2c52fa54c6d7ff164d5cdeb174d2a">set_extra</a> ($fieldname, $value)</td></tr>
<tr class="memdesc:a6cd2c52fa54c6d7ff164d5cdeb174d2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets data to this-&gt;extradata.  <br /></td></tr>
<tr class="separator:a6cd2c52fa54c6d7ff164d5cdeb174d2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6328f014d68b2d02838dda0f61c847c2" id="r_a6328f014d68b2d02838dda0f61c847c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6328f014d68b2d02838dda0f61c847c2">set_is_new</a> ($new)</td></tr>
<tr class="memdesc:a6328f014d68b2d02838dda0f61c847c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set if this is a new document.  <br /></td></tr>
<tr class="separator:a6328f014d68b2d02838dda0f61c847c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ae87b232812018b2156058b5274659adb" id="r_ae87b232812018b2156058b5274659adb"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae87b232812018b2156058b5274659adb">format_string_for_engine</a> ($string)</td></tr>
<tr class="memdesc:ae87b232812018b2156058b5274659adb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Formats a string value for the search engine.  <br /></td></tr>
<tr class="separator:ae87b232812018b2156058b5274659adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8950a85caa5bf092c899a333607d4f02" id="r_a8950a85caa5bf092c899a333607d4f02"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8950a85caa5bf092c899a333607d4f02">format_text_for_engine</a> ($text)</td></tr>
<tr class="memdesc:a8950a85caa5bf092c899a333607d4f02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Formats a text value for the search engine.  <br /></td></tr>
<tr class="separator:a8950a85caa5bf092c899a333607d4f02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab92b32cf3d791655ee71818b48b87" id="r_afeab92b32cf3d791655ee71818b48b87"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afeab92b32cf3d791655ee71818b48b87">format_time_for_engine</a> ($timestamp)</td></tr>
<tr class="memdesc:afeab92b32cf3d791655ee71818b48b87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Formats the timestamp preparing the time fields to be inserted into the search engine.  <br /></td></tr>
<tr class="separator:afeab92b32cf3d791655ee71818b48b87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab74456b7ab82ca3d37b843a1a44e917" id="r_aab74456b7ab82ca3d37b843a1a44e917"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab74456b7ab82ca3d37b843a1a44e917">get_default_fields_definition</a> ()</td></tr>
<tr class="memdesc:aab74456b7ab82ca3d37b843a1a44e917"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all default fields definitions.  <br /></td></tr>
<tr class="separator:aab74456b7ab82ca3d37b843a1a44e917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accaf47b23c2b136a5e80017da9f0edb2" id="r_accaf47b23c2b136a5e80017da9f0edb2"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#accaf47b23c2b136a5e80017da9f0edb2">import_time_from_engine</a> ($time)</td></tr>
<tr class="memdesc:accaf47b23c2b136a5e80017da9f0edb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a timestamp from the value stored in the search engine.  <br /></td></tr>
<tr class="separator:accaf47b23c2b136a5e80017da9f0edb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aa2d8eeca2a0c1f926995beb0edbad59e" id="r_aa2d8eeca2a0c1f926995beb0edbad59e"><td class="memItemLeft" align="right" valign="top">int const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa2d8eeca2a0c1f926995beb0edbad59e">SCHEMA_VERSION</a> = 2017091700</td></tr>
<tr class="memdesc:aa2d8eeca2a0c1f926995beb0edbad59e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change list (for engine implementers): 2017091700 - add optional field groupid.  <br /></td></tr>
<tr class="separator:aa2d8eeca2a0c1f926995beb0edbad59e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ad25f87e706f5073d30828f5a46259df5" id="r_ad25f87e706f5073d30828f5a46259df5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad25f87e706f5073d30828f5a46259df5">apply_defaults</a> ()</td></tr>
<tr class="memdesc:ad25f87e706f5073d30828f5a46259df5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply any defaults to unset fields before export.  <br /></td></tr>
<tr class="separator:ad25f87e706f5073d30828f5a46259df5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ee630dd61d5c4f08f628191f2174d72" id="r_a5ee630dd61d5c4f08f628191f2174d72"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5ee630dd61d5c4f08f628191f2174d72">format_text</a> ($text)</td></tr>
<tr class="memdesc:a5ee630dd61d5c4f08f628191f2174d72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Formats a text string coming from the search engine.  <br /></td></tr>
<tr class="separator:a5ee630dd61d5c4f08f628191f2174d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f22539357bdfc48fd4e65f77cc5e22d" id="r_a0f22539357bdfc48fd4e65f77cc5e22d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f22539357bdfc48fd4e65f77cc5e22d">get_text_format</a> ()</td></tr>
<tr class="memdesc:a0f22539357bdfc48fd4e65f77cc5e22d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns how text is returned from the search engine.  <br /></td></tr>
<tr class="separator:a0f22539357bdfc48fd4e65f77cc5e22d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a186235583f182838fcd3d5e6e515d40c" id="r_a186235583f182838fcd3d5e6e515d40c"><td class="memItemLeft" align="right" valign="top"><a id="a186235583f182838fcd3d5e6e515d40c" name="a186235583f182838fcd3d5e6e515d40c"></a>
int null&#160;</td><td class="memItemRight" valign="bottom"><b>$contentfilearea</b> = null</td></tr>
<tr class="memdesc:a186235583f182838fcd3d5e6e515d40c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The content field filearea. <br /></td></tr>
<tr class="separator:a186235583f182838fcd3d5e6e515d40c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24b41aa286cba40b36964e4c7689b56d" id="r_a24b41aa286cba40b36964e4c7689b56d"><td class="memItemLeft" align="right" valign="top"><a id="a24b41aa286cba40b36964e4c7689b56d" name="a24b41aa286cba40b36964e4c7689b56d"></a>
int null&#160;</td><td class="memItemRight" valign="bottom"><b>$contentitemid</b> = null</td></tr>
<tr class="memdesc:a24b41aa286cba40b36964e4c7689b56d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The content field itemid. <br /></td></tr>
<tr class="separator:a24b41aa286cba40b36964e4c7689b56d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a966587ccdb950bf6827763e588dcda73" id="r_a966587ccdb950bf6827763e588dcda73"><td class="memItemLeft" align="right" valign="top"><a id="a966587ccdb950bf6827763e588dcda73" name="a966587ccdb950bf6827763e588dcda73"></a>
moodle_url&#160;</td><td class="memItemRight" valign="bottom"><b>$contexturl</b> = null</td></tr>
<tr class="memdesc:a966587ccdb950bf6827763e588dcda73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link to the document context. <br /></td></tr>
<tr class="separator:a966587ccdb950bf6827763e588dcda73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51a52e62c9fc8de04ce317b6476196f4" id="r_a51a52e62c9fc8de04ce317b6476196f4"><td class="memItemLeft" align="right" valign="top"><a id="a51a52e62c9fc8de04ce317b6476196f4" name="a51a52e62c9fc8de04ce317b6476196f4"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$data</b> = array()</td></tr>
<tr class="memdesc:a51a52e62c9fc8de04ce317b6476196f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">$data The document data. <br /></td></tr>
<tr class="separator:a51a52e62c9fc8de04ce317b6476196f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9ccc8dc5c9a26cfa65a47fb233ce277" id="r_ab9ccc8dc5c9a26cfa65a47fb233ce277"><td class="memItemLeft" align="right" valign="top"><a id="ab9ccc8dc5c9a26cfa65a47fb233ce277" name="ab9ccc8dc5c9a26cfa65a47fb233ce277"></a>
core_search <a class="el" href="../../d6/d74/classcore__search_1_1document__icon.html">document_icon</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$docicon</b> = null</td></tr>
<tr class="memdesc:ab9ccc8dc5c9a26cfa65a47fb233ce277"><td class="mdescLeft">&#160;</td><td class="mdescRight">Document icon instance. <br /></td></tr>
<tr class="separator:ab9ccc8dc5c9a26cfa65a47fb233ce277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b7b0c0c54c6ad8e355b6d0b7950cffa" id="r_a0b7b0c0c54c6ad8e355b6d0b7950cffa"><td class="memItemLeft" align="right" valign="top"><a id="a0b7b0c0c54c6ad8e355b6d0b7950cffa" name="a0b7b0c0c54c6ad8e355b6d0b7950cffa"></a>
moodle_url&#160;</td><td class="memItemRight" valign="bottom"><b>$docurl</b> = null</td></tr>
<tr class="memdesc:a0b7b0c0c54c6ad8e355b6d0b7950cffa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link to the document. <br /></td></tr>
<tr class="separator:a0b7b0c0c54c6ad8e355b6d0b7950cffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7c0bccb72876afb4767153efe580d1d" id="r_aa7c0bccb72876afb4767153efe580d1d"><td class="memItemLeft" align="right" valign="top"><a id="aa7c0bccb72876afb4767153efe580d1d" name="aa7c0bccb72876afb4767153efe580d1d"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$extradata</b> = array()</td></tr>
<tr class="memdesc:aa7c0bccb72876afb4767153efe580d1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extra data needed to render the document. <br /></td></tr>
<tr class="separator:aa7c0bccb72876afb4767153efe580d1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcdca259c59b6d31e4f3b99274ea44bc" id="r_adcdca259c59b6d31e4f3b99274ea44bc"><td class="memItemLeft" align="right" valign="top"><a id="adcdca259c59b6d31e4f3b99274ea44bc" name="adcdca259c59b6d31e4f3b99274ea44bc"></a>
<a class="el" href="../../d0/d00/classstored__file.html">stored_file</a>[]&#160;</td><td class="memItemRight" valign="bottom"><b>$files</b> = array()</td></tr>
<tr class="memdesc:adcdca259c59b6d31e4f3b99274ea44bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">An array of stored files to attach to the document. <br /></td></tr>
<tr class="separator:adcdca259c59b6d31e4f3b99274ea44bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa496a84be184028304a2afe0c9c9b7ce" id="r_aa496a84be184028304a2afe0c9c9b7ce"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa496a84be184028304a2afe0c9c9b7ce">$isnew</a> = false</td></tr>
<tr class="memdesc:aa496a84be184028304a2afe0c9c9b7ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Should be set to true if document hasn't been indexed before.  <br /></td></tr>
<tr class="separator:aa496a84be184028304a2afe0c9c9b7ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a932ecf06965fa99cbf929bf967e210a2" id="r_a932ecf06965fa99cbf929bf967e210a2"><td class="memItemLeft" align="right" valign="top">static array&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a932ecf06965fa99cbf929bf967e210a2">$enginefields</a> = array()</td></tr>
<tr class="memdesc:a932ecf06965fa99cbf929bf967e210a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Any fields that are engine specifc.  <br /></td></tr>
<tr class="separator:a932ecf06965fa99cbf929bf967e210a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8e428b65bbcb07bac0bc3978325b1ec" id="r_ab8e428b65bbcb07bac0bc3978325b1ec"><td class="memItemLeft" align="right" valign="top">static array&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab8e428b65bbcb07bac0bc3978325b1ec">$optionalfields</a></td></tr>
<tr class="memdesc:ab8e428b65bbcb07bac0bc3978325b1ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">All optional fields docs can contain.  <br /></td></tr>
<tr class="separator:ab8e428b65bbcb07bac0bc3978325b1ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4235ec33037e99248640d9b924cbe2b7" id="r_a4235ec33037e99248640d9b924cbe2b7"><td class="memItemLeft" align="right" valign="top">static array&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4235ec33037e99248640d9b924cbe2b7">$requiredfields</a></td></tr>
<tr class="memdesc:a4235ec33037e99248640d9b924cbe2b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">All required fields any doc should contain.  <br /></td></tr>
<tr class="separator:a4235ec33037e99248640d9b924cbe2b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents a document to index. </p>
<p>Note that, if you are writting a search engine and you want to change <a class="el" href="../../d3/d5d/classcore__search_1_1document.html" title="Represents a document to index.">core_search\document</a> behaviour, you can overwrite this class, will be automatically loaded from search_YOURENGINE::document.</p>
<dl class="section copyright"><dt>Copyright</dt><dd>2015 David Monllao <a href="http://www.davidmonllao.com" class="el externalurl"></a> </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a80d83093eab04b40d32586e379324612" name="a80d83093eab04b40d32586e379324612"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80d83093eab04b40d32586e379324612">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::__construct </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$itemid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$componentname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$areaname</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>We ensure that the document has a unique id across search areas. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td>An id unique to the search area </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$componentname</td><td>The search area component Frankenstyle name </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$areaname</td><td>The area name (the search area class name) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a01b8083239829aa25221bb21b062a0a4" name="a01b8083239829aa25221bb21b062a0a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01b8083239829aa25221bb21b062a0a4">&#9670;&#160;</a></span>add_stored_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::add_stored_file </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$file</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a stored file to the document. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d0/d00/classstored__file.html" title="Class representing local files stored in a sha1 file pool.">stored_file</a>&#160;|&#160;int</td><td class="paramname">$file</td><td>The file to add, or file id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad25f87e706f5073d30828f5a46259df5" name="ad25f87e706f5073d30828f5a46259df5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad25f87e706f5073d30828f5a46259df5">&#9670;&#160;</a></span>apply_defaults()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::apply_defaults </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Apply any defaults to unset fields before export. </p>
<p>Called after document building, but before export.</p>
<p>Sub-classes of this should make sure to call parent::apply_defaults(). </p>

<p>Reimplemented in <a class="el" href="../../d5/d8e/classsearch__solr_1_1document.html#a93433b95ab1a38bdca2585f77be47791">search_solr\document</a>.</p>

</div>
</div>
<a id="aeb7c334ecfe29098343430b7e26986a0" name="aeb7c334ecfe29098343430b7e26986a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb7c334ecfe29098343430b7e26986a0">&#9670;&#160;</a></span>export_doc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::export_doc </td>
          <td>(</td>
          <td class="paramtype">\renderer_base</td>          <td class="paramname"><span class="paramname"><em>$output</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current docuement information. </p>
<p>Adding more info than the required one as themers and ws clients might be interested in showing more stuff.</p>
<p>Although content is a required field when setting up the document, it accepts '' (empty) values as they may be the result of striping out HTML.</p>
<p>SECURITY NOTE: It is the responsibility of the document to properly escape any text to be displayed. The renderer will output the content without any further cleaning.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">renderer_base</td><td class="paramname">$output</td><td>The renderer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a51ba3421fa38b91fff6fa965a94b465a" name="a51ba3421fa38b91fff6fa965a94b465a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51ba3421fa38b91fff6fa965a94b465a">&#9670;&#160;</a></span>export_for_engine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::export_for_engine </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the document ready to submit to the search engine. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">coding_exception</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8d729cb399f46e7f3d331dd2fc65833f" name="a8d729cb399f46e7f3d331dd2fc65833f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d729cb399f46e7f3d331dd2fc65833f">&#9670;&#160;</a></span>export_for_template()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::export_for_template </td>
          <td>(</td>
          <td class="paramtype">\renderer_base</td>          <td class="paramname"><span class="paramname"><em>$output</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export the document data to be used as a template context. </p>
<p>Just delegates all the processing to export_doc_info, also used by external functions. Adding more info than the required one as people might be interested in extending the template.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">renderer_base</td><td class="paramname">$output</td><td>The renderer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae87b232812018b2156058b5274659adb" name="ae87b232812018b2156058b5274659adb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae87b232812018b2156058b5274659adb">&#9670;&#160;</a></span>format_string_for_engine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\document::format_string_for_engine </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$string</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Formats a string value for the search engine. </p>
<p>Search engines may overwrite this method to apply restrictions, like limiting the size. The default behaviour is just returning the string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$string</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d5/d8e/classsearch__solr_1_1document.html#a2e8c2f1843f2f439bddcc78b51974af8">search_solr\document</a>.</p>

</div>
</div>
<a id="a5ee630dd61d5c4f08f628191f2174d72" name="a5ee630dd61d5c4f08f628191f2174d72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ee630dd61d5c4f08f628191f2174d72">&#9670;&#160;</a></span>format_text()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::format_text </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$text</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Formats a text string coming from the search engine. </p>
<p>By default just return the text as it is:</p><ul>
<li>Search areas are responsible of sending just plain data, the search engine may append HTML or markdown to it (highlighing for example).</li>
<li>The view is responsible of shortening the text if it is too big</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>Text to format </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>HTML text to be renderer </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d5/d8e/classsearch__solr_1_1document.html#af87c5360efb58bcfeec2a637681e5dab">search_solr\document</a>.</p>

</div>
</div>
<a id="a8950a85caa5bf092c899a333607d4f02" name="a8950a85caa5bf092c899a333607d4f02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8950a85caa5bf092c899a333607d4f02">&#9670;&#160;</a></span>format_text_for_engine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\document::format_text_for_engine </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$text</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Formats a text value for the search engine. </p>
<p>Search engines may overwrite this method to apply restrictions, like limiting the size. The default behaviour is just returning the string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afeab92b32cf3d791655ee71818b48b87" name="afeab92b32cf3d791655ee71818b48b87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab92b32cf3d791655ee71818b48b87">&#9670;&#160;</a></span>format_time_for_engine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\document::format_time_for_engine </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timestamp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Formats the timestamp preparing the time fields to be inserted into the search engine. </p>
<p>By default it just returns a timestamp so any search engine could just store integers and use integers comparison to get documents between x and y timestamps, but search engines might be interested in using their own field formats. They can do it extending this class in search_xxx::document.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$timestamp</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d5/d8e/classsearch__solr_1_1document.html#af2e1689a68364fb054d035fde0bb616b">search_solr\document</a>.</p>

</div>
</div>
<a id="aa1ace437c30217c09b584664c7abc484" name="aa1ace437c30217c09b584664c7abc484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1ace437c30217c09b584664c7abc484">&#9670;&#160;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::get </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter. </p>
<p>Use self::is_set if you are not sure if this field is set or not as otherwise it will trigger a coding_exception</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">coding_exception</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string|int</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8ab698eff11bb60c66160eb19e982257" name="a8ab698eff11bb60c66160eb19e982257"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ab698eff11bb60c66160eb19e982257">&#9670;&#160;</a></span>get_context_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::get_context_url </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the url to the context. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">moodle_url</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aab74456b7ab82ca3d37b843a1a44e917" name="aab74456b7ab82ca3d37b843a1a44e917"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab74456b7ab82ca3d37b843a1a44e917">&#9670;&#160;</a></span>get_default_fields_definition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\document::get_default_fields_definition </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns all default fields definitions. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aad762c8e689ae520f688629dc126680e" name="aad762c8e689ae520f688629dc126680e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad762c8e689ae520f688629dc126680e">&#9670;&#160;</a></span>get_doc_icon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::get_doc_icon </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets document icon instance. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/d74/classcore__search_1_1document__icon.html" title="Represents a document icon.">core_search\document_icon</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adc395ebefd012c8feb90bd4eeb240c2f" name="adc395ebefd012c8feb90bd4eeb240c2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc395ebefd012c8feb90bd4eeb240c2f">&#9670;&#160;</a></span>get_doc_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::get_doc_url </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the url to the doc. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">moodle_url</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa1e4a3ae35c15384bc8624e9dd2611e1" name="aa1e4a3ae35c15384bc8624e9dd2611e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1e4a3ae35c15384bc8624e9dd2611e1">&#9670;&#160;</a></span>get_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::get_files </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the array of attached files. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stored_file[]</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa28ad93a5f5bca3a395257689213cb69" name="aa28ad93a5f5bca3a395257689213cb69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa28ad93a5f5bca3a395257689213cb69">&#9670;&#160;</a></span>get_is_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::get_is_new </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns if the document is new. </p>
<p>False if unknown.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0f22539357bdfc48fd4e65f77cc5e22d" name="a0f22539357bdfc48fd4e65f77cc5e22d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f22539357bdfc48fd4e65f77cc5e22d">&#9670;&#160;</a></span>get_text_format()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::get_text_format </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns how text is returned from the search engine. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d5/d8e/classsearch__solr_1_1document.html#ac29018cdf61cac0e093489c4bd256a2a">search_solr\document</a>.</p>

</div>
</div>
<a id="accaf47b23c2b136a5e80017da9f0edb2" name="accaf47b23c2b136a5e80017da9f0edb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accaf47b23c2b136a5e80017da9f0edb2">&#9670;&#160;</a></span>import_time_from_engine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\document::import_time_from_engine </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a timestamp from the value stored in the search engine. </p>
<p>By default it just returns a timestamp so any search engine could just store integers and use integers comparison to get documents between x and y timestamps, but search engines might be interested in using their own field formats. They should do it extending this class in search_xxx::document.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$time</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d5/d8e/classsearch__solr_1_1document.html#a23c66e9b9f11c1c2b0ba17a4c0f9633c">search_solr\document</a>.</p>

</div>
</div>
<a id="ace5b0e443abd3e1fff6c411d16eeaacb" name="ace5b0e443abd3e1fff6c411d16eeaacb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace5b0e443abd3e1fff6c411d16eeaacb">&#9670;&#160;</a></span>is_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::is_set </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if a field is set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a68bfb8263bd5e5396446a9111218cb56" name="a68bfb8263bd5e5396446a9111218cb56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68bfb8263bd5e5396446a9111218cb56">&#9670;&#160;</a></span>set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::set </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setter. </p>
<p>Basic checkings to prevent common issues.</p>
<p>If the field is a string tags will be stripped, if it is an integer or a date it will be casted to a PHP integer. tdate fields values are expected to be timestamps.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">coding_exception</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The field name </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;int</td><td class="paramname">$value</td><td>The value to store </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string|int</td><td>The stored value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1dd511699725a37f582f7dd18b1c0288" name="a1dd511699725a37f582f7dd18b1c0288"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dd511699725a37f582f7dd18b1c0288">&#9670;&#160;</a></span>set_data_from_engine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::set_data_from_engine </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$docdata</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fills the document with data coming from the search engine. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d7/d7c/classcore__search_1_1engine__exception.html" title="Dummy class to identify search engine exceptions.">core_search\engine_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$docdata</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae43474ba1512334932ef5f061939d0db" name="ae43474ba1512334932ef5f061939d0db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae43474ba1512334932ef5f061939d0db">&#9670;&#160;</a></span>set_doc_icon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::set_doc_icon </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d74/classcore__search_1_1document__icon.html">document_icon</a></td>          <td class="paramname"><span class="paramname"><em>$docicon</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets document icon instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d6/d74/classcore__search_1_1document__icon.html" title="Represents a document icon.">core_search\document_icon</a></td><td class="paramname">$docicon</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a51582bff0083221e08e9d720fc7966ba" name="a51582bff0083221e08e9d720fc7966ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51582bff0083221e08e9d720fc7966ba">&#9670;&#160;</a></span>set_doc_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::set_doc_url </td>
          <td>(</td>
          <td class="paramtype">\moodle_url</td>          <td class="paramname"><span class="paramname"><em>$url</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the document url. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">moodle_url</td><td class="paramname">$url</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6cd2c52fa54c6d7ff164d5cdeb174d2a" name="a6cd2c52fa54c6d7ff164d5cdeb174d2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cd2c52fa54c6d7ff164d5cdeb174d2a">&#9670;&#160;</a></span>set_extra()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::set_extra </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets data to this-&gt;extradata. </p>
<p>This data can be retrieved using <a class="el" href="../../d3/d5d/classcore__search_1_1document.html" title="Represents a document to index.">core_search\document</a>-&gt;get($fieldname).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6328f014d68b2d02838dda0f61c847c2" name="a6328f014d68b2d02838dda0f61c847c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6328f014d68b2d02838dda0f61c847c2">&#9670;&#160;</a></span>set_is_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\document::set_is_new </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$new</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set if this is a new document. </p>
<p>False if unknown.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$new</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a932ecf06965fa99cbf929bf967e210a2" name="a932ecf06965fa99cbf929bf967e210a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a932ecf06965fa99cbf929bf967e210a2">&#9670;&#160;</a></span>$enginefields</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">array core_search\document::$enginefields = array()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Any fields that are engine specifc. </p>
<p>These are fields that are solely used by a search engine plugin for internal purposes.</p>
<p>Field names should be prefixed with engine name to avoid potential conflict with core fields.</p>
<p>Uses same format as fields above. </p>

</div>
</div>
<a id="aa496a84be184028304a2afe0c9c9b7ce" name="aa496a84be184028304a2afe0c9c9b7ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa496a84be184028304a2afe0c9c9b7ce">&#9670;&#160;</a></span>$isnew</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool core_search\document::$isnew = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Should be set to true if document hasn't been indexed before. </p>
<p>False if unknown. </p>

</div>
</div>
<a id="ab8e428b65bbcb07bac0bc3978325b1ec" name="ab8e428b65bbcb07bac0bc3978325b1ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8e428b65bbcb07bac0bc3978325b1ec">&#9670;&#160;</a></span>$optionalfields</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">array core_search\document::$optionalfields</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= array(</div>
<div class="line">        <span class="stringliteral">&#39;userid&#39;</span> =&gt; array(</div>
<div class="line">            <span class="stringliteral">&#39;type&#39;</span> =&gt; <span class="stringliteral">&#39;int&#39;</span>,</div>
<div class="line">            <span class="stringliteral">&#39;stored&#39;</span> =&gt; <span class="keyword">true</span>,</div>
<div class="line">            <span class="stringliteral">&#39;indexed&#39;</span> =&gt; <span class="keyword">true</span></div>
<div class="line">        ),</div>
<div class="line">        <span class="stringliteral">&#39;groupid&#39;</span> =&gt; array(</div>
<div class="line">            <span class="stringliteral">&#39;type&#39;</span> =&gt; <span class="stringliteral">&#39;int&#39;</span>,</div>
<div class="line">            <span class="stringliteral">&#39;stored&#39;</span> =&gt; <span class="keyword">true</span>,</div>
<div class="line">            <span class="stringliteral">&#39;indexed&#39;</span> =&gt; <span class="keyword">true</span></div>
<div class="line">        ),</div>
<div class="line">        <span class="stringliteral">&#39;description1&#39;</span> =&gt; array(</div>
<div class="line">            <span class="stringliteral">&#39;type&#39;</span> =&gt; <span class="stringliteral">&#39;text&#39;</span>,</div>
<div class="line">            <span class="stringliteral">&#39;stored&#39;</span> =&gt; <span class="keyword">true</span>,</div>
<div class="line">            <span class="stringliteral">&#39;indexed&#39;</span> =&gt; <span class="keyword">true</span>,</div>
<div class="line">            <span class="stringliteral">&#39;mainquery&#39;</span> =&gt; <span class="keyword">true</span></div>
<div class="line">        ),</div>
<div class="line">        <span class="stringliteral">&#39;description2&#39;</span> =&gt; array(</div>
<div class="line">            <span class="stringliteral">&#39;type&#39;</span> =&gt; <span class="stringliteral">&#39;text&#39;</span>,</div>
<div class="line">            <span class="stringliteral">&#39;stored&#39;</span> =&gt; <span class="keyword">true</span>,</div>
<div class="line">            <span class="stringliteral">&#39;indexed&#39;</span> =&gt; <span class="keyword">true</span>,</div>
<div class="line">            <span class="stringliteral">&#39;mainquery&#39;</span> =&gt; <span class="keyword">true</span></div>
<div class="line">        )</div>
<div class="line">    )</div>
</div><!-- fragment -->
<p>All optional fields docs can contain. </p>
<p>Although it matches solr fields format, this is just to define the field types. Search engine plugins are responsible of setting their appropriate field types and map these naming to whatever format they need. </p>

</div>
</div>
<a id="a4235ec33037e99248640d9b924cbe2b7" name="a4235ec33037e99248640d9b924cbe2b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4235ec33037e99248640d9b924cbe2b7">&#9670;&#160;</a></span>$requiredfields</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">array core_search\document::$requiredfields</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>All required fields any doc should contain. </p>
<p>We have to choose a format to specify field types, using solr format as we have to choose one and solr is the default search engine.</p>
<p>Search engine plugins are responsible of setting their appropriate field types and map these naming to whatever format they need. </p>

</div>
</div>
<a id="aa2d8eeca2a0c1f926995beb0edbad59e" name="aa2d8eeca2a0c1f926995beb0edbad59e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2d8eeca2a0c1f926995beb0edbad59e">&#9670;&#160;</a></span>SCHEMA_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int const core_search\document::SCHEMA_VERSION = 2017091700</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change list (for engine implementers): 2017091700 - add optional field groupid. </p>
<p>Schema version number (update if any change) </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>search/classes/<b>document.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Feb 23 2025 03:06:14 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
