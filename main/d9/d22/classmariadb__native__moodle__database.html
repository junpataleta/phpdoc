<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: mariadb_native_moodle_database Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;5.1</span>
   </div>
   <div id="projectbrief">Moodle 5.1dev (Build: 20250523) (d65e24a62c0)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../db/db9/classmariadb__native__moodle__database-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mariadb_native_moodle_database Class Reference<div class="ingroups"><a class="el" href="../../d5/db5/group__core__dml.html">core_dml</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Native MariaDB class representing moodle database interface.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for mariadb_native_moodle_database:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d9/d22/classmariadb__native__moodle__database.png" usemap="#mariadb_5Fnative_5Fmoodle_5Fdatabase_map" alt=""/>
  <map id="mariadb_5Fnative_5Fmoodle_5Fdatabase_map" name="mariadb_5Fnative_5Fmoodle_5Fdatabase_map">
<area href="../../d1/d7c/classmysqli__native__moodle__database.html" title="Native mysqli class representing moodle database interface." alt="mysqli_native_moodle_database" shape="rect" coords="0,56,203,80"/>
<area href="../../d3/d6e/classmoodle__database.html" title="Abstract class representing moodle database interface." alt="moodle_database" shape="rect" coords="0,0,203,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a61fb83862bcdf7567e8d90d75ed3fa12" id="r_a61fb83862bcdf7567e8d90d75ed3fa12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a61fb83862bcdf7567e8d90d75ed3fa12">change_database_structure</a> ($sql, $tablenames=null)</td></tr>
<tr class="memdesc:a61fb83862bcdf7567e8d90d75ed3fa12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do NOT use in code, to be used by <a class="el" href="../../de/dd9/classdatabase__manager.html" title="Database manager instance is responsible for all database structure modifications.">database_manager</a> only!  <br /></td></tr>
<tr class="separator:a61fb83862bcdf7567e8d90d75ed3fa12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18bbc9d1781daebdbe45b9538f0c526d" id="r_a18bbc9d1781daebdbe45b9538f0c526d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a18bbc9d1781daebdbe45b9538f0c526d">change_db_encoding</a> ()</td></tr>
<tr class="memdesc:a18bbc9d1781daebdbe45b9538f0c526d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to change db encoding to UTF-8 encoding if possible.  <br /></td></tr>
<tr class="separator:a18bbc9d1781daebdbe45b9538f0c526d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25e59ae54a4848de4af3034a4a0e5318" id="r_a25e59ae54a4848de4af3034a4a0e5318"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a25e59ae54a4848de4af3034a4a0e5318">commit_delegated_transaction</a> (<a class="el" href="../../d8/db9/classmoodle__transaction.html">moodle_transaction</a> $transaction)</td></tr>
<tr class="memdesc:a25e59ae54a4848de4af3034a4a0e5318"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates delegated transaction finished successfully.  <br /></td></tr>
<tr class="separator:a25e59ae54a4848de4af3034a4a0e5318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76f184b06a2c39fa93a89926d9777a54" id="r_a76f184b06a2c39fa93a89926d9777a54"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a76f184b06a2c39fa93a89926d9777a54">connect</a> ($dbhost, $dbuser, $dbpass, $dbname, $prefix, ?array $dboptions=null)</td></tr>
<tr class="memdesc:a76f184b06a2c39fa93a89926d9777a54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connects to the database.  <br /></td></tr>
<tr class="separator:a76f184b06a2c39fa93a89926d9777a54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9604078b7f16fa06d98bc6d62d3ef58" id="r_ad9604078b7f16fa06d98bc6d62d3ef58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#ad9604078b7f16fa06d98bc6d62d3ef58">convert_table_row_format</a> ($tablename)</td></tr>
<tr class="memdesc:ad9604078b7f16fa06d98bc6d62d3ef58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a table to either 'Compressed' or 'Dynamic' row format.  <br /></td></tr>
<tr class="separator:ad9604078b7f16fa06d98bc6d62d3ef58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64a301c23a6a401a632d5268bc744e47" id="r_a64a301c23a6a401a632d5268bc744e47"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a64a301c23a6a401a632d5268bc744e47">count_records</a> ($table, ?array $conditions=null)</td></tr>
<tr class="memdesc:a64a301c23a6a401a632d5268bc744e47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count the records in a table where all the given conditions met.  <br /></td></tr>
<tr class="separator:a64a301c23a6a401a632d5268bc744e47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad206dce9472f9ddad66bf5ba6f665466" id="r_ad206dce9472f9ddad66bf5ba6f665466"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ad206dce9472f9ddad66bf5ba6f665466">count_records_select</a> ($table, $select, ?array $params=null, $countitem=&quot;COUNT('x')&quot;)</td></tr>
<tr class="memdesc:ad206dce9472f9ddad66bf5ba6f665466"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count the records in a table which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:ad206dce9472f9ddad66bf5ba6f665466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dbd8ba441ad1cf235fbf571fa05e91c" id="r_a0dbd8ba441ad1cf235fbf571fa05e91c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a0dbd8ba441ad1cf235fbf571fa05e91c">count_records_sql</a> ($sql, ?array $params=null)</td></tr>
<tr class="memdesc:a0dbd8ba441ad1cf235fbf571fa05e91c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the result of a SQL SELECT COUNT(...) query.  <br /></td></tr>
<tr class="separator:a0dbd8ba441ad1cf235fbf571fa05e91c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1c58c78b7942929482e50d0b408ad41" id="r_af1c58c78b7942929482e50d0b408ad41"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#af1c58c78b7942929482e50d0b408ad41">create_database</a> ($dbhost, $dbuser, $dbpass, $dbname, ?array $dboptions=null)</td></tr>
<tr class="memdesc:af1c58c78b7942929482e50d0b408ad41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to create the database.  <br /></td></tr>
<tr class="separator:af1c58c78b7942929482e50d0b408ad41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3d1f81d28ecd4ed389a64c52a421ee5" id="r_af3d1f81d28ecd4ed389a64c52a421ee5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#af3d1f81d28ecd4ed389a64c52a421ee5">delete_records</a> ($table, ?array $conditions=null)</td></tr>
<tr class="memdesc:af3d1f81d28ecd4ed389a64c52a421ee5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the records from a table where all the given conditions met.  <br /></td></tr>
<tr class="separator:af3d1f81d28ecd4ed389a64c52a421ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dea99d3ae3c3678253827e405842904" id="r_a1dea99d3ae3c3678253827e405842904"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a1dea99d3ae3c3678253827e405842904">delete_records_list</a> ($table, $field, array $values)</td></tr>
<tr class="memdesc:a1dea99d3ae3c3678253827e405842904"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the records from a table where one field match one list of values.  <br /></td></tr>
<tr class="separator:a1dea99d3ae3c3678253827e405842904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e37df0781f0d1f0d18fe454db39bb0" id="r_a72e37df0781f0d1f0d18fe454db39bb0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a72e37df0781f0d1f0d18fe454db39bb0">delete_records_select</a> ($table, $select, ?array $params=null)</td></tr>
<tr class="memdesc:a72e37df0781f0d1f0d18fe454db39bb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete one or more records from a table which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:a72e37df0781f0d1f0d18fe454db39bb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d33790de4d76a66ad8e0784f56c804b" id="r_a5d33790de4d76a66ad8e0784f56c804b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a5d33790de4d76a66ad8e0784f56c804b">delete_records_subquery</a> (string $table, string $field, string $alias, string $subquery, array $params=[])</td></tr>
<tr class="memdesc:a5d33790de4d76a66ad8e0784f56c804b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes records using a subquery, which is done with a strange DELETE...JOIN syntax in <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> because it performs very badly with normal subqueries.  <br /></td></tr>
<tr class="separator:a5d33790de4d76a66ad8e0784f56c804b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bb8d693d664321e8ac1193d570053c7" id="r_a3bb8d693d664321e8ac1193d570053c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a3bb8d693d664321e8ac1193d570053c7">diagnose</a> ()</td></tr>
<tr class="memdesc:a3bb8d693d664321e8ac1193d570053c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Diagnose database and tables, this function is used to verify database and driver settings, db engine types, etc.  <br /></td></tr>
<tr class="separator:a3bb8d693d664321e8ac1193d570053c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac92bb6f451540a1cc2234615336e92f6" id="r_ac92bb6f451540a1cc2234615336e92f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#ac92bb6f451540a1cc2234615336e92f6">dispose</a> ()</td></tr>
<tr class="memdesc:ac92bb6f451540a1cc2234615336e92f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close database connection and release all resources and memory (especially circular memory references).  <br /></td></tr>
<tr class="separator:ac92bb6f451540a1cc2234615336e92f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb8e27179facb33745d1b992b946d824" id="r_afb8e27179facb33745d1b992b946d824"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#afb8e27179facb33745d1b992b946d824">driver_installed</a> ()</td></tr>
<tr class="memdesc:afb8e27179facb33745d1b992b946d824"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detects if all needed PHP stuff installed.  <br /></td></tr>
<tr class="separator:afb8e27179facb33745d1b992b946d824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac83fbdb91b87cff1f4f5c2209f768ddb" id="r_ac83fbdb91b87cff1f4f5c2209f768ddb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#ac83fbdb91b87cff1f4f5c2209f768ddb">execute</a> ($sql, ?array $params=null)</td></tr>
<tr class="memdesc:ac83fbdb91b87cff1f4f5c2209f768ddb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute general sql query.  <br /></td></tr>
<tr class="separator:ac83fbdb91b87cff1f4f5c2209f768ddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a1569ea398dbc1e4192ed6158953091" id="r_a8a1569ea398dbc1e4192ed6158953091"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a8a1569ea398dbc1e4192ed6158953091">export_dbconfig</a> ()</td></tr>
<tr class="memdesc:a8a1569ea398dbc1e4192ed6158953091"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the db related part of config.php.  <br /></td></tr>
<tr class="separator:a8a1569ea398dbc1e4192ed6158953091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a325dc7c1beef18ffdb9d0bcb732c2ad1" id="r_a325dc7c1beef18ffdb9d0bcb732c2ad1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a325dc7c1beef18ffdb9d0bcb732c2ad1">export_table_recordset</a> ($table)</td></tr>
<tr class="memdesc:a325dc7c1beef18ffdb9d0bcb732c2ad1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all records from a table.  <br /></td></tr>
<tr class="separator:a325dc7c1beef18ffdb9d0bcb732c2ad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebd64178d04c5620fe1e163eaf86fc59" id="r_aebd64178d04c5620fe1e163eaf86fc59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#aebd64178d04c5620fe1e163eaf86fc59">fix_sql_params</a> ($sql, ?array $params=null)</td></tr>
<tr class="memdesc:aebd64178d04c5620fe1e163eaf86fc59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalizes sql query parameters and verifies parameters.  <br /></td></tr>
<tr class="separator:aebd64178d04c5620fe1e163eaf86fc59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adec2649775405235f1598ebe060a0cc2" id="r_adec2649775405235f1598ebe060a0cc2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#adec2649775405235f1598ebe060a0cc2">force_transaction_rollback</a> ()</td></tr>
<tr class="memdesc:adec2649775405235f1598ebe060a0cc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force rollback of all delegated transaction.  <br /></td></tr>
<tr class="separator:adec2649775405235f1598ebe060a0cc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7501053d106ee0ac51255c770fda6fef" id="r_a7501053d106ee0ac51255c770fda6fef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a7501053d106ee0ac51255c770fda6fef">get_columns</a> ($table, $usecache=true)</td></tr>
<tr class="memdesc:a7501053d106ee0ac51255c770fda6fef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns detailed information about columns in table.  <br /></td></tr>
<tr class="separator:a7501053d106ee0ac51255c770fda6fef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbafbf58c4851cb085a949718d7bd055" id="r_abbafbf58c4851cb085a949718d7bd055"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abbafbf58c4851cb085a949718d7bd055">get_configuration_help</a> ()</td></tr>
<tr class="memdesc:abbafbf58c4851cb085a949718d7bd055"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns localised database configuration help.  <br /></td></tr>
<tr class="separator:abbafbf58c4851cb085a949718d7bd055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c5bbf6e20fc45b50018c37a6e52874" id="r_a58c5bbf6e20fc45b50018c37a6e52874"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a58c5bbf6e20fc45b50018c37a6e52874">get_configuration_hints</a> ()</td></tr>
<tr class="memdesc:a58c5bbf6e20fc45b50018c37a6e52874"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the localised database description Note: can be used before <a class="el" href="../../d0/de1/group__core.html#ga3ae73c52b49526f5a21cf02a3c1fceee" title="Connect to db.">connect()</a>  <br /></td></tr>
<tr class="separator:a58c5bbf6e20fc45b50018c37a6e52874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01d209c23d2000949014b76966db19b9" id="r_a01d209c23d2000949014b76966db19b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a01d209c23d2000949014b76966db19b9">get_counted_records_sql</a> (string $sql, string $fullcountcolumn, string $sort='', ?array $params=null, int $limitfrom=0, int $limitnum=0,)</td></tr>
<tr class="memdesc:a01d209c23d2000949014b76966db19b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve records with a select query and count the total number of records.  <br /></td></tr>
<tr class="separator:a01d209c23d2000949014b76966db19b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d164cc184a79209b75aaea639bd32d5" id="r_a0d164cc184a79209b75aaea639bd32d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a0d164cc184a79209b75aaea639bd32d5">get_counted_recordset_sql</a> (string $sql, string $fullcountcolumn, string $sort='', ?array $params=null, int $limitfrom=0, int $limitnum=0,)</td></tr>
<tr class="memdesc:a0d164cc184a79209b75aaea639bd32d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a recordset with a select query and count the total number of records.  <br /></td></tr>
<tr class="separator:a0d164cc184a79209b75aaea639bd32d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b820d2a296ee74e094378305e632af8" id="r_a5b820d2a296ee74e094378305e632af8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a5b820d2a296ee74e094378305e632af8">get_dbcollation</a> ()</td></tr>
<tr class="memdesc:a5b820d2a296ee74e094378305e632af8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> db collation.  <br /></td></tr>
<tr class="separator:a5b820d2a296ee74e094378305e632af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de34e60d54e05d423868d0a8dd03e29" id="r_a3de34e60d54e05d423868d0a8dd03e29"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a3de34e60d54e05d423868d0a8dd03e29">get_dbengine</a> ()</td></tr>
<tr class="memdesc:a3de34e60d54e05d423868d0a8dd03e29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> db engine.  <br /></td></tr>
<tr class="separator:a3de34e60d54e05d423868d0a8dd03e29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add015da35b5f796f76421ab262a4e218" id="r_add015da35b5f796f76421ab262a4e218"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#add015da35b5f796f76421ab262a4e218">get_dbfamily</a> ()</td></tr>
<tr class="memdesc:add015da35b5f796f76421ab262a4e218"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns database family type - describes SQL dialect Note: can be used before <a class="el" href="../../d3/d6e/classmoodle__database.html#a76f184b06a2c39fa93a89926d9777a54" title="Connects to the database.">connect()</a>  <br /></td></tr>
<tr class="separator:add015da35b5f796f76421ab262a4e218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab27c073c97ab5375765dc699a1db8e5f" id="r_ab27c073c97ab5375765dc699a1db8e5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab27c073c97ab5375765dc699a1db8e5f">get_dbvendor</a> ()</td></tr>
<tr class="memdesc:ab27c073c97ab5375765dc699a1db8e5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the database vendor.  <br /></td></tr>
<tr class="separator:ab27c073c97ab5375765dc699a1db8e5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab33f7a446c4e743e8ea6b5fabf9d6a98" id="r_ab33f7a446c4e743e8ea6b5fabf9d6a98"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ab33f7a446c4e743e8ea6b5fabf9d6a98">get_debug</a> ()</td></tr>
<tr class="memdesc:ab33f7a446c4e743e8ea6b5fabf9d6a98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns debug status.  <br /></td></tr>
<tr class="separator:ab33f7a446c4e743e8ea6b5fabf9d6a98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae298e05d4f80aa7952df399adc9252ff" id="r_ae298e05d4f80aa7952df399adc9252ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ae298e05d4f80aa7952df399adc9252ff">get_field</a> ($table, $return, array $conditions, $strictness=<a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a>)</td></tr>
<tr class="memdesc:ae298e05d4f80aa7952df399adc9252ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a single field value from a table record where all the given conditions met.  <br /></td></tr>
<tr class="separator:ae298e05d4f80aa7952df399adc9252ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61efd58e9205d13b7dffb8d1612558c4" id="r_a61efd58e9205d13b7dffb8d1612558c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a61efd58e9205d13b7dffb8d1612558c4">get_field_select</a> ($table, $return, $select, ?array $params=null, $strictness=<a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a>)</td></tr>
<tr class="memdesc:a61efd58e9205d13b7dffb8d1612558c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a single field value from a table record which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:a61efd58e9205d13b7dffb8d1612558c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86ffc39b76a6df0e899a880bfc187f2c" id="r_a86ffc39b76a6df0e899a880bfc187f2c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a86ffc39b76a6df0e899a880bfc187f2c">get_field_sql</a> ($sql, ?array $params=null, $strictness=<a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a>)</td></tr>
<tr class="memdesc:a86ffc39b76a6df0e899a880bfc187f2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a single field value (first field) using a SQL statement.  <br /></td></tr>
<tr class="separator:a86ffc39b76a6df0e899a880bfc187f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67e401e2ead09ea810af3b42c7932437" id="r_a67e401e2ead09ea810af3b42c7932437"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a67e401e2ead09ea810af3b42c7932437">get_fieldset</a> (string $table, string $return, ?array $conditions=null)</td></tr>
<tr class="memdesc:a67e401e2ead09ea810af3b42c7932437"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects records and return values of chosen field as an array where all the given conditions met.  <br /></td></tr>
<tr class="separator:a67e401e2ead09ea810af3b42c7932437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf87197c6dcb4d8ebad1384e38579645" id="r_abf87197c6dcb4d8ebad1384e38579645"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#abf87197c6dcb4d8ebad1384e38579645">get_fieldset_select</a> ($table, $return, $select, ?array $params=null)</td></tr>
<tr class="memdesc:abf87197c6dcb4d8ebad1384e38579645"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects records and return values of chosen field as an array which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:abf87197c6dcb4d8ebad1384e38579645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ac8359b58a17ba73328675bf26e723" id="r_a40ac8359b58a17ba73328675bf26e723"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a40ac8359b58a17ba73328675bf26e723">get_fieldset_sql</a> ($sql, ?array $params=null)</td></tr>
<tr class="memdesc:a40ac8359b58a17ba73328675bf26e723"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects records and return values (first field) as an array using a SQL statement.  <br /></td></tr>
<tr class="separator:a40ac8359b58a17ba73328675bf26e723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad3b5ff05207f773cc49352b79740e0" id="r_a9ad3b5ff05207f773cc49352b79740e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a9ad3b5ff05207f773cc49352b79740e0">get_in_or_equal</a> ($items, $type=<a class="el" href="../../d5/db5/group__core__dml.html#ga186c96032edcc8cb593687f7f7d55a1b">SQL_PARAMS_QM</a>, $prefix='param', $equal=true, $onemptyitems=false)</td></tr>
<tr class="memdesc:a9ad3b5ff05207f773cc49352b79740e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs 'IN()' or '=' sql fragment.  <br /></td></tr>
<tr class="separator:a9ad3b5ff05207f773cc49352b79740e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a451ebc43876d1eb3f87225d0b8b03947" id="r_a451ebc43876d1eb3f87225d0b8b03947"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a451ebc43876d1eb3f87225d0b8b03947">get_indexes</a> ($table)</td></tr>
<tr class="memdesc:a451ebc43876d1eb3f87225d0b8b03947"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return table indexes - everything lowercased.  <br /></td></tr>
<tr class="separator:a451ebc43876d1eb3f87225d0b8b03947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae819b0c2bbd35ad0fbe94de58fef92b3" id="r_ae819b0c2bbd35ad0fbe94de58fef92b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#ae819b0c2bbd35ad0fbe94de58fef92b3">get_last_error</a> ()</td></tr>
<tr class="memdesc:ae819b0c2bbd35ad0fbe94de58fef92b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns last error reported by database engine.  <br /></td></tr>
<tr class="separator:ae819b0c2bbd35ad0fbe94de58fef92b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1af2a2944bfff134c250e9b7dc9b50a" id="r_ad1af2a2944bfff134c250e9b7dc9b50a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ad1af2a2944bfff134c250e9b7dc9b50a">get_manager</a> ()</td></tr>
<tr class="memdesc:ad1af2a2944bfff134c250e9b7dc9b50a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the sql generator used for db manipulation.  <br /></td></tr>
<tr class="separator:ad1af2a2944bfff134c250e9b7dc9b50a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf498c10ddbe7862f79226933cacebec" id="r_aaf498c10ddbe7862f79226933cacebec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf498c10ddbe7862f79226933cacebec">get_name</a> ()</td></tr>
<tr class="memdesc:aaf498c10ddbe7862f79226933cacebec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns localised database type name Note: can be used before <a class="el" href="../../d3/d6e/classmoodle__database.html#a76f184b06a2c39fa93a89926d9777a54" title="Connects to the database.">connect()</a>  <br /></td></tr>
<tr class="separator:aaf498c10ddbe7862f79226933cacebec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8314cb807e9a59a9e3d6ec11f04bb4cf" id="r_a8314cb807e9a59a9e3d6ec11f04bb4cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a8314cb807e9a59a9e3d6ec11f04bb4cf">get_prefix</a> ()</td></tr>
<tr class="memdesc:a8314cb807e9a59a9e3d6ec11f04bb4cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns database table prefix Note: can be used before <a class="el" href="../../d0/de1/group__core.html#ga3ae73c52b49526f5a21cf02a3c1fceee" title="Connect to db.">connect()</a>  <br /></td></tr>
<tr class="separator:a8314cb807e9a59a9e3d6ec11f04bb4cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0264e381dc950fac100b14a3f67cff8a" id="r_a0264e381dc950fac100b14a3f67cff8a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a0264e381dc950fac100b14a3f67cff8a">get_record</a> ($table, array $conditions, $fields=' *', $strictness=<a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a>)</td></tr>
<tr class="memdesc:a0264e381dc950fac100b14a3f67cff8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a single database record as an object where all the given conditions met.  <br /></td></tr>
<tr class="separator:a0264e381dc950fac100b14a3f67cff8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42ec3402be724ce5f2f731b3454c0504" id="r_a42ec3402be724ce5f2f731b3454c0504"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a42ec3402be724ce5f2f731b3454c0504">get_record_select</a> ($table, $select, ?array $params=null, $fields=' *', $strictness=<a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a>)</td></tr>
<tr class="memdesc:a42ec3402be724ce5f2f731b3454c0504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a single database record as an object which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:a42ec3402be724ce5f2f731b3454c0504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49e796ca1d8f309c957b7ec43fb1dc2a" id="r_a49e796ca1d8f309c957b7ec43fb1dc2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a49e796ca1d8f309c957b7ec43fb1dc2a">get_record_sql</a> ($sql, ?array $params=null, $strictness=<a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a>)</td></tr>
<tr class="memdesc:a49e796ca1d8f309c957b7ec43fb1dc2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a single database record as an object using a SQL statement.  <br /></td></tr>
<tr class="separator:a49e796ca1d8f309c957b7ec43fb1dc2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c69a059c3c3aef6ae083ef1fbdaed20" id="r_a4c69a059c3c3aef6ae083ef1fbdaed20"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a4c69a059c3c3aef6ae083ef1fbdaed20">get_records</a> ($table, ?array $conditions=null, $sort='', $fields=' *', $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:a4c69a059c3c3aef6ae083ef1fbdaed20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a number of records as an array of objects where all the given conditions met.  <br /></td></tr>
<tr class="separator:a4c69a059c3c3aef6ae083ef1fbdaed20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf126d4aa56da71fd84cb77254de4106" id="r_abf126d4aa56da71fd84cb77254de4106"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#abf126d4aa56da71fd84cb77254de4106">get_records_list</a> ($table, $field, array $values, $sort='', $fields=' *', $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:abf126d4aa56da71fd84cb77254de4106"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a number of records as an array of objects where one field match one list of values.  <br /></td></tr>
<tr class="separator:abf126d4aa56da71fd84cb77254de4106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7d4d44f509f2fd325901accab10caa9" id="r_aa7d4d44f509f2fd325901accab10caa9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#aa7d4d44f509f2fd325901accab10caa9">get_records_menu</a> ($table, ?array $conditions=null, $sort='', $fields=' *', $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:aa7d4d44f509f2fd325901accab10caa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the first two columns from a number of records as an associative array where all the given conditions met.  <br /></td></tr>
<tr class="separator:aa7d4d44f509f2fd325901accab10caa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e1223f0bd3e6923aa84ffada115270f" id="r_a0e1223f0bd3e6923aa84ffada115270f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a0e1223f0bd3e6923aa84ffada115270f">get_records_select</a> ($table, $select, ?array $params=null, $sort='', $fields=' *', $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:a0e1223f0bd3e6923aa84ffada115270f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a number of records as an array of objects which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:a0e1223f0bd3e6923aa84ffada115270f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad56c4886758273808afb84fd74289588" id="r_ad56c4886758273808afb84fd74289588"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ad56c4886758273808afb84fd74289588">get_records_select_menu</a> ($table, $select, ?array $params=null, $sort='', $fields=' *', $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:ad56c4886758273808afb84fd74289588"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the first two columns from a number of records as an associative array which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:ad56c4886758273808afb84fd74289588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a433229309e479ef1fd398ac6fe83322f" id="r_a433229309e479ef1fd398ac6fe83322f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a433229309e479ef1fd398ac6fe83322f">get_records_sql</a> ($sql, ?array $params=null, $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:a433229309e479ef1fd398ac6fe83322f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a number of records as an array of objects using a SQL statement.  <br /></td></tr>
<tr class="separator:a433229309e479ef1fd398ac6fe83322f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27a87e4bb758741ac5c140be0813f209" id="r_a27a87e4bb758741ac5c140be0813f209"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a27a87e4bb758741ac5c140be0813f209">get_records_sql_menu</a> ($sql, ?array $params=null, $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:a27a87e4bb758741ac5c140be0813f209"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the first two columns from a number of records as an associative array using a SQL statement.  <br /></td></tr>
<tr class="separator:a27a87e4bb758741ac5c140be0813f209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59cdf34105f4d33160d2d7d6b5d6f24b" id="r_a59cdf34105f4d33160d2d7d6b5d6f24b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a59cdf34105f4d33160d2d7d6b5d6f24b">get_recordset</a> ($table, ?array $conditions=null, $sort='', $fields=' *', $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:a59cdf34105f4d33160d2d7d6b5d6f24b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a number of records as a <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> where all the given conditions met.  <br /></td></tr>
<tr class="separator:a59cdf34105f4d33160d2d7d6b5d6f24b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6f6bc13543347a60b4d4c39f6f1de59" id="r_ae6f6bc13543347a60b4d4c39f6f1de59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ae6f6bc13543347a60b4d4c39f6f1de59">get_recordset_list</a> ($table, $field, array $values, $sort='', $fields=' *', $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:ae6f6bc13543347a60b4d4c39f6f1de59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a number of records as a <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> where one field match one list of values.  <br /></td></tr>
<tr class="separator:ae6f6bc13543347a60b4d4c39f6f1de59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9add8d048686682c0f6942a027a4734e" id="r_a9add8d048686682c0f6942a027a4734e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a9add8d048686682c0f6942a027a4734e">get_recordset_select</a> ($table, $select, ?array $params=null, $sort='', $fields=' *', $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:a9add8d048686682c0f6942a027a4734e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a number of records as a <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:a9add8d048686682c0f6942a027a4734e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eae4660b10c47c9b92d42f101fa5b48" id="r_a4eae4660b10c47c9b92d42f101fa5b48"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a4eae4660b10c47c9b92d42f101fa5b48">get_recordset_sql</a> ($sql, ?array $params=null, $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:a4eae4660b10c47c9b92d42f101fa5b48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a number of records as a <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> using a SQL statement.  <br /></td></tr>
<tr class="separator:a4eae4660b10c47c9b92d42f101fa5b48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a493c39d97cbffec6897b46cdac540926" id="r_a493c39d97cbffec6897b46cdac540926"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a493c39d97cbffec6897b46cdac540926">get_row_format</a> ($table=null)</td></tr>
<tr class="memdesc:a493c39d97cbffec6897b46cdac540926"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the row format from the database schema.  <br /></td></tr>
<tr class="separator:a493c39d97cbffec6897b46cdac540926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a8c5f9f939ac39a23091a78993f9764" id="r_a3a8c5f9f939ac39a23091a78993f9764"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a3a8c5f9f939ac39a23091a78993f9764">get_row_format_sql</a> ($engine=null, $collation=null)</td></tr>
<tr class="memdesc:a3a8c5f9f939ac39a23091a78993f9764"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if the row format should be set to compressed, dynamic, or default.  <br /></td></tr>
<tr class="separator:a3a8c5f9f939ac39a23091a78993f9764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7839d9c9d1766772a24e8b3d05f6135b" id="r_a7839d9c9d1766772a24e8b3d05f6135b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a7839d9c9d1766772a24e8b3d05f6135b">get_server_info</a> ()</td></tr>
<tr class="memdesc:a7839d9c9d1766772a24e8b3d05f6135b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns database server info array.  <br /></td></tr>
<tr class="separator:a7839d9c9d1766772a24e8b3d05f6135b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa99211baed37f6af9c86766b43e7d9b5" id="r_aa99211baed37f6af9c86766b43e7d9b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#aa99211baed37f6af9c86766b43e7d9b5">get_session_lock</a> ($rowid, $timeout)</td></tr>
<tr class="memdesc:aa99211baed37f6af9c86766b43e7d9b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain session lock.  <br /></td></tr>
<tr class="separator:aa99211baed37f6af9c86766b43e7d9b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4713e24bb18b56ac90387afeca491dfd" id="r_a4713e24bb18b56ac90387afeca491dfd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a4713e24bb18b56ac90387afeca491dfd">get_tables</a> ($usecache=true)</td></tr>
<tr class="memdesc:a4713e24bb18b56ac90387afeca491dfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return tables in database WITHOUT current prefix.  <br /></td></tr>
<tr class="separator:a4713e24bb18b56ac90387afeca491dfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad848ee206bad0afea1fcc9e303fae770" id="r_ad848ee206bad0afea1fcc9e303fae770"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ad848ee206bad0afea1fcc9e303fae770">get_transaction_start_backtrace</a> ()</td></tr>
<tr class="memdesc:ad848ee206bad0afea1fcc9e303fae770"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns transaction trace for debugging purposes.  <br /></td></tr>
<tr class="separator:ad848ee206bad0afea1fcc9e303fae770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f40ce9ad8f470f9b243a0144635461" id="r_a77f40ce9ad8f470f9b243a0144635461"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a77f40ce9ad8f470f9b243a0144635461">has_breaking_change_sqlmode</a> ()</td></tr>
<tr class="memdesc:a77f40ce9ad8f470f9b243a0144635461"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates whether SQL_MODE default value has changed in a not backward compatible way.  <br /></td></tr>
<tr class="separator:a77f40ce9ad8f470f9b243a0144635461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a796c0daa0f858c6439cb9985bad0b804" id="r_a796c0daa0f858c6439cb9985bad0b804"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a796c0daa0f858c6439cb9985bad0b804">import_record</a> ($table, $dataobject)</td></tr>
<tr class="memdesc:a796c0daa0f858c6439cb9985bad0b804"><td class="mdescLeft">&#160;</td><td class="mdescRight">Import a record into a table, id field is required.  <br /></td></tr>
<tr class="separator:a796c0daa0f858c6439cb9985bad0b804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50885935edf867e029f828e6be143f30" id="r_a50885935edf867e029f828e6be143f30"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a50885935edf867e029f828e6be143f30">insert_record</a> ($table, $dataobject, $returnid=true, $bulk=false)</td></tr>
<tr class="memdesc:a50885935edf867e029f828e6be143f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a record into a table and return the "id" field if required.  <br /></td></tr>
<tr class="separator:a50885935edf867e029f828e6be143f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a18778b229d02ff899320534eca8f1b" id="r_a4a18778b229d02ff899320534eca8f1b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a4a18778b229d02ff899320534eca8f1b">insert_record_raw</a> ($table, $params, $returnid=true, $bulk=false, $customsequence=false)</td></tr>
<tr class="memdesc:a4a18778b229d02ff899320534eca8f1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert new record into database, as fast as possible, no safety checks, lobs not supported.  <br /></td></tr>
<tr class="separator:a4a18778b229d02ff899320534eca8f1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a225a9a214763a2394065d8d1933456b1" id="r_a225a9a214763a2394065d8d1933456b1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a225a9a214763a2394065d8d1933456b1">insert_records</a> ($table, $dataobjects)</td></tr>
<tr class="memdesc:a225a9a214763a2394065d8d1933456b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert multiple records into database as fast as possible.  <br /></td></tr>
<tr class="separator:a225a9a214763a2394065d8d1933456b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae965ce2938ad1d6507805a1ab4d1a1b0" id="r_ae965ce2938ad1d6507805a1ab4d1a1b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#ae965ce2938ad1d6507805a1ab4d1a1b0">is_compressed_row_format_supported</a> ($cached=true)</td></tr>
<tr class="memdesc:ae965ce2938ad1d6507805a1ab4d1a1b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this database compatible with compressed row format?  <br /></td></tr>
<tr class="separator:ae965ce2938ad1d6507805a1ab4d1a1b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84e551beba47b1c0f94d1fe1e6c5de97" id="r_a84e551beba47b1c0f94d1fe1e6c5de97"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a84e551beba47b1c0f94d1fe1e6c5de97">is_count_window_function_supported</a> ()</td></tr>
<tr class="memdesc:a84e551beba47b1c0f94d1fe1e6c5de97"><td class="mdescLeft">&#160;</td><td class="mdescRight">MariaDB supports the COUNT() window function and provides a performance improvement.  <br /></td></tr>
<tr class="separator:a84e551beba47b1c0f94d1fe1e6c5de97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab584fecab234c48c418ec3a4d31b47bf" id="r_ab584fecab234c48c418ec3a4d31b47bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#ab584fecab234c48c418ec3a4d31b47bf">is_file_per_table_enabled</a> ()</td></tr>
<tr class="memdesc:ab584fecab234c48c418ec3a4d31b47bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the database to see if innodb_file_per_table is on.  <br /></td></tr>
<tr class="separator:ab584fecab234c48c418ec3a4d31b47bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a17de1e539649b1b39b25f4a06b0a27" id="r_a3a17de1e539649b1b39b25f4a06b0a27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a17de1e539649b1b39b25f4a06b0a27">is_fulltext_search_supported</a> ()</td></tr>
<tr class="memdesc:a3a17de1e539649b1b39b25f4a06b0a27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does this mariadb instance support fulltext indexes?  <br /></td></tr>
<tr class="separator:a3a17de1e539649b1b39b25f4a06b0a27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ad23437cbe807149e555fd5cbe3e011" id="r_a2ad23437cbe807149e555fd5cbe3e011"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a2ad23437cbe807149e555fd5cbe3e011">is_large_prefix_enabled</a> ()</td></tr>
<tr class="memdesc:a2ad23437cbe807149e555fd5cbe3e011"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the database to see if innodb_large_prefix is on.  <br /></td></tr>
<tr class="separator:a2ad23437cbe807149e555fd5cbe3e011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd15d09cfbcd348245a113dc21299684" id="r_abd15d09cfbcd348245a113dc21299684"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#abd15d09cfbcd348245a113dc21299684">is_transaction_started</a> ()</td></tr>
<tr class="memdesc:abd15d09cfbcd348245a113dc21299684"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if a transaction is in progress.  <br /></td></tr>
<tr class="separator:abd15d09cfbcd348245a113dc21299684"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88efe099824232405fdd57abf99a5da5" id="r_a88efe099824232405fdd57abf99a5da5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a88efe099824232405fdd57abf99a5da5">perf_get_queries</a> ()</td></tr>
<tr class="memdesc:a88efe099824232405fdd57abf99a5da5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of queries done by this database.  <br /></td></tr>
<tr class="separator:a88efe099824232405fdd57abf99a5da5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26f3aea41366300759a65971ddaeae91" id="r_a26f3aea41366300759a65971ddaeae91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a26f3aea41366300759a65971ddaeae91">perf_get_queries_time</a> ()</td></tr>
<tr class="memdesc:a26f3aea41366300759a65971ddaeae91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time waiting for the database engine to finish running all queries.  <br /></td></tr>
<tr class="separator:a26f3aea41366300759a65971ddaeae91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abef8ec7916dbf288bdc45828e24e2e71" id="r_abef8ec7916dbf288bdc45828e24e2e71"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#abef8ec7916dbf288bdc45828e24e2e71">perf_get_reads</a> ()</td></tr>
<tr class="memdesc:abef8ec7916dbf288bdc45828e24e2e71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of reads done by this database.  <br /></td></tr>
<tr class="separator:abef8ec7916dbf288bdc45828e24e2e71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aede2b6f470152fcb31b1011e4a0a3c9d" id="r_aede2b6f470152fcb31b1011e4a0a3c9d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#aede2b6f470152fcb31b1011e4a0a3c9d">perf_get_reads_replica</a> ()</td></tr>
<tr class="memdesc:aede2b6f470152fcb31b1011e4a0a3c9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of reads before first write done by this database.  <br /></td></tr>
<tr class="separator:aede2b6f470152fcb31b1011e4a0a3c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3ba367be9772be6b095f58201579543" id="r_ab3ba367be9772be6b095f58201579543"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ab3ba367be9772be6b095f58201579543">perf_get_writes</a> ()</td></tr>
<tr class="memdesc:ab3ba367be9772be6b095f58201579543"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of writes done by this database.  <br /></td></tr>
<tr class="separator:ab3ba367be9772be6b095f58201579543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a330a77e48f251264f020d52169438e25" id="r_a330a77e48f251264f020d52169438e25"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a330a77e48f251264f020d52169438e25">query_log</a> ($error=false)</td></tr>
<tr class="memdesc:a330a77e48f251264f020d52169438e25"><td class="mdescLeft">&#160;</td><td class="mdescRight">This logs the last query based on 'logall', 'logslow' and 'logerrors' options configured via $CFG-&gt;dboptions .  <br /></td></tr>
<tr class="separator:a330a77e48f251264f020d52169438e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5826a54c172a58a7853eccfc23689064" id="r_a5826a54c172a58a7853eccfc23689064"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a5826a54c172a58a7853eccfc23689064">raw_connect</a> (string $dbhost, string $dbuser, string $dbpass, string $dbname, $prefix, ?array $dboptions=null)</td></tr>
<tr class="memdesc:a5826a54c172a58a7853eccfc23689064"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to db.  <br /></td></tr>
<tr class="separator:a5826a54c172a58a7853eccfc23689064"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf3175a0c0ca9a47f7228a5dd82cc0d8" id="r_abf3175a0c0ca9a47f7228a5dd82cc0d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#abf3175a0c0ca9a47f7228a5dd82cc0d8">record_exists</a> ($table, array $conditions)</td></tr>
<tr class="memdesc:abf3175a0c0ca9a47f7228a5dd82cc0d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether a record exists in a table where all the given conditions met.  <br /></td></tr>
<tr class="separator:abf3175a0c0ca9a47f7228a5dd82cc0d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bb1c6d5c6208e51c68cf56b9a24b1ac" id="r_a1bb1c6d5c6208e51c68cf56b9a24b1ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a1bb1c6d5c6208e51c68cf56b9a24b1ac">record_exists_select</a> ($table, $select, ?array $params=null)</td></tr>
<tr class="memdesc:a1bb1c6d5c6208e51c68cf56b9a24b1ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether any records exists in a table which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:a1bb1c6d5c6208e51c68cf56b9a24b1ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2bf8283a63f4d432b0e5289a991eb78" id="r_ad2bf8283a63f4d432b0e5289a991eb78"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ad2bf8283a63f4d432b0e5289a991eb78">record_exists_sql</a> ($sql, ?array $params=null)</td></tr>
<tr class="memdesc:ad2bf8283a63f4d432b0e5289a991eb78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether a SQL SELECT statement returns any records.  <br /></td></tr>
<tr class="separator:ad2bf8283a63f4d432b0e5289a991eb78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf2f2a5d983a792c513bc461237c484e" id="r_aaf2f2a5d983a792c513bc461237c484e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#aaf2f2a5d983a792c513bc461237c484e">release_session_lock</a> ($rowid)</td></tr>
<tr class="memdesc:aaf2f2a5d983a792c513bc461237c484e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the session lock.  <br /></td></tr>
<tr class="separator:aaf2f2a5d983a792c513bc461237c484e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c89e08b712205fb341d088e62062e91" id="r_a9c89e08b712205fb341d088e62062e91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a9c89e08b712205fb341d088e62062e91">replace_all_text</a> ($table, <a class="el" href="../../d8/d41/classdatabase__column__info.html">database_column_info</a> $column, $search, $replace)</td></tr>
<tr class="memdesc:a9c89e08b712205fb341d088e62062e91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace given text in all rows of column.  <br /></td></tr>
<tr class="separator:a9c89e08b712205fb341d088e62062e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a282c446467886bea70a4dc5ace1ce257" id="r_a282c446467886bea70a4dc5ace1ce257"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a282c446467886bea70a4dc5ace1ce257">replace_all_text_supported</a> ()</td></tr>
<tr class="memdesc:a282c446467886bea70a4dc5ace1ce257"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does this driver support tool_replace?  <br /></td></tr>
<tr class="separator:a282c446467886bea70a4dc5ace1ce257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a566d10b7a58d695c82fa97290d183c7f" id="r_a566d10b7a58d695c82fa97290d183c7f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a566d10b7a58d695c82fa97290d183c7f">reset_caches</a> ($tablenames=null)</td></tr>
<tr class="memdesc:a566d10b7a58d695c82fa97290d183c7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the internal column details cache.  <br /></td></tr>
<tr class="separator:a566d10b7a58d695c82fa97290d183c7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52626080be6e106f27052edac0046718" id="r_a52626080be6e106f27052edac0046718"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a52626080be6e106f27052edac0046718">rollback_delegated_transaction</a> (<a class="el" href="../../d8/db9/classmoodle__transaction.html">moodle_transaction</a> $transaction, $e)</td></tr>
<tr class="memdesc:a52626080be6e106f27052edac0046718"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call when delegated transaction failed, this rolls back all delegated transactions up to the top most level.  <br /></td></tr>
<tr class="separator:a52626080be6e106f27052edac0046718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01d9a7840353df2b1a28353e89b1eebf" id="r_a01d9a7840353df2b1a28353e89b1eebf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a01d9a7840353df2b1a28353e89b1eebf">session_lock_supported</a> ()</td></tr>
<tr class="memdesc:a01d9a7840353df2b1a28353e89b1eebf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is session lock supported in this driver?  <br /></td></tr>
<tr class="separator:a01d9a7840353df2b1a28353e89b1eebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35d0837880bf49e85ca84301f2be3eb7" id="r_a35d0837880bf49e85ca84301f2be3eb7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a35d0837880bf49e85ca84301f2be3eb7">set_debug</a> ($state)</td></tr>
<tr class="memdesc:a35d0837880bf49e85ca84301f2be3eb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/disable very detailed debugging.  <br /></td></tr>
<tr class="separator:a35d0837880bf49e85ca84301f2be3eb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e884967eafc75a13446856e3d4bcf18" id="r_a5e884967eafc75a13446856e3d4bcf18"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a5e884967eafc75a13446856e3d4bcf18">set_field</a> ($table, $newfield, $newvalue, ?array $conditions=null)</td></tr>
<tr class="memdesc:a5e884967eafc75a13446856e3d4bcf18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a single field in every table record where all the given conditions met.  <br /></td></tr>
<tr class="separator:a5e884967eafc75a13446856e3d4bcf18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ed46b38cf912a3b8e915ed3cf7c2730" id="r_a1ed46b38cf912a3b8e915ed3cf7c2730"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a1ed46b38cf912a3b8e915ed3cf7c2730">set_field_select</a> ($table, $newfield, $newvalue, $select, ?array $params=null)</td></tr>
<tr class="memdesc:a1ed46b38cf912a3b8e915ed3cf7c2730"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a single field in every table record which match a particular WHERE clause.  <br /></td></tr>
<tr class="separator:a1ed46b38cf912a3b8e915ed3cf7c2730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d8a59b122bc0668b00eb85465a0d413" id="r_a8d8a59b122bc0668b00eb85465a0d413"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a8d8a59b122bc0668b00eb85465a0d413">setup_is_unicodedb</a> ()</td></tr>
<tr class="memdesc:a8d8a59b122bc0668b00eb85465a0d413"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this database compatible with utf8?  <br /></td></tr>
<tr class="separator:a8d8a59b122bc0668b00eb85465a0d413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac68dc229239c363cbb694b5b48e80394" id="r_ac68dc229239c363cbb694b5b48e80394"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ac68dc229239c363cbb694b5b48e80394">sql_bitand</a> ($int1, $int2)</td></tr>
<tr class="memdesc:ac68dc229239c363cbb694b5b48e80394"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used in order to perform one bitwise AND operation between 2 integers.  <br /></td></tr>
<tr class="separator:ac68dc229239c363cbb694b5b48e80394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acac48b82fd3f9c783378bafbb5d3d114" id="r_acac48b82fd3f9c783378bafbb5d3d114"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#acac48b82fd3f9c783378bafbb5d3d114">sql_bitnot</a> ($int1)</td></tr>
<tr class="memdesc:acac48b82fd3f9c783378bafbb5d3d114"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used in order to perform one bitwise NOT operation with 1 integer.  <br /></td></tr>
<tr class="separator:acac48b82fd3f9c783378bafbb5d3d114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80882d2125b553aab4f8ca270482bb71" id="r_a80882d2125b553aab4f8ca270482bb71"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a80882d2125b553aab4f8ca270482bb71">sql_bitor</a> ($int1, $int2)</td></tr>
<tr class="memdesc:a80882d2125b553aab4f8ca270482bb71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used in order to perform one bitwise OR operation between 2 integers.  <br /></td></tr>
<tr class="separator:a80882d2125b553aab4f8ca270482bb71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4e61636f425f4bb9de8916a78460c3e" id="r_ad4e61636f425f4bb9de8916a78460c3e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ad4e61636f425f4bb9de8916a78460c3e">sql_bitxor</a> ($int1, $int2)</td></tr>
<tr class="memdesc:ad4e61636f425f4bb9de8916a78460c3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used in order to perform one bitwise XOR operation between 2 integers.  <br /></td></tr>
<tr class="separator:ad4e61636f425f4bb9de8916a78460c3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af04c35869c12df64a86464b5687e168c" id="r_af04c35869c12df64a86464b5687e168c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#af04c35869c12df64a86464b5687e168c">sql_cast_2signed</a> ($fieldname)</td></tr>
<tr class="memdesc:af04c35869c12df64a86464b5687e168c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL to be used in order to an UNSIGNED INTEGER column to SIGNED.  <br /></td></tr>
<tr class="separator:af04c35869c12df64a86464b5687e168c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ad90505cf998ae1e32fd13abe20972d" id="r_a4ad90505cf998ae1e32fd13abe20972d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a4ad90505cf998ae1e32fd13abe20972d">sql_cast_char2int</a> ($fieldname, $text=false)</td></tr>
<tr class="memdesc:a4ad90505cf998ae1e32fd13abe20972d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL to be used in order to CAST one CHAR column to INTEGER.  <br /></td></tr>
<tr class="separator:a4ad90505cf998ae1e32fd13abe20972d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f45b0d7e916fc199a8d2b5aa1ad4c7b" id="r_a2f45b0d7e916fc199a8d2b5aa1ad4c7b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a2f45b0d7e916fc199a8d2b5aa1ad4c7b">sql_cast_char2real</a> ($fieldname, $text=false)</td></tr>
<tr class="memdesc:a2f45b0d7e916fc199a8d2b5aa1ad4c7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL to be used in order to CAST one CHAR column to REAL number.  <br /></td></tr>
<tr class="separator:a2f45b0d7e916fc199a8d2b5aa1ad4c7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790893b7ddd951c847e89ff924e49002" id="r_a790893b7ddd951c847e89ff924e49002"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a790893b7ddd951c847e89ff924e49002">sql_cast_to_char</a> (string $field)</td></tr>
<tr class="memdesc:a790893b7ddd951c847e89ff924e49002"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return SQL for casting to char of given field/expression.  <br /></td></tr>
<tr class="separator:a790893b7ddd951c847e89ff924e49002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7890196bac87305b781986a03c6f5be" id="r_af7890196bac87305b781986a03c6f5be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#af7890196bac87305b781986a03c6f5be">sql_ceil</a> ($fieldname)</td></tr>
<tr class="memdesc:af7890196bac87305b781986a03c6f5be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the cross db correct CEIL (ceiling) expression applied to fieldname.  <br /></td></tr>
<tr class="separator:af7890196bac87305b781986a03c6f5be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a820b8acd947c5e66d363d7900c24565f" id="r_a820b8acd947c5e66d363d7900c24565f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a820b8acd947c5e66d363d7900c24565f">sql_compare_text</a> ($fieldname, $numchars=32)</td></tr>
<tr class="memdesc:a820b8acd947c5e66d363d7900c24565f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used to compare one TEXT (clob) column with one varchar column, because some RDBMS doesn't support such direct comparisons.  <br /></td></tr>
<tr class="separator:a820b8acd947c5e66d363d7900c24565f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59d2ae107e44a173941b4df4dbd258fd" id="r_a59d2ae107e44a173941b4df4dbd258fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a59d2ae107e44a173941b4df4dbd258fd">sql_concat</a> (... $arr)</td></tr>
<tr class="memdesc:a59d2ae107e44a173941b4df4dbd258fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the proper SQL to do CONCAT between the elements passed Can take many parameters.  <br /></td></tr>
<tr class="separator:a59d2ae107e44a173941b4df4dbd258fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32bf407ea0b57a8fcc0758bc2ee776ae" id="r_a32bf407ea0b57a8fcc0758bc2ee776ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a32bf407ea0b57a8fcc0758bc2ee776ae">sql_concat_join</a> ($separator=&quot;' '&quot;, $elements=array())</td></tr>
<tr class="memdesc:a32bf407ea0b57a8fcc0758bc2ee776ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the proper SQL to do CONCAT between the elements passed with a given separator.  <br /></td></tr>
<tr class="separator:a32bf407ea0b57a8fcc0758bc2ee776ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae22406799410a3cbdd253516eab46c5c" id="r_ae22406799410a3cbdd253516eab46c5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ae22406799410a3cbdd253516eab46c5c">sql_empty</a> ()</td></tr>
<tr class="memdesc:ae22406799410a3cbdd253516eab46c5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This used to return empty string replacement character.  <br /></td></tr>
<tr class="separator:ae22406799410a3cbdd253516eab46c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97728114ee233b71bd2aa862ef3e5602" id="r_a97728114ee233b71bd2aa862ef3e5602"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a97728114ee233b71bd2aa862ef3e5602">sql_equal</a> ($fieldname, $param, $casesensitive=true, $accentsensitive=true, $notequal=false)</td></tr>
<tr class="memdesc:a97728114ee233b71bd2aa862ef3e5602"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an equal (=) or not equal (&lt;&gt;) part of a query.  <br /></td></tr>
<tr class="separator:a97728114ee233b71bd2aa862ef3e5602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff9684dbbfefd579a8e8925e1930aff4" id="r_aff9684dbbfefd579a8e8925e1930aff4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#aff9684dbbfefd579a8e8925e1930aff4">sql_fullname</a> ($first='firstname', $last='lastname')</td></tr>
<tr class="memdesc:aff9684dbbfefd579a8e8925e1930aff4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the proper SQL (for the dbms in use) to concatenate $firstname and $lastname.  <br /></td></tr>
<tr class="separator:aff9684dbbfefd579a8e8925e1930aff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae669236b807e6b4e531144113fc1a0b7" id="r_ae669236b807e6b4e531144113fc1a0b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#ae669236b807e6b4e531144113fc1a0b7">sql_group_concat</a> (string $field, string $separator=', ', string $sort='')</td></tr>
<tr class="memdesc:ae669236b807e6b4e531144113fc1a0b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return SQL for performing group concatenation on given field/expression.  <br /></td></tr>
<tr class="separator:ae669236b807e6b4e531144113fc1a0b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354de7f0293a8bf898e9569d34ce93d4" id="r_a354de7f0293a8bf898e9569d34ce93d4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a354de7f0293a8bf898e9569d34ce93d4">sql_intersect</a> ($selects, $fields)</td></tr>
<tr class="memdesc:a354de7f0293a8bf898e9569d34ce93d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL that allows to find intersection of two or more queries.  <br /></td></tr>
<tr class="separator:a354de7f0293a8bf898e9569d34ce93d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4191fbfdf4d8f178c7f8baa6f0b3f10c" id="r_a4191fbfdf4d8f178c7f8baa6f0b3f10c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a4191fbfdf4d8f178c7f8baa6f0b3f10c">sql_isempty</a> ($tablename, $fieldname, $nullablefield, $textfield)</td></tr>
<tr class="memdesc:a4191fbfdf4d8f178c7f8baa6f0b3f10c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the proper SQL to know if one field is empty.  <br /></td></tr>
<tr class="separator:a4191fbfdf4d8f178c7f8baa6f0b3f10c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15973dfa55e723dee0363e3aee643914" id="r_a15973dfa55e723dee0363e3aee643914"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a15973dfa55e723dee0363e3aee643914">sql_isnotempty</a> ($tablename, $fieldname, $nullablefield, $textfield)</td></tr>
<tr class="memdesc:a15973dfa55e723dee0363e3aee643914"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the proper SQL to know if one field is not empty.  <br /></td></tr>
<tr class="separator:a15973dfa55e723dee0363e3aee643914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8794c1c35daa08f69264b7d4090f4a77" id="r_a8794c1c35daa08f69264b7d4090f4a77"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a8794c1c35daa08f69264b7d4090f4a77">sql_length</a> ($fieldname)</td></tr>
<tr class="memdesc:a8794c1c35daa08f69264b7d4090f4a77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used to calculate the length in characters of one expression.  <br /></td></tr>
<tr class="separator:a8794c1c35daa08f69264b7d4090f4a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a303026767ea836b991a1eb6fccd61edd" id="r_a303026767ea836b991a1eb6fccd61edd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a303026767ea836b991a1eb6fccd61edd">sql_like</a> ($fieldname, $param, $casesensitive=true, $accentsensitive=true, $notlike=false, $escapechar='\\')</td></tr>
<tr class="memdesc:a303026767ea836b991a1eb6fccd61edd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns 'LIKE' part of a query.  <br /></td></tr>
<tr class="separator:a303026767ea836b991a1eb6fccd61edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c121b8dd12ec96c1b383f408771f9df" id="r_a2c121b8dd12ec96c1b383f408771f9df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a2c121b8dd12ec96c1b383f408771f9df">sql_like_escape</a> ($text, $escapechar='\\')</td></tr>
<tr class="memdesc:a2c121b8dd12ec96c1b383f408771f9df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Escape sql LIKE special characters like '_' or ''.  <br /></td></tr>
<tr class="separator:a2c121b8dd12ec96c1b383f408771f9df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a8c36b4f5df99363ab8bddfe2b718c4" id="r_a4a8c36b4f5df99363ab8bddfe2b718c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a4a8c36b4f5df99363ab8bddfe2b718c4">sql_modulo</a> ($int1, $int2)</td></tr>
<tr class="memdesc:a4a8c36b4f5df99363ab8bddfe2b718c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used in order to perform module '' operation - remainder after division.  <br /></td></tr>
<tr class="separator:a4a8c36b4f5df99363ab8bddfe2b718c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17896707600b6f12a885e0928cad3c62" id="r_a17896707600b6f12a885e0928cad3c62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a17896707600b6f12a885e0928cad3c62">sql_null_from_clause</a> ()</td></tr>
<tr class="memdesc:a17896707600b6f12a885e0928cad3c62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the FROM clause required by some DBs in all SELECT statements.  <br /></td></tr>
<tr class="separator:a17896707600b6f12a885e0928cad3c62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eb3d5f73789b5ed8c809e6fe1a0fa84" id="r_a7eb3d5f73789b5ed8c809e6fe1a0fa84"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a7eb3d5f73789b5ed8c809e6fe1a0fa84">sql_order_by_null</a> (string $fieldname, int $sort=SORT_ASC)</td></tr>
<tr class="memdesc:a7eb3d5f73789b5ed8c809e6fe1a0fa84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used to order by columns, standardising the return pattern of null values across database types to sort nulls first when ascending and last when descending.  <br /></td></tr>
<tr class="separator:a7eb3d5f73789b5ed8c809e6fe1a0fa84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e51c0085bf05d53d7fb61840645f2c7" id="r_a4e51c0085bf05d53d7fb61840645f2c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a4e51c0085bf05d53d7fb61840645f2c7">sql_order_by_text</a> ($fieldname, $numchars=32)</td></tr>
<tr class="memdesc:a4e51c0085bf05d53d7fb61840645f2c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL text to be used to order by one TEXT (clob) column, because some RDBMS doesn't support direct ordering of such fields.  <br /></td></tr>
<tr class="separator:a4e51c0085bf05d53d7fb61840645f2c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e8706138bc2db33bf1da592c0c55ac1" id="r_a2e8706138bc2db33bf1da592c0c55ac1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a2e8706138bc2db33bf1da592c0c55ac1">sql_position</a> ($needle, $haystack)</td></tr>
<tr class="memdesc:a2e8706138bc2db33bf1da592c0c55ac1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL for returning searching one string for the location of another.  <br /></td></tr>
<tr class="separator:a2e8706138bc2db33bf1da592c0c55ac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69a9ff16cb42c07d95a049e75fa21428" id="r_a69a9ff16cb42c07d95a049e75fa21428"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a69a9ff16cb42c07d95a049e75fa21428">sql_regex</a> ($positivematch=true, $casesensitive=false)</td></tr>
<tr class="memdesc:a69a9ff16cb42c07d95a049e75fa21428"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return regex positive or negative match sql.  <br /></td></tr>
<tr class="separator:a69a9ff16cb42c07d95a049e75fa21428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa629853c2fd0bd659864594c8498b31" id="r_afa629853c2fd0bd659864594c8498b31"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#afa629853c2fd0bd659864594c8498b31">sql_regex_get_word_beginning_boundary_marker</a> ()</td></tr>
<tr class="memdesc:afa629853c2fd0bd659864594c8498b31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the word-beginning boundary marker based on <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> version.  <br /></td></tr>
<tr class="separator:afa629853c2fd0bd659864594c8498b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05a7c7b03e223bc39b855a0ca23727eb" id="r_a05a7c7b03e223bc39b855a0ca23727eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a05a7c7b03e223bc39b855a0ca23727eb">sql_regex_get_word_end_boundary_marker</a> ()</td></tr>
<tr class="memdesc:a05a7c7b03e223bc39b855a0ca23727eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the word-end boundary marker based on <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> version.  <br /></td></tr>
<tr class="separator:a05a7c7b03e223bc39b855a0ca23727eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36385de1a5b1bfd8f1ab6b40585573c5" id="r_a36385de1a5b1bfd8f1ab6b40585573c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a36385de1a5b1bfd8f1ab6b40585573c5">sql_regex_supported</a> ()</td></tr>
<tr class="memdesc:a36385de1a5b1bfd8f1ab6b40585573c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does this driver support regex syntax when searching.  <br /></td></tr>
<tr class="separator:a36385de1a5b1bfd8f1ab6b40585573c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bec22642abe1fe63bf0c82b5206a6e4" id="r_a1bec22642abe1fe63bf0c82b5206a6e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a1bec22642abe1fe63bf0c82b5206a6e4">sql_substr</a> ($expr, $start, $length=false)</td></tr>
<tr class="memdesc:a1bec22642abe1fe63bf0c82b5206a6e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the proper substr() SQL text used to extract substrings from <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> NOTE: this was originally returning only function name.  <br /></td></tr>
<tr class="separator:a1bec22642abe1fe63bf0c82b5206a6e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f26ff20924496ec4d7b12003e4bb9cf" id="r_a5f26ff20924496ec4d7b12003e4bb9cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a5f26ff20924496ec4d7b12003e4bb9cf">start_delegated_transaction</a> ()</td></tr>
<tr class="memdesc:a5f26ff20924496ec4d7b12003e4bb9cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">On DBs that support it, switch to transaction mode and begin a transaction you'll need to ensure you call allow_commit() on the returned object or your changes <em>will</em> be lost.  <br /></td></tr>
<tr class="separator:a5f26ff20924496ec4d7b12003e4bb9cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5788c52d917e79d2c95464809732aae" id="r_ac5788c52d917e79d2c95464809732aae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ac5788c52d917e79d2c95464809732aae">transactions_forbidden</a> ()</td></tr>
<tr class="memdesc:ac5788c52d917e79d2c95464809732aae"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a test that throws an exception if transaction in progress.  <br /></td></tr>
<tr class="separator:ac5788c52d917e79d2c95464809732aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab13116204767a8cb4eddb6ab7edf4772" id="r_ab13116204767a8cb4eddb6ab7edf4772"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#ab13116204767a8cb4eddb6ab7edf4772">update_record</a> ($table, $dataobject, $bulk=false)</td></tr>
<tr class="memdesc:ab13116204767a8cb4eddb6ab7edf4772"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a record in a table.  <br /></td></tr>
<tr class="separator:ab13116204767a8cb4eddb6ab7edf4772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92653530e2c7c2b2f1f7c366ec2a0ccf" id="r_a92653530e2c7c2b2f1f7c366ec2a0ccf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a92653530e2c7c2b2f1f7c366ec2a0ccf">update_record_raw</a> ($table, $params, $bulk=false)</td></tr>
<tr class="memdesc:a92653530e2c7c2b2f1f7c366ec2a0ccf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update record in database, as fast as possible, no safety checks, lobs not supported.  <br /></td></tr>
<tr class="separator:a92653530e2c7c2b2f1f7c366ec2a0ccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0bcbea24c115fc7c14d8db268255df8" id="r_af0bcbea24c115fc7c14d8db268255df8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#af0bcbea24c115fc7c14d8db268255df8">update_temp_table_stats</a> ()</td></tr>
<tr class="memdesc:af0bcbea24c115fc7c14d8db268255df8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyze the data in temporary tables to force statistics collection after bulk data loads.  <br /></td></tr>
<tr class="separator:af0bcbea24c115fc7c14d8db268255df8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3edae032155bebcb42baaa3a97d8a34" id="r_af3edae032155bebcb42baaa3a97d8a34"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#af3edae032155bebcb42baaa3a97d8a34">want_read_replica</a> ()</td></tr>
<tr class="memdesc:af3edae032155bebcb42baaa3a97d8a34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether we want to connect to replica database for read queries.  <br /></td></tr>
<tr class="separator:af3edae032155bebcb42baaa3a97d8a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a0c73988370f8a4433b6cf8d7bbf8752f" id="r_a0c73988370f8a4433b6cf8d7bbf8752f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a0c73988370f8a4433b6cf8d7bbf8752f">get_driver_instance</a> ($type, $library, $external=false)</td></tr>
<tr class="memdesc:a0c73988370f8a4433b6cf8d7bbf8752f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads and returns a database instance with the specified type and library.  <br /></td></tr>
<tr class="separator:a0c73988370f8a4433b6cf8d7bbf8752f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:acd93a51ea24daa4c930d2fb4a45f83a1" id="r_acd93a51ea24daa4c930d2fb4a45f83a1"><td class="memItemLeft" align="right" valign="top">replacement&#160;</td><td class="memItemRight" valign="bottom">: '<a class="el" href="../../d3/d6e/classmoodle__database.html#af3edae032155bebcb42baaa3a97d8a34">want_read_replica</a>'</td></tr>
<tr class="memdesc:acd93a51ea24daa4c930d2fb4a45f83a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether we want to connect to slave database for read queries.  <br /></td></tr>
<tr class="separator:acd93a51ea24daa4c930d2fb4a45f83a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc94d1b2b078d795a08fc9e51cb4dda8" id="r_afc94d1b2b078d795a08fc9e51cb4dda8"><td class="memItemLeft" align="right" valign="top">replacement&#160;</td><td class="memItemRight" valign="bottom">: '<a class="el" href="../../d3/d6e/classmoodle__database.html#aede2b6f470152fcb31b1011e4a0a3c9d">perf_get_reads_replica</a>'</td></tr>
<tr class="memdesc:afc94d1b2b078d795a08fc9e51cb4dda8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of reads before first write done by this database.  <br /></td></tr>
<tr class="separator:afc94d1b2b078d795a08fc9e51cb4dda8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5071494c024a0b12ab7ce37dd95dfd99" id="r_a5071494c024a0b12ab7ce37dd95dfd99"><td class="memItemLeft" align="right" valign="top"><a id="a5071494c024a0b12ab7ce37dd95dfd99" name="a5071494c024a0b12ab7ce37dd95dfd99"></a>
return&#160;</td><td class="memItemRight" valign="bottom"><b>false</b></td></tr>
<tr class="separator:a5071494c024a0b12ab7ce37dd95dfd99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab129ac764e08cd8d96d15663094cd522" id="r_ab129ac764e08cd8d96d15663094cd522"><td class="memItemLeft" align="right" valign="top"><a id="ab129ac764e08cd8d96d15663094cd522" name="ab129ac764e08cd8d96d15663094cd522"></a>
replacement&#160;</td><td class="memItemRight" valign="bottom"><b>mdl</b>: '&lt;a class=&quot;el&quot; href=&quot;https: reason: 'Renamed' )] public function want_read_slave(): bool { <a class="el" href="../../dd/ddd/classcore_1_1deprecation.html#aa6a2a0314495a710cd681ca96146679d">core\deprecation::emit_deprecation_if_present</a>(__FUNCTION__)</td></tr>
<tr class="separator:ab129ac764e08cd8d96d15663094cd522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaf43de9920ba1c39733621b137c9ab4" id="r_abaf43de9920ba1c39733621b137c9ab4"><td class="memItemLeft" align="right" valign="top"><a id="abaf43de9920ba1c39733621b137c9ab4" name="abaf43de9920ba1c39733621b137c9ab4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>return</b></td></tr>
<tr class="separator:abaf43de9920ba1c39733621b137c9ab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab673a3e287494dc101a752f9649bcf95" id="r_ab673a3e287494dc101a752f9649bcf95"><td class="memItemLeft" align="right" valign="top"><a id="ab673a3e287494dc101a752f9649bcf95" name="ab673a3e287494dc101a752f9649bcf95"></a>
replacement&#160;</td><td class="memItemRight" valign="bottom"><b>since</b>: '5.0'</td></tr>
<tr class="separator:ab673a3e287494dc101a752f9649bcf95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a0068ad25e4eef063fc699f424f341b90" id="r_a0068ad25e4eef063fc699f424f341b90"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a0068ad25e4eef063fc699f424f341b90">add_sql_debugging</a> (string $sql)</td></tr>
<tr class="memdesc:a0068ad25e4eef063fc699f424f341b90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an SQL comment to trace all sql calls back to the calling php code.  <br /></td></tr>
<tr class="separator:a0068ad25e4eef063fc699f424f341b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a848afca37b5936ce62935500c58ea4b4" id="r_a848afca37b5936ce62935500c58ea4b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a848afca37b5936ce62935500c58ea4b4">allowed_param_types</a> ()</td></tr>
<tr class="memdesc:a848afca37b5936ce62935500c58ea4b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns supported query parameter types.  <br /></td></tr>
<tr class="separator:a848afca37b5936ce62935500c58ea4b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab14100448a68e5ba14f5ec3abe9424e3" id="r_ab14100448a68e5ba14f5ec3abe9424e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#ab14100448a68e5ba14f5ec3abe9424e3">begin_transaction</a> ()</td></tr>
<tr class="memdesc:ab14100448a68e5ba14f5ec3abe9424e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver specific start of real database transaction, this can not be used directly in code.  <br /></td></tr>
<tr class="separator:ab14100448a68e5ba14f5ec3abe9424e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7ded79d2d38394c081e1e8589627fca" id="r_aa7ded79d2d38394c081e1e8589627fca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#aa7ded79d2d38394c081e1e8589627fca">can_use_readonly</a> (int $type, string $sql)</td></tr>
<tr class="memdesc:aa7ded79d2d38394c081e1e8589627fca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if The query qualifies for readonly connection execution Logging queries are exempt, those are write operations that circumvent standard query_start/query_end paths.  <br /></td></tr>
<tr class="separator:aa7ded79d2d38394c081e1e8589627fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e14943c5979d920b457320f19c5c8ab" id="r_a4e14943c5979d920b457320f19c5c8ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a4e14943c5979d920b457320f19c5c8ab">commit_transaction</a> ()</td></tr>
<tr class="memdesc:a4e14943c5979d920b457320f19c5c8ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver specific commit of real database transaction, this can not be used directly in code.  <br /></td></tr>
<tr class="separator:a4e14943c5979d920b457320f19c5c8ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaad8f18305c59463e09fcec5cba300bd" id="r_aaad8f18305c59463e09fcec5cba300bd"><td class="memItemLeft" align="right" valign="top"><a id="aaad8f18305c59463e09fcec5cba300bd" name="aaad8f18305c59463e09fcec5cba300bd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>create_recordset</b> ($result)</td></tr>
<tr class="separator:aaad8f18305c59463e09fcec5cba300bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a110ef84973d48ab49c3f9847dd3d3650" id="r_a110ef84973d48ab49c3f9847dd3d3650"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a110ef84973d48ab49c3f9847dd3d3650">detect_objects</a> ($value)</td></tr>
<tr class="memdesc:a110ef84973d48ab49c3f9847dd3d3650"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detects object parameters and throws exception if found.  <br /></td></tr>
<tr class="separator:a110ef84973d48ab49c3f9847dd3d3650"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcc9baaf7bad02942f5ad580d61331fc" id="r_afcc9baaf7bad02942f5ad580d61331fc"><td class="memItemLeft" align="right" valign="top"><a id="afcc9baaf7bad02942f5ad580d61331fc" name="afcc9baaf7bad02942f5ad580d61331fc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>emulate_bound_params</b> ($sql, ?array $params=null)</td></tr>
<tr class="memdesc:afcc9baaf7bad02942f5ad580d61331fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Very ugly hack which emulates bound parameters in queries because prepared statements do not use query cache. <br /></td></tr>
<tr class="separator:afcc9baaf7bad02942f5ad580d61331fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8da74f7da3e614b34bd2c1f42e32e3fb" id="r_a8da74f7da3e614b34bd2c1f42e32e3fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a8da74f7da3e614b34bd2c1f42e32e3fb">fetch_columns</a> (string $table)</td></tr>
<tr class="memdesc:a8da74f7da3e614b34bd2c1f42e32e3fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches detailed information about columns in table.  <br /></td></tr>
<tr class="separator:a8da74f7da3e614b34bd2c1f42e32e3fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e182d715619f9aa2daf2d8407bff38b" id="r_a5e182d715619f9aa2daf2d8407bff38b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a5e182d715619f9aa2daf2d8407bff38b">fix_table_name</a> ($tablename)</td></tr>
<tr class="memdesc:a5e182d715619f9aa2daf2d8407bff38b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fixes any table names that clash with reserved words.  <br /></td></tr>
<tr class="separator:a5e182d715619f9aa2daf2d8407bff38b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a926b0db9c78637448947a0482414dd7a" id="r_a926b0db9c78637448947a0482414dd7a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a926b0db9c78637448947a0482414dd7a">fix_table_names</a> ($sql)</td></tr>
<tr class="memdesc:a926b0db9c78637448947a0482414dd7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts short table name {tablename} to the real prefixed table name in given sql.  <br /></td></tr>
<tr class="separator:a926b0db9c78637448947a0482414dd7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae49ca20683295ec332aeb68f2869465f" id="r_ae49ca20683295ec332aeb68f2869465f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#ae49ca20683295ec332aeb68f2869465f">get_db_handle</a> ()</td></tr>
<tr class="memdesc:ae49ca20683295ec332aeb68f2869465f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets db handle currently used with queries.  <br /></td></tr>
<tr class="separator:ae49ca20683295ec332aeb68f2869465f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2de099ddb87290727787ed750a4e49d8" id="r_a2de099ddb87290727787ed750a4e49d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a2de099ddb87290727787ed750a4e49d8">get_dblibrary</a> ()</td></tr>
<tr class="memdesc:a2de099ddb87290727787ed750a4e49d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns general database library name Note: can be used before <a class="el" href="../../d3/d6e/classmoodle__database.html#a76f184b06a2c39fa93a89926d9777a54" title="Connects to the database.">connect()</a>  <br /></td></tr>
<tr class="separator:a2de099ddb87290727787ed750a4e49d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbcd4c7e386394b3c64122c57d552bc6" id="r_afbcd4c7e386394b3c64122c57d552bc6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbcd4c7e386394b3c64122c57d552bc6">get_dbtype</a> ()</td></tr>
<tr class="memdesc:afbcd4c7e386394b3c64122c57d552bc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns more specific database driver type Note: can be used before <a class="el" href="../../d3/d6e/classmoodle__database.html#a76f184b06a2c39fa93a89926d9777a54" title="Connects to the database.">connect()</a>  <br /></td></tr>
<tr class="separator:afbcd4c7e386394b3c64122c57d552bc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac30d3f55af00560ad154cbf7341f2750" id="r_ac30d3f55af00560ad154cbf7341f2750"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#ac30d3f55af00560ad154cbf7341f2750">get_metacache</a> ()</td></tr>
<tr class="memdesc:ac30d3f55af00560ad154cbf7341f2750"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle the creation and caching of the databasemeta information for all databases.  <br /></td></tr>
<tr class="separator:ac30d3f55af00560ad154cbf7341f2750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a187dfcca88e69fbf613afdb20accaf70" id="r_a187dfcca88e69fbf613afdb20accaf70"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a187dfcca88e69fbf613afdb20accaf70">get_mysqli_server_info</a> ()</td></tr>
<tr class="memdesc:a187dfcca88e69fbf613afdb20accaf70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the version of the <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> server, as reported by the PHP client connection.  <br /></td></tr>
<tr class="separator:a187dfcca88e69fbf613afdb20accaf70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af44d6d3d48dc67c72d6143949a023ba8" id="r_af44d6d3d48dc67c72d6143949a023ba8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#af44d6d3d48dc67c72d6143949a023ba8">get_settings_hash</a> ()</td></tr>
<tr class="memdesc:af44d6d3d48dc67c72d6143949a023ba8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a hash for the settings used during connection.  <br /></td></tr>
<tr class="separator:af44d6d3d48dc67c72d6143949a023ba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe146e06552bdb6da89ca32cab04c754" id="r_afe146e06552bdb6da89ca32cab04c754"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#afe146e06552bdb6da89ca32cab04c754">get_temp_tables_cache</a> ()</td></tr>
<tr class="memdesc:afe146e06552bdb6da89ca32cab04c754"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle the creation and caching of the temporary tables.  <br /></td></tr>
<tr class="separator:afe146e06552bdb6da89ca32cab04c754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fbd7891285434302319f6feeaa7d623" id="r_a2fbd7891285434302319f6feeaa7d623"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a2fbd7891285434302319f6feeaa7d623">get_version_from_db</a> ()</td></tr>
<tr class="memdesc:a2fbd7891285434302319f6feeaa7d623"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the version of the <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> server, as reported by 'SELECT VERSION()' query.  <br /></td></tr>
<tr class="separator:a2fbd7891285434302319f6feeaa7d623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab36c48f06039c4071ca3c770a4d22dbc" id="r_ab36c48f06039c4071ca3c770a4d22dbc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab36c48f06039c4071ca3c770a4d22dbc">has_breaking_change_quoted_defaults</a> ()</td></tr>
<tr class="memdesc:ab36c48f06039c4071ca3c770a4d22dbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates whether column information retrieved from <code>information_schema.columns</code> has default values quoted or not.  <br /></td></tr>
<tr class="separator:ab36c48f06039c4071ca3c770a4d22dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a607eadfd9aace50328e2321d850c6685" id="r_a607eadfd9aace50328e2321d850c6685"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a607eadfd9aace50328e2321d850c6685">insert_chunk</a> ($table, array $chunk, array $columns)</td></tr>
<tr class="memdesc:a607eadfd9aace50328e2321d850c6685"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert records in chunks.  <br /></td></tr>
<tr class="separator:a607eadfd9aace50328e2321d850c6685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bf8a85a4863bb842ecdea59610dc3f1" id="r_a4bf8a85a4863bb842ecdea59610dc3f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a4bf8a85a4863bb842ecdea59610dc3f1">is_antelope_file_format_no_more_supported</a> ()</td></tr>
<tr class="memdesc:a4bf8a85a4863bb842ecdea59610dc3f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests if the Antelope file format is still supported or it has been removed.  <br /></td></tr>
<tr class="separator:a4bf8a85a4863bb842ecdea59610dc3f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7696933b02ece447e69a29117b087583" id="r_a7696933b02ece447e69a29117b087583"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a7696933b02ece447e69a29117b087583">normalise_limit_from_num</a> ($limitfrom, $limitnum)</td></tr>
<tr class="memdesc:a7696933b02ece447e69a29117b087583"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensures that limit params are numeric and positive integers, to be passed to the database.  <br /></td></tr>
<tr class="separator:a7696933b02ece447e69a29117b087583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6b6dc8485613b1c78360eafec5a815a" id="r_aa6b6dc8485613b1c78360eafec5a815a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#aa6b6dc8485613b1c78360eafec5a815a">normalise_value</a> ($column, $value)</td></tr>
<tr class="memdesc:aa6b6dc8485613b1c78360eafec5a815a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalise values based in RDBMS dependencies (booleans, LOBs...)  <br /></td></tr>
<tr class="separator:aa6b6dc8485613b1c78360eafec5a815a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa22068a8553ee63304484bab2798178" id="r_aaa22068a8553ee63304484bab2798178"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#aaa22068a8553ee63304484bab2798178">print_debug</a> ($sql, ?array $params=null, $obj=null)</td></tr>
<tr class="memdesc:aaa22068a8553ee63304484bab2798178"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints sql debug info.  <br /></td></tr>
<tr class="separator:aaa22068a8553ee63304484bab2798178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af68a46c6ba0287f470ae0b7d4272b5f3" id="r_af68a46c6ba0287f470ae0b7d4272b5f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#af68a46c6ba0287f470ae0b7d4272b5f3">print_debug_time</a> ()</td></tr>
<tr class="memdesc:af68a46c6ba0287f470ae0b7d4272b5f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the time a query took to run.  <br /></td></tr>
<tr class="separator:af68a46c6ba0287f470ae0b7d4272b5f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af73ba05471d4c50e266ca117006b0174" id="r_af73ba05471d4c50e266ca117006b0174"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#af73ba05471d4c50e266ca117006b0174">query_end</a> ($result)</td></tr>
<tr class="memdesc:af73ba05471d4c50e266ca117006b0174"><td class="mdescLeft">&#160;</td><td class="mdescRight">This should be called immediately after each db query.  <br /></td></tr>
<tr class="separator:af73ba05471d4c50e266ca117006b0174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3777b67ffc20d229fd34ce8d6e49bbc1" id="r_a3777b67ffc20d229fd34ce8d6e49bbc1"><td class="memItemLeft" align="right" valign="top"><a id="a3777b67ffc20d229fd34ce8d6e49bbc1" name="a3777b67ffc20d229fd34ce8d6e49bbc1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>query_log_allow</b> ()</td></tr>
<tr class="memdesc:a3777b67ffc20d229fd34ce8d6e49bbc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore old logging behavior. <br /></td></tr>
<tr class="separator:a3777b67ffc20d229fd34ce8d6e49bbc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae736dd6147181783e38360930e052e76" id="r_ae736dd6147181783e38360930e052e76"><td class="memItemLeft" align="right" valign="top"><a id="ae736dd6147181783e38360930e052e76" name="ae736dd6147181783e38360930e052e76"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>query_log_prevent</b> ()</td></tr>
<tr class="memdesc:ae736dd6147181783e38360930e052e76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable logging temporarily. <br /></td></tr>
<tr class="separator:ae736dd6147181783e38360930e052e76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22869776c6a8b72f2983bc51152147bd" id="r_a22869776c6a8b72f2983bc51152147bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a22869776c6a8b72f2983bc51152147bd">query_start</a> ($sql, ?array $params, $type, $extrainfo=null)</td></tr>
<tr class="memdesc:a22869776c6a8b72f2983bc51152147bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This should be called before each db query.  <br /></td></tr>
<tr class="separator:a22869776c6a8b72f2983bc51152147bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f19d95c9bf5d29ea5cfc5063ce24af5" id="r_a6f19d95c9bf5d29ea5cfc5063ce24af5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a6f19d95c9bf5d29ea5cfc5063ce24af5">query_time</a> ()</td></tr>
<tr class="memdesc:a6f19d95c9bf5d29ea5cfc5063ce24af5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the time elapsed since the query started.  <br /></td></tr>
<tr class="separator:a6f19d95c9bf5d29ea5cfc5063ce24af5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e779e20df13be668bf5d0d5b264afb6" id="r_a3e779e20df13be668bf5d0d5b264afb6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a3e779e20df13be668bf5d0d5b264afb6">rollback_transaction</a> ()</td></tr>
<tr class="memdesc:a3e779e20df13be668bf5d0d5b264afb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver specific abort of real database transaction, this can not be used directly in code.  <br /></td></tr>
<tr class="separator:a3e779e20df13be668bf5d0d5b264afb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad98011bcc2aabb2b18ef42296ec19f21" id="r_ad98011bcc2aabb2b18ef42296ec19f21"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#ad98011bcc2aabb2b18ef42296ec19f21">set_db_handle</a> ($dbh)</td></tr>
<tr class="memdesc:ad98011bcc2aabb2b18ef42296ec19f21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets db handle to be used with subsequent queries.  <br /></td></tr>
<tr class="separator:ad98011bcc2aabb2b18ef42296ec19f21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1eda33cd2dbdae99c3798ec70bdf226" id="r_ae1eda33cd2dbdae99c3798ec70bdf226"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#ae1eda33cd2dbdae99c3798ec70bdf226">should_db_version_be_read_from_db</a> ()</td></tr>
<tr class="memdesc:ae1eda33cd2dbdae99c3798ec70bdf226"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether $CFG-&gt;dboptions['versionfromdb'] has been set to boolean <code>true</code>.  <br /></td></tr>
<tr class="separator:ae1eda33cd2dbdae99c3798ec70bdf226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a161e60ee2e05393bf0163460a92fbf7d" id="r_a161e60ee2e05393bf0163460a92fbf7d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a161e60ee2e05393bf0163460a92fbf7d">store_settings</a> ($dbhost, $dbuser, $dbpass, $dbname, $prefix, ?array $dboptions=null)</td></tr>
<tr class="memdesc:a161e60ee2e05393bf0163460a92fbf7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store various database settings.  <br /></td></tr>
<tr class="separator:a161e60ee2e05393bf0163460a92fbf7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4ced7a45b5e2fd15d6e7a5f4d0a1f22" id="r_ad4ced7a45b5e2fd15d6e7a5f4d0a1f22"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad4ced7a45b5e2fd15d6e7a5f4d0a1f22">transactions_supported</a> ()</td></tr>
<tr class="memdesc:ad4ced7a45b5e2fd15d6e7a5f4d0a1f22"><td class="mdescLeft">&#160;</td><td class="mdescRight">It is time to require transactions everywhere.  <br /></td></tr>
<tr class="separator:ad4ced7a45b5e2fd15d6e7a5f4d0a1f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d65ccf297cbad247020bacd16e5f2e1" id="r_a0d65ccf297cbad247020bacd16e5f2e1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a0d65ccf297cbad247020bacd16e5f2e1">where_clause</a> ($table, ?array $conditions=null)</td></tr>
<tr class="memdesc:a0d65ccf297cbad247020bacd16e5f2e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the SQL WHERE conditions.  <br /></td></tr>
<tr class="separator:a0d65ccf297cbad247020bacd16e5f2e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee549c23eaf78db12ba079a9e0279e59" id="r_aee549c23eaf78db12ba079a9e0279e59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#aee549c23eaf78db12ba079a9e0279e59">where_clause_list</a> ($field, array $values)</td></tr>
<tr class="memdesc:aee549c23eaf78db12ba079a9e0279e59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns SQL WHERE conditions for the ..._list group of methods.  <br /></td></tr>
<tr class="separator:aee549c23eaf78db12ba079a9e0279e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a33d9574994e14758fdb06396169a235f" id="r_a33d9574994e14758fdb06396169a235f"><td class="memItemLeft" align="right" valign="top"><a id="a33d9574994e14758fdb06396169a235f" name="a33d9574994e14758fdb06396169a235f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>$compressedrowformatsupported</b> = null</td></tr>
<tr class="memdesc:a33d9574994e14758fdb06396169a235f"><td class="mdescLeft">&#160;</td><td class="mdescRight">is compressed row format supported cache <br /></td></tr>
<tr class="separator:a33d9574994e14758fdb06396169a235f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cf858a9e1b3fe8a82df2e12e5b390c6" id="r_a8cf858a9e1b3fe8a82df2e12e5b390c6"><td class="memItemLeft" align="right" valign="top"><a id="a8cf858a9e1b3fe8a82df2e12e5b390c6" name="a8cf858a9e1b3fe8a82df2e12e5b390c6"></a>
<a class="el" href="../../de/dd9/classdatabase__manager.html">database_manager</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$database_manager</b></td></tr>
<tr class="memdesc:a8cf858a9e1b3fe8a82df2e12e5b390c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">db manager which allows db structure modifications. <br /></td></tr>
<tr class="separator:a8cf858a9e1b3fe8a82df2e12e5b390c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c0364b175adb1ca356a1211a41cfee2" id="r_a1c0364b175adb1ca356a1211a41cfee2"><td class="memItemLeft" align="right" valign="top"><a id="a1c0364b175adb1ca356a1211a41cfee2" name="a1c0364b175adb1ca356a1211a41cfee2"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$dbhost</b></td></tr>
<tr class="memdesc:a1c0364b175adb1ca356a1211a41cfee2"><td class="mdescLeft">&#160;</td><td class="mdescRight">db host name. <br /></td></tr>
<tr class="separator:a1c0364b175adb1ca356a1211a41cfee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50afa0f0b5ebce639e68a042c1faac1f" id="r_a50afa0f0b5ebce639e68a042c1faac1f"><td class="memItemLeft" align="right" valign="top"><a id="a50afa0f0b5ebce639e68a042c1faac1f" name="a50afa0f0b5ebce639e68a042c1faac1f"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$dbname</b></td></tr>
<tr class="memdesc:a50afa0f0b5ebce639e68a042c1faac1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">db name. <br /></td></tr>
<tr class="separator:a50afa0f0b5ebce639e68a042c1faac1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34e05e58cd41eff748823cf7bfe1cf92" id="r_a34e05e58cd41eff748823cf7bfe1cf92"><td class="memItemLeft" align="right" valign="top"><a id="a34e05e58cd41eff748823cf7bfe1cf92" name="a34e05e58cd41eff748823cf7bfe1cf92"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$dboptions</b></td></tr>
<tr class="memdesc:a34e05e58cd41eff748823cf7bfe1cf92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Database or driver specific options, such as sockets or TCP/IP db connections. <br /></td></tr>
<tr class="separator:a34e05e58cd41eff748823cf7bfe1cf92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f6e7637e8af89d250d0c536c96f778d" id="r_a8f6e7637e8af89d250d0c536c96f778d"><td class="memItemLeft" align="right" valign="top"><a id="a8f6e7637e8af89d250d0c536c96f778d" name="a8f6e7637e8af89d250d0c536c96f778d"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$dbpass</b></td></tr>
<tr class="memdesc:a8f6e7637e8af89d250d0c536c96f778d"><td class="mdescLeft">&#160;</td><td class="mdescRight">db host password. <br /></td></tr>
<tr class="separator:a8f6e7637e8af89d250d0c536c96f778d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a589cf875d0dfa7327a57034927477793" id="r_a589cf875d0dfa7327a57034927477793"><td class="memItemLeft" align="right" valign="top"><a id="a589cf875d0dfa7327a57034927477793" name="a589cf875d0dfa7327a57034927477793"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$dbuser</b></td></tr>
<tr class="memdesc:a589cf875d0dfa7327a57034927477793"><td class="mdescLeft">&#160;</td><td class="mdescRight">db host user. <br /></td></tr>
<tr class="separator:a589cf875d0dfa7327a57034927477793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18bbd9c4003a07b23653ae9f98cca215" id="r_a18bbd9c4003a07b23653ae9f98cca215"><td class="memItemLeft" align="right" valign="top"><a id="a18bbd9c4003a07b23653ae9f98cca215" name="a18bbd9c4003a07b23653ae9f98cca215"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$debug</b> = 0</td></tr>
<tr class="memdesc:a18bbd9c4003a07b23653ae9f98cca215"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debug level. <br /></td></tr>
<tr class="separator:a18bbd9c4003a07b23653ae9f98cca215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8af882b9a304208efa3b422d26220088" id="r_a8af882b9a304208efa3b422d26220088"><td class="memItemLeft" align="right" valign="top"><a id="a8af882b9a304208efa3b422d26220088" name="a8af882b9a304208efa3b422d26220088"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>$disposed</b></td></tr>
<tr class="memdesc:a8af882b9a304208efa3b422d26220088"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag marking database instance as disposed <br /></td></tr>
<tr class="separator:a8af882b9a304208efa3b422d26220088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f98ec4a3814195bea8997fb23bce3d2" id="r_a0f98ec4a3814195bea8997fb23bce3d2"><td class="memItemLeft" align="right" valign="top"><a id="a0f98ec4a3814195bea8997fb23bce3d2" name="a0f98ec4a3814195bea8997fb23bce3d2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>$external</b></td></tr>
<tr class="memdesc:a0f98ec4a3814195bea8997fb23bce3d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">True means non-moodle external database used. <br /></td></tr>
<tr class="separator:a0f98ec4a3814195bea8997fb23bce3d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fa841ae6b4c000c77d2c4f2c68842c4" id="r_a3fa841ae6b4c000c77d2c4f2c68842c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a3fa841ae6b4c000c77d2c4f2c68842c4">$inorequaluniqueindex</a> = 1</td></tr>
<tr class="memdesc:a3fa841ae6b4c000c77d2c4f2c68842c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">internal temporary variable used to guarantee unique parameters in each request.  <br /></td></tr>
<tr class="separator:a3fa841ae6b4c000c77d2c4f2c68842c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f3c05d0cdf7e3240e1e4f5bc0afd77" id="r_af4f3c05d0cdf7e3240e1e4f5bc0afd77"><td class="memItemLeft" align="right" valign="top"><a id="af4f3c05d0cdf7e3240e1e4f5bc0afd77" name="af4f3c05d0cdf7e3240e1e4f5bc0afd77"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$last_extrainfo</b></td></tr>
<tr class="memdesc:af4f3c05d0cdf7e3240e1e4f5bc0afd77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last extra info. <br /></td></tr>
<tr class="separator:af4f3c05d0cdf7e3240e1e4f5bc0afd77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a825ebfe92bcab92f1a6a18d48c9dd02c" id="r_a825ebfe92bcab92f1a6a18d48c9dd02c"><td class="memItemLeft" align="right" valign="top"><a id="a825ebfe92bcab92f1a6a18d48c9dd02c" name="a825ebfe92bcab92f1a6a18d48c9dd02c"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$last_params</b></td></tr>
<tr class="memdesc:a825ebfe92bcab92f1a6a18d48c9dd02c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last query parameters. <br /></td></tr>
<tr class="separator:a825ebfe92bcab92f1a6a18d48c9dd02c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f5b51d40187f2bc389f7310f131609f" id="r_a9f5b51d40187f2bc389f7310f131609f"><td class="memItemLeft" align="right" valign="top"><a id="a9f5b51d40187f2bc389f7310f131609f" name="a9f5b51d40187f2bc389f7310f131609f"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$last_sql</b></td></tr>
<tr class="memdesc:a9f5b51d40187f2bc389f7310f131609f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last used query sql. <br /></td></tr>
<tr class="separator:a9f5b51d40187f2bc389f7310f131609f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a799a582a7ea9c734d67eb9189de4f68f" id="r_a799a582a7ea9c734d67eb9189de4f68f"><td class="memItemLeft" align="right" valign="top"><a id="a799a582a7ea9c734d67eb9189de4f68f" name="a799a582a7ea9c734d67eb9189de4f68f"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>$last_time</b></td></tr>
<tr class="memdesc:a799a582a7ea9c734d67eb9189de4f68f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last time in seconds with millisecond precision. <br /></td></tr>
<tr class="separator:a799a582a7ea9c734d67eb9189de4f68f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc27bf5125a095c45fbd9ff9120f17b4" id="r_afc27bf5125a095c45fbd9ff9120f17b4"><td class="memItemLeft" align="right" valign="top"><a id="afc27bf5125a095c45fbd9ff9120f17b4" name="afc27bf5125a095c45fbd9ff9120f17b4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$last_type</b></td></tr>
<tr class="memdesc:afc27bf5125a095c45fbd9ff9120f17b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last query type. <br /></td></tr>
<tr class="separator:afc27bf5125a095c45fbd9ff9120f17b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98b3aaf27e355265db1838e10b49d49b" id="r_a98b3aaf27e355265db1838e10b49d49b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classmoodle__database.html#a98b3aaf27e355265db1838e10b49d49b">$loggingquery</a> = false</td></tr>
<tr class="memdesc:a98b3aaf27e355265db1838e10b49d49b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating logging of query in progress.  <br /></td></tr>
<tr class="separator:a98b3aaf27e355265db1838e10b49d49b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7072a30d714c852b07ee839f2c7521" id="r_aca7072a30d714c852b07ee839f2c7521"><td class="memItemLeft" align="right" valign="top"><a id="aca7072a30d714c852b07ee839f2c7521" name="aca7072a30d714c852b07ee839f2c7521"></a>
cache_application&#160;</td><td class="memItemRight" valign="bottom"><b>$metacache</b></td></tr>
<tr class="memdesc:aca7072a30d714c852b07ee839f2c7521"><td class="mdescLeft">&#160;</td><td class="mdescRight">for column info <br /></td></tr>
<tr class="separator:aca7072a30d714c852b07ee839f2c7521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a367eaf5cad8acda505530eccaa0703d8" id="r_a367eaf5cad8acda505530eccaa0703d8"><td class="memItemLeft" align="right" valign="top"><a id="a367eaf5cad8acda505530eccaa0703d8" name="a367eaf5cad8acda505530eccaa0703d8"></a>
cache_application cache_session cache_store&#160;</td><td class="memItemRight" valign="bottom"><b>$metacachetemp</b></td></tr>
<tr class="memdesc:a367eaf5cad8acda505530eccaa0703d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">for column info on temp tables <br /></td></tr>
<tr class="separator:a367eaf5cad8acda505530eccaa0703d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be57f4f91356801ae104e73b73d6ca0" id="r_a1be57f4f91356801ae104e73b73d6ca0"><td class="memItemLeft" align="right" valign="top"><a id="a1be57f4f91356801ae104e73b73d6ca0" name="a1be57f4f91356801ae104e73b73d6ca0"></a>
mysqli&#160;</td><td class="memItemRight" valign="bottom"><b>$mysqli</b> = null</td></tr>
<tr class="memdesc:a1be57f4f91356801ae104e73b73d6ca0"><td class="mdescLeft">&#160;</td><td class="mdescRight">$mysqli <br /></td></tr>
<tr class="separator:a1be57f4f91356801ae104e73b73d6ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1ef136d2cb6f7770cb717d4908a31f7" id="r_ad1ef136d2cb6f7770cb717d4908a31f7"><td class="memItemLeft" align="right" valign="top"><a id="ad1ef136d2cb6f7770cb717d4908a31f7" name="ad1ef136d2cb6f7770cb717d4908a31f7"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$prefix</b></td></tr>
<tr class="memdesc:ad1ef136d2cb6f7770cb717d4908a31f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prefix added to table names. <br /></td></tr>
<tr class="separator:ad1ef136d2cb6f7770cb717d4908a31f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4cd7d4b152a949e1da6b92ca8b60b67" id="r_aa4cd7d4b152a949e1da6b92ca8b60b67"><td class="memItemLeft" align="right" valign="top"><a id="aa4cd7d4b152a949e1da6b92ca8b60b67" name="aa4cd7d4b152a949e1da6b92ca8b60b67"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>$queriestime</b> = 0</td></tr>
<tr class="memdesc:aa4cd7d4b152a949e1da6b92ca8b60b67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time queries took to finish, seconds with microseconds. <br /></td></tr>
<tr class="separator:aa4cd7d4b152a949e1da6b92ca8b60b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c4e84bde70fcce41f52a84dbc7f0001" id="r_a3c4e84bde70fcce41f52a84dbc7f0001"><td class="memItemLeft" align="right" valign="top"><a id="a3c4e84bde70fcce41f52a84dbc7f0001" name="a3c4e84bde70fcce41f52a84dbc7f0001"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$reads</b> = 0</td></tr>
<tr class="memdesc:a3c4e84bde70fcce41f52a84dbc7f0001"><td class="mdescLeft">&#160;</td><td class="mdescRight">The database reads (performance counter). <br /></td></tr>
<tr class="separator:a3c4e84bde70fcce41f52a84dbc7f0001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af688bcbfe689c0406b7601833c2b42cb" id="r_af688bcbfe689c0406b7601833c2b42cb"><td class="memItemLeft" align="right" valign="top"><a id="af688bcbfe689c0406b7601833c2b42cb" name="af688bcbfe689c0406b7601833c2b42cb"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$serverversion</b> = null</td></tr>
<tr class="memdesc:af688bcbfe689c0406b7601833c2b42cb"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> server actual version. <br /></td></tr>
<tr class="separator:af688bcbfe689c0406b7601833c2b42cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05ef6253ee6c835f293daf39e66d32ac" id="r_a05ef6253ee6c835f293daf39e66d32ac"><td class="memItemLeft" align="right" valign="top"><a id="a05ef6253ee6c835f293daf39e66d32ac" name="a05ef6253ee6c835f293daf39e66d32ac"></a>
boolean&#160;</td><td class="memItemRight" valign="bottom"><b>$skiplogging</b> = false</td></tr>
<tr class="memdesc:a05ef6253ee6c835f293daf39e66d32ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">variable use to temporarily disable logging. <br /></td></tr>
<tr class="separator:a05ef6253ee6c835f293daf39e66d32ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5118bd480f75339b2c4915095fd30c6" id="r_af5118bd480f75339b2c4915095fd30c6"><td class="memItemLeft" align="right" valign="top"><a id="af5118bd480f75339b2c4915095fd30c6" name="af5118bd480f75339b2c4915095fd30c6"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$tables</b> = null</td></tr>
<tr class="memdesc:af5118bd480f75339b2c4915095fd30c6"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../dc/d67/class_cache.html" title="Used to create cache objects.">Cache</a> of table info. <br /></td></tr>
<tr class="separator:af5118bd480f75339b2c4915095fd30c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2052ace7088bc2445906134247d4a57" id="r_ab2052ace7088bc2445906134247d4a57"><td class="memItemLeft" align="right" valign="top"><a id="ab2052ace7088bc2445906134247d4a57" name="ab2052ace7088bc2445906134247d4a57"></a>
<a class="el" href="../../d3/d68/classmoodle__temptables.html">moodle_temptables</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$temptables</b></td></tr>
<tr class="memdesc:ab2052ace7088bc2445906134247d4a57"><td class="mdescLeft">&#160;</td><td class="mdescRight">temptables manager to provide cross-db support for temp tables. <br /></td></tr>
<tr class="separator:ab2052ace7088bc2445906134247d4a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a619f8ea23d0850cadd8f8bec6ea563" id="r_a6a619f8ea23d0850cadd8f8bec6ea563"><td class="memItemLeft" align="right" valign="top"><a id="a6a619f8ea23d0850cadd8f8bec6ea563" name="a6a619f8ea23d0850cadd8f8bec6ea563"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$transactions</b> = array()</td></tr>
<tr class="memdesc:a6a619f8ea23d0850cadd8f8bec6ea563"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array containing open transactions. <br /></td></tr>
<tr class="separator:a6a619f8ea23d0850cadd8f8bec6ea563"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70e23ca84e80675c166c8891951b4b8a" id="r_a70e23ca84e80675c166c8891951b4b8a"><td class="memItemLeft" align="right" valign="top"><a id="a70e23ca84e80675c166c8891951b4b8a" name="a70e23ca84e80675c166c8891951b4b8a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>$used_for_db_sessions</b> = false</td></tr>
<tr class="memdesc:a70e23ca84e80675c166c8891951b4b8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if the db is used for db sessions. <br /></td></tr>
<tr class="separator:a70e23ca84e80675c166c8891951b4b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023e454cebf2120b9854742e0333a482" id="r_a023e454cebf2120b9854742e0333a482"><td class="memItemLeft" align="right" valign="top"><a id="a023e454cebf2120b9854742e0333a482" name="a023e454cebf2120b9854742e0333a482"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$writes</b> = 0</td></tr>
<tr class="memdesc:a023e454cebf2120b9854742e0333a482"><td class="mdescLeft">&#160;</td><td class="mdescRight">The database writes (performance counter). <br /></td></tr>
<tr class="separator:a023e454cebf2120b9854742e0333a482"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Native MariaDB class representing moodle database interface. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2013 Petr Skoda <a href="http://skodak.org" class="el externalurl"></a> </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a0068ad25e4eef063fc699f424f341b90" name="a0068ad25e4eef063fc699f424f341b90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0068ad25e4eef063fc699f424f341b90">&#9670;&#160;</a></span>add_sql_debugging()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::add_sql_debugging </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$sql</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add an SQL comment to trace all sql calls back to the calling php code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>Original sql </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>Instrumented sql </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a848afca37b5936ce62935500c58ea4b4" name="a848afca37b5936ce62935500c58ea4b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a848afca37b5936ce62935500c58ea4b4">&#9670;&#160;</a></span>allowed_param_types()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::allowed_param_types </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns supported query parameter types. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>bitmask of accepted SQL_PARAMS_* </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a2ee7f4ce261d4a9c11d397a15c0617c2">moodle_database</a>.</p>

</div>
</div>
<a id="ab14100448a68e5ba14f5ec3abe9424e3" name="ab14100448a68e5ba14f5ec3abe9424e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab14100448a68e5ba14f5ec3abe9424e3">&#9670;&#160;</a></span>begin_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::begin_transaction </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Driver specific start of real database transaction, this can not be used directly in code. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a7f27f857a66eeb0cb2224dc3be1e5c59">moodle_database</a>.</p>

</div>
</div>
<a id="aa7ded79d2d38394c081e1e8589627fca" name="aa7ded79d2d38394c081e1e8589627fca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7ded79d2d38394c081e1e8589627fca">&#9670;&#160;</a></span>can_use_readonly()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::can_use_readonly </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if The query qualifies for readonly connection execution Logging queries are exempt, those are write operations that circumvent standard query_start/query_end paths. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$type</td><td>type of query </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a61fb83862bcdf7567e8d90d75ed3fa12" name="a61fb83862bcdf7567e8d90d75ed3fa12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61fb83862bcdf7567e8d90d75ed3fa12">&#9670;&#160;</a></span>change_database_structure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::change_database_structure </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablenames</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do NOT use in code, to be used by <a class="el" href="../../de/dd9/classdatabase__manager.html" title="Database manager instance is responsible for all database structure modifications.">database_manager</a> only! </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$sql</td><td>query </td></tr>
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$tablenames</td><td>an array of xmldb table names affected by this request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d6/df8/classddl__change__structure__exception.html" title="Error during changing db structure.">ddl_change_structure_exception</a></td><td>A DDL specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#ab11c54399233e896deb8f8f5a1c0ecbb">moodle_database</a>.</p>

</div>
</div>
<a id="a18bbc9d1781daebdbe45b9538f0c526d" name="a18bbc9d1781daebdbe45b9538f0c526d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18bbc9d1781daebdbe45b9538f0c526d">&#9670;&#160;</a></span>change_db_encoding()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::change_db_encoding </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempts to change db encoding to UTF-8 encoding if possible. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True is successful. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a25e59ae54a4848de4af3034a4a0e5318" name="a25e59ae54a4848de4af3034a4a0e5318"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25e59ae54a4848de4af3034a4a0e5318">&#9670;&#160;</a></span>commit_delegated_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::commit_delegated_transaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/db9/classmoodle__transaction.html">moodle_transaction</a></td>          <td class="paramname"><span class="paramname"><em>$transaction</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates delegated transaction finished successfully. </p>
<p>The real database transaction is committed only if all delegated transactions committed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d8/db9/classmoodle__transaction.html" title="Delegated transaction class.">moodle_transaction</a></td><td class="paramname">$transaction</td><td>The transaction to commit </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d2/d42/classdml__transaction__exception.html" title="DML transaction exception - triggered by problems related to DB transactions.">dml_transaction_exception</a></td><td>Creates and throws transaction related exceptions. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4e14943c5979d920b457320f19c5c8ab" name="a4e14943c5979d920b457320f19c5c8ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e14943c5979d920b457320f19c5c8ab">&#9670;&#160;</a></span>commit_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::commit_transaction </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Driver specific commit of real database transaction, this can not be used directly in code. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a27ec0942c440d007297bd06f1aa064a7">moodle_database</a>.</p>

</div>
</div>
<a id="a76f184b06a2c39fa93a89926d9777a54" name="a76f184b06a2c39fa93a89926d9777a54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76f184b06a2c39fa93a89926d9777a54">&#9670;&#160;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::connect </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbhost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbuser</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbpass</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$prefix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$dboptions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel abstract">abstract</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connects to the database. </p>
<p>Must be called before other methods. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$dbhost</td><td>The database host. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbuser</td><td>The database user to connect as. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbpass</td><td>The password to use when connecting to the database. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbname</td><td>The name of the database being connected to. </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$prefix</td><td>string means moodle db prefix, false used for external databases where prefix not used </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$dboptions</td><td>driver specific options </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d8d/classdml__connection__exception.html" title="DML db connection exception - triggered if database not accessible.">dml_connection_exception</a></td><td>if error </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../db/dc8/classpdo__moodle__database.html#ad156ad200af39e06823449953b9eb31c">pdo_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a4cccfe4fae1594dea4cf741dae0e0443">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="ad9604078b7f16fa06d98bc6d62d3ef58" name="ad9604078b7f16fa06d98bc6d62d3ef58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9604078b7f16fa06d98bc6d62d3ef58">&#9670;&#160;</a></span>convert_table_row_format()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::convert_table_row_format </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts a table to either 'Compressed' or 'Dynamic' row format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$tablename</td><td>Name of the table to convert to the new row format. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a64a301c23a6a401a632d5268bc744e47" name="a64a301c23a6a401a632d5268bc744e47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64a301c23a6a401a632d5268bc744e47">&#9670;&#160;</a></span>count_records()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::count_records </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Count the records in a table where all the given conditions met. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The table to query. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>The count of records returned from the specified criteria. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad206dce9472f9ddad66bf5ba6f665466" name="ad206dce9472f9ddad66bf5ba6f665466"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad206dce9472f9ddad66bf5ba6f665466">&#9670;&#160;</a></span>count_records_select()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::count_records_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$countitem</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;COUNT('x')&quot;</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Count the records in a table which match a particular WHERE clause. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a WHERE clause in the SQL call. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$countitem</td><td>The count string to be used in the SQL call. Default is COUNT('x'). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>The count of records returned from the specified criteria. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0dbd8ba441ad1cf235fbf571fa05e91c" name="a0dbd8ba441ad1cf235fbf571fa05e91c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dbd8ba441ad1cf235fbf571fa05e91c">&#9670;&#160;</a></span>count_records_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::count_records_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the result of a SQL SELECT COUNT(...) query. </p>
<p>Given a query that counts rows, return that count. (In fact, given any query, return the first field of the first record returned. However, this method should only be used for the intended purpose.) If an error occurs, 0 is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The SQL string you wish to be executed. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the count </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af1c58c78b7942929482e50d0b408ad41" name="af1c58c78b7942929482e50d0b408ad41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1c58c78b7942929482e50d0b408ad41">&#9670;&#160;</a></span>create_database()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::create_database </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbhost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbuser</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbpass</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$dboptions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempt to create the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$dbhost</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbuser</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbpass</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbname</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>success </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#abc014f3570a0110315d421a6cfd481e9">moodle_database</a>.</p>

</div>
</div>
<a id="af3d1f81d28ecd4ed389a64c52a421ee5" name="af3d1f81d28ecd4ed389a64c52a421ee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3d1f81d28ecd4ed389a64c52a421ee5">&#9670;&#160;</a></span>delete_records()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::delete_records </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete the records from a table where all the given conditions met. </p>
<p>If conditions not specified, table is truncated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to delete from. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1dea99d3ae3c3678253827e405842904" name="a1dea99d3ae3c3678253827e405842904"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dea99d3ae3c3678253827e405842904">&#9670;&#160;</a></span>delete_records_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::delete_records_list </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$values</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete the records from a table where one field match one list of values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to delete from. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td>The field to search </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$values</td><td>array of values </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a72e37df0781f0d1f0d18fe454db39bb0" name="a72e37df0781f0d1f0d18fe454db39bb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72e37df0781f0d1f0d18fe454db39bb0">&#9670;&#160;</a></span>delete_records_select()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::delete_records_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete one or more records from a table which match a particular WHERE clause. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a where clause in the SQL call (used to define the selection criteria). </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a812097c0c2ab4ee214930f1885422d79">moodle_database</a>.</p>

</div>
</div>
<a id="a5d33790de4d76a66ad8e0784f56c804b" name="a5d33790de4d76a66ad8e0784f56c804b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d33790de4d76a66ad8e0784f56c804b">&#9670;&#160;</a></span>delete_records_subquery()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::delete_records_subquery </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$field</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$alias</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$subquery</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes records using a subquery, which is done with a strange DELETE...JOIN syntax in <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> because it performs very badly with normal subqueries. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>Table to delete from </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td>Field in table to match </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$alias</td><td>Name of single column in subquery e.g. 'id' </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$subquery</td><td>Query that will return values of the field to delete </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>Parameters for query </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>If there is any error </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a8122a7e53b7a94353af65ee06ddd4602">moodle_database</a>.</p>

</div>
</div>
<a id="a110ef84973d48ab49c3f9847dd3d3650" name="a110ef84973d48ab49c3f9847dd3d3650"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a110ef84973d48ab49c3f9847dd3d3650">&#9670;&#160;</a></span>detect_objects()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::detect_objects </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$value</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Detects object parameters and throws exception if found. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">coding_exception</td><td>if object detected </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3bb8d693d664321e8ac1193d570053c7" name="a3bb8d693d664321e8ac1193d570053c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bb8d693d664321e8ac1193d570053c7">&#9670;&#160;</a></span>diagnose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::diagnose </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Diagnose database and tables, this function is used to verify database and driver settings, db engine types, etc. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>null means everything ok, string means problem found. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a366023424ee0a9518f1e547c4548c6bb">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="ac92bb6f451540a1cc2234615336e92f6" name="ac92bb6f451540a1cc2234615336e92f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac92bb6f451540a1cc2234615336e92f6">&#9670;&#160;</a></span>dispose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::dispose </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close database connection and release all resources and memory (especially circular memory references). </p>
<p>Do NOT use <a class="el" href="../../d3/d6e/classmoodle__database.html#a76f184b06a2c39fa93a89926d9777a54" title="Connects to the database.">connect()</a> again, create a new instance if needed. </p>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#adc7496e5668a81d0aac9a2e6673cbc5d">moodle_database</a>.</p>

</div>
</div>
<a id="afb8e27179facb33745d1b992b946d824" name="afb8e27179facb33745d1b992b946d824"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb8e27179facb33745d1b992b946d824">&#9670;&#160;</a></span>driver_installed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::driver_installed </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Detects if all needed PHP stuff installed. </p>
<p>Note: can be used before <a class="el" href="../../d3/d6e/classmoodle__database.html#a76f184b06a2c39fa93a89926d9777a54" title="Connects to the database.">connect()</a> </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>true if ok, string if something </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#aaced0d6405f8be443c2db9a7e29d8709">moodle_database</a>.</p>

</div>
</div>
<a id="ac83fbdb91b87cff1f4f5c2209f768ddb" name="ac83fbdb91b87cff1f4f5c2209f768ddb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac83fbdb91b87cff1f4f5c2209f768ddb">&#9670;&#160;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::execute </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute general sql query. </p>
<p>Should be used only when no other method suitable. Do NOT use this to make changes in db structure, use <a class="el" href="../../de/dd9/classdatabase__manager.html" title="Database manager instance is responsible for all database structure modifications.">database_manager</a> methods instead! </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>query </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>query parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a47ba4950a154729fb4512b95a7de39fa">moodle_database</a>.</p>

</div>
</div>
<a id="a8a1569ea398dbc1e4192ed6158953091" name="a8a1569ea398dbc1e4192ed6158953091"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a1569ea398dbc1e4192ed6158953091">&#9670;&#160;</a></span>export_dbconfig()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::export_dbconfig </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the db related part of config.php. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a325dc7c1beef18ffdb9d0bcb732c2ad1" name="a325dc7c1beef18ffdb9d0bcb732c2ad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a325dc7c1beef18ffdb9d0bcb732c2ad1">&#9670;&#160;</a></span>export_table_recordset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::export_table_recordset </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get all records from a table. </p>
<p>This method works around potential memory problems and may improve performance, this method may block access to table until the recordset is closed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>Name of database table. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a></td><td>A <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> instance <a class="el" href="">functionget_recordset</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a31f60c69f30e971d083b6d96cbd9f8fb">moodle_database</a>.</p>

</div>
</div>
<a id="a8da74f7da3e614b34bd2c1f42e32e3fb" name="a8da74f7da3e614b34bd2c1f42e32e3fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8da74f7da3e614b34bd2c1f42e32e3fb">&#9670;&#160;</a></span>fetch_columns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::fetch_columns </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$table</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches detailed information about columns in table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>name </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">database_column_info[]</td><td>array of <a class="el" href="../../d8/d41/classdatabase__column__info.html">database_column_info</a> objects indexed with column names </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a75bb7b3490f7c0a2d531dc345ee8d58e">moodle_database</a>.</p>

</div>
</div>
<a id="aebd64178d04c5620fe1e163eaf86fc59" name="aebd64178d04c5620fe1e163eaf86fc59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebd64178d04c5620fe1e163eaf86fc59">&#9670;&#160;</a></span>fix_sql_params()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::fix_sql_params </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Normalizes sql query parameters and verifies parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The query or part of it. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>The query parameters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>(sql, params, type of params) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5e182d715619f9aa2daf2d8407bff38b" name="a5e182d715619f9aa2daf2d8407bff38b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e182d715619f9aa2daf2d8407bff38b">&#9670;&#160;</a></span>fix_table_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::fix_table_name </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fixes any table names that clash with reserved words. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$tablename</td><td>The table name </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The fixed table name </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a487eab5aa7b0cef210fcbcd9d175a4ab">moodle_database</a>.</p>

</div>
</div>
<a id="a926b0db9c78637448947a0482414dd7a" name="a926b0db9c78637448947a0482414dd7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a926b0db9c78637448947a0482414dd7a">&#9670;&#160;</a></span>fix_table_names()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::fix_table_names </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts short table name {tablename} to the real prefixed table name in given sql. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The sql to be operated on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The sql with tablenames being prefixed with $CFG-&gt;prefix </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a7d20f1877160a2f9c270c9880b17e49e">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="adec2649775405235f1598ebe060a0cc2" name="adec2649775405235f1598ebe060a0cc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adec2649775405235f1598ebe060a0cc2">&#9670;&#160;</a></span>force_transaction_rollback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::force_transaction_rollback </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Force rollback of all delegated transaction. </p>
<p>Does not throw any exceptions and does not log anything.</p>
<p>This method should be used only from default exception handlers and other core code.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7501053d106ee0ac51255c770fda6fef" name="a7501053d106ee0ac51255c770fda6fef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7501053d106ee0ac51255c770fda6fef">&#9670;&#160;</a></span>get_columns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_columns </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$usecache</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns detailed information about columns in table. </p>
<p>This information is cached internally.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The table's name. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$usecache</td><td>Flag to use internal cacheing. The default is true. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">database_column_info[]</td><td>of <a class="el" href="../../d8/d41/classdatabase__column__info.html">database_column_info</a> objects indexed with column names </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abbafbf58c4851cb085a949718d7bd055" name="abbafbf58c4851cb085a949718d7bd055"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbafbf58c4851cb085a949718d7bd055">&#9670;&#160;</a></span>get_configuration_help()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mariadb_native_moodle_database::get_configuration_help </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns localised database configuration help. </p>
<p>Note: can be used before <a class="el" href="../../d3/d6e/classmoodle__database.html#a76f184b06a2c39fa93a89926d9777a54" title="Connects to the database.">connect()</a> </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a3ec4cc75ec0bec07c6f77a63d0bf31ae">mysqli_native_moodle_database</a>.</p>

</div>
</div>
<a id="a58c5bbf6e20fc45b50018c37a6e52874" name="a58c5bbf6e20fc45b50018c37a6e52874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58c5bbf6e20fc45b50018c37a6e52874">&#9670;&#160;</a></span>get_configuration_hints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_configuration_hints </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the localised database description Note: can be used before <a class="el" href="../../d3/d6e/classmoodle__database.html#a76f184b06a2c39fa93a89926d9777a54" title="Connects to the database.">connect()</a> </p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000294">Deprecated</a></b></dt><dd>since 2.6 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a01d209c23d2000949014b76966db19b9" name="a01d209c23d2000949014b76966db19b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01d209c23d2000949014b76966db19b9">&#9670;&#160;</a></span>get_counted_records_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_counted_records_sql </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$fullcountcolumn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve records with a select query and count the total number of records. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The query string. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fullcountcolumn</td><td>The column name used for counting total records. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>(Optional) Sorting criteria for the records. The reason to separate $sort from $sql are:<ol type="1">
<li>The $sort needs to be placed outside the full count subquery in order to function properly in MariaDB.</li>
<li>For unsupported databases, it is not allowed to run a query to get the total with the $sort. Please refer to the {</li>
</ol>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>generate_fullcount_sql()} for details. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$params</td><td>(Optional) Parameters to bind with the query. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>(Optional) Offset for pagination. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>(Optional) Limit for pagination. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Fetched records. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0d164cc184a79209b75aaea639bd32d5" name="a0d164cc184a79209b75aaea639bd32d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d164cc184a79209b75aaea639bd32d5">&#9670;&#160;</a></span>get_counted_recordset_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_counted_recordset_sql </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$fullcountcolumn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve a recordset with a select query and count the total number of records. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The query string. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fullcountcolumn</td><td>The column name used for counting total records. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>(Optional) Sorting criteria for the records. The reason to separate $sort from $sql are:<ol type="1">
<li>The $sort needs to be placed outside the full count subquery in order to function properly in MariaDB.</li>
<li>For unsupported databases, it is not allowed to run a query to get the total with the $sort. Please refer to the {</li>
</ol>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>generate_fullcount_sql()} for details. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$params</td><td>(Optional) Parameters to bind with the query. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>(Optional) Offset for pagination. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>(Optional) Limit for pagination. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a></td><td>A <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> instance.. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae49ca20683295ec332aeb68f2869465f" name="ae49ca20683295ec332aeb68f2869465f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae49ca20683295ec332aeb68f2869465f">&#9670;&#160;</a></span>get_db_handle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::get_db_handle </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets db handle currently used with queries. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">resource</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5b820d2a296ee74e094378305e632af8" name="a5b820d2a296ee74e094378305e632af8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b820d2a296ee74e094378305e632af8">&#9670;&#160;</a></span>get_dbcollation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::get_dbcollation </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the current <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> db collation. </p>
<p>This is an ugly workaround for <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> default collation problems.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>or null <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> collation name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3de34e60d54e05d423868d0a8dd03e29" name="a3de34e60d54e05d423868d0a8dd03e29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3de34e60d54e05d423868d0a8dd03e29">&#9670;&#160;</a></span>get_dbengine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::get_dbengine </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the current <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> db engine. </p>
<p>This is an ugly workaround for <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> default engine problems, <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> is designed to work best on ACID compliant databases with full transaction support. Do not use MyISAM.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>or null <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> engine name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="add015da35b5f796f76421ab262a4e218" name="add015da35b5f796f76421ab262a4e218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add015da35b5f796f76421ab262a4e218">&#9670;&#160;</a></span>get_dbfamily()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::get_dbfamily </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns database family type - describes SQL dialect Note: can be used before <a class="el" href="../../d3/d6e/classmoodle__database.html#a76f184b06a2c39fa93a89926d9777a54" title="Connects to the database.">connect()</a> </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>db family name (mysql, postgres, mssql, etc.) </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a3c518b7bf3b5c0ab61b97701d19955a1">moodle_database</a>.</p>

</div>
</div>
<a id="a2de099ddb87290727787ed750a4e49d8" name="a2de099ddb87290727787ed750a4e49d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2de099ddb87290727787ed750a4e49d8">&#9670;&#160;</a></span>get_dblibrary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::get_dblibrary </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns general database library name Note: can be used before <a class="el" href="../../d3/d6e/classmoodle__database.html#a76f184b06a2c39fa93a89926d9777a54" title="Connects to the database.">connect()</a> </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>db type pdo, native </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a2c02b88e1afcb430bb0255abf79ed9c2">moodle_database</a>.</p>

</div>
</div>
<a id="afbcd4c7e386394b3c64122c57d552bc6" name="afbcd4c7e386394b3c64122c57d552bc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbcd4c7e386394b3c64122c57d552bc6">&#9670;&#160;</a></span>get_dbtype()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mariadb_native_moodle_database::get_dbtype </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns more specific database driver type Note: can be used before <a class="el" href="../../d3/d6e/classmoodle__database.html#a76f184b06a2c39fa93a89926d9777a54" title="Connects to the database.">connect()</a> </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>db type mysqli, pgsql, mssql, sqlsrv </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a267dca8ae8842625ebdc4535de284b61">mysqli_native_moodle_database</a>.</p>

</div>
</div>
<a id="ab27c073c97ab5375765dc699a1db8e5f" name="ab27c073c97ab5375765dc699a1db8e5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab27c073c97ab5375765dc699a1db8e5f">&#9670;&#160;</a></span>get_dbvendor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mariadb_native_moodle_database::get_dbvendor </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the database vendor. </p>
<p>Note: can be used before <a class="el" href="../../d3/d6e/classmoodle__database.html#a76f184b06a2c39fa93a89926d9777a54" title="Connects to the database.">connect()</a> </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The db vendor name, usually the same as db family name. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a4f413dfbddd57bbf4386cf13465e8022">moodle_database</a>.</p>

</div>
</div>
<a id="ab33f7a446c4e743e8ea6b5fabf9d6a98" name="ab33f7a446c4e743e8ea6b5fabf9d6a98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab33f7a446c4e743e8ea6b5fabf9d6a98">&#9670;&#160;</a></span>get_debug()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_debug </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns debug status. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool#$state</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c73988370f8a4433b6cf8d7bbf8752f" name="a0c73988370f8a4433b6cf8d7bbf8752f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c73988370f8a4433b6cf8d7bbf8752f">&#9670;&#160;</a></span>get_driver_instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static moodle_database::get_driver_instance </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$library</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$external</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads and returns a database instance with the specified type and library. </p>
<p>The loaded class is within lib/dml directory and of the form: $type.'_'.$library.'_moodle_database'</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td>Database driver's type. (eg: mysqli, pgsql, mssql, sqldrv, etc.) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$library</td><td>Database driver's library (native, pdo, etc.) </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$external</td><td>True if this is an external database. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">?moodle_database</td><td>driver object or null if error, for example of driver object see {</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html" title="Native mysqli class representing moodle database interface.">mysqli_native_moodle_database</a>} </dd></dl>

</div>
</div>
<a id="ae298e05d4f80aa7952df399adc9252ff" name="ae298e05d4f80aa7952df399adc9252ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae298e05d4f80aa7952df399adc9252ff">&#9670;&#160;</a></span>get_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_field </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$return</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$strictness</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a single field value from a table record where all the given conditions met. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$return</td><td>the field to return the value of. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td>IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found; IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended); MUST_EXIST means throw exception if no record or multiple records found </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>the specified value false if not found </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a61efd58e9205d13b7dffb8d1612558c4" name="a61efd58e9205d13b7dffb8d1612558c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61efd58e9205d13b7dffb8d1612558c4">&#9670;&#160;</a></span>get_field_select()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_field_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$return</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$strictness</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a single field value from a table record which match a particular WHERE clause. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$return</td><td>the field to return the value of. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a where clause returning one row with one column </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td>IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found; IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended); MUST_EXIST means throw exception if no record or multiple records found </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>the specified value false if not found </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a86ffc39b76a6df0e899a880bfc187f2c" name="a86ffc39b76a6df0e899a880bfc187f2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86ffc39b76a6df0e899a880bfc187f2c">&#9670;&#160;</a></span>get_field_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_field_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$strictness</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a single field value (first field) using a SQL statement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The SQL query returning one row with one column </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td>IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found; IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended); MUST_EXIST means throw exception if no record or multiple records found </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>the specified value false if not found </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a67e401e2ead09ea810af3b42c7932437" name="a67e401e2ead09ea810af3b42c7932437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67e401e2ead09ea810af3b42c7932437">&#9670;&#160;</a></span>get_fieldset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_fieldset </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$return</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Selects records and return values of chosen field as an array where all the given conditions met. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$return</td><td>the field we are intered in </td></tr>
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of values </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abf87197c6dcb4d8ebad1384e38579645" name="abf87197c6dcb4d8ebad1384e38579645"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf87197c6dcb4d8ebad1384e38579645">&#9670;&#160;</a></span>get_fieldset_select()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_fieldset_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$return</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Selects records and return values of chosen field as an array which match a particular WHERE clause. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$return</td><td>the field we are intered in </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a where clause in the SQL call. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of values </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a40ac8359b58a17ba73328675bf26e723" name="a40ac8359b58a17ba73328675bf26e723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40ac8359b58a17ba73328675bf26e723">&#9670;&#160;</a></span>get_fieldset_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::get_fieldset_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Selects records and return values (first field) as an array using a SQL statement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The SQL query </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of values </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#af49e08d8a05499b59dcc3fac7c70b1c9">moodle_database</a>.</p>

</div>
</div>
<a id="a9ad3b5ff05207f773cc49352b79740e0" name="a9ad3b5ff05207f773cc49352b79740e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ad3b5ff05207f773cc49352b79740e0">&#9670;&#160;</a></span>get_in_or_equal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_in_or_equal </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$items</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$type</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d5/db5/group__core__dml.html#ga186c96032edcc8cb593687f7f7d55a1b">SQL_PARAMS_QM</a></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$prefix</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'param'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$equal</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$onemptyitems</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs 'IN()' or '=' sql fragment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$items</td><td>A single value or array of values for the expression. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$type</td><td>Parameter bounding type : SQL_PARAMS_QM or SQL_PARAMS_NAMED. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$prefix</td><td>Named parameter placeholder prefix (a unique counter value is appended to each parameter name). </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$equal</td><td>True means we want to equate to the constructed expression, false means we don't want to equate to it. </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$onemptyitems</td><td>This defines the behavior when the array of items provided is empty. Defaults to false, meaning throw exceptions. Other values will become part of the returned SQL fragment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">coding_exception</td><td>| <a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>A list containing the constructed sql fragment and an array of parameters. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a091825a97f99d077fcbe5255bcbb0d23">pgsql_native_moodle_database</a>.</p>

</div>
</div>
<a id="a451ebc43876d1eb3f87225d0b8b03947" name="a451ebc43876d1eb3f87225d0b8b03947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a451ebc43876d1eb3f87225d0b8b03947">&#9670;&#160;</a></span>get_indexes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::get_indexes </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return table indexes - everything lowercased. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The table we want to get indexes from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An associative array of indexes containing 'unique' flag and 'columns' being indexed </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a26ca1166e47a84a988811fcbeeeffeb0">moodle_database</a>.</p>

</div>
</div>
<a id="ae819b0c2bbd35ad0fbe94de58fef92b3" name="ae819b0c2bbd35ad0fbe94de58fef92b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae819b0c2bbd35ad0fbe94de58fef92b3">&#9670;&#160;</a></span>get_last_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::get_last_error </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns last error reported by database engine. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>error message </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#aa6cafef5d9db5b720a66d68d057a8d3c">moodle_database</a>.</p>

</div>
</div>
<a id="ad1af2a2944bfff134c250e9b7dc9b50a" name="ad1af2a2944bfff134c250e9b7dc9b50a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1af2a2944bfff134c250e9b7dc9b50a">&#9670;&#160;</a></span>get_manager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_manager </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the sql generator used for db manipulation. </p>
<p>Used mostly in upgrade.php scripts. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../de/dd9/classdatabase__manager.html" title="Database manager instance is responsible for all database structure modifications.">database_manager</a></td><td>The instance used to perform ddl operations. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>lib/ddl/database_manager.php </dd></dl>

</div>
</div>
<a id="ac30d3f55af00560ad154cbf7341f2750" name="ac30d3f55af00560ad154cbf7341f2750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac30d3f55af00560ad154cbf7341f2750">&#9670;&#160;</a></span>get_metacache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_metacache </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle the creation and caching of the databasemeta information for all databases. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">cache_application</td><td>The databasemeta cachestore to complete operations on. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a187dfcca88e69fbf613afdb20accaf70" name="a187dfcca88e69fbf613afdb20accaf70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a187dfcca88e69fbf613afdb20accaf70">&#9670;&#160;</a></span>get_mysqli_server_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::get_mysqli_server_info </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the version of the <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> server, as reported by the PHP client connection. </p>
<p>Wrap $this-&gt;mysqli-&gt;server_info to improve testing strategy.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>A string representing the version of the <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> server that the MySQLi extension is connected to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaf498c10ddbe7862f79226933cacebec" name="aaf498c10ddbe7862f79226933cacebec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf498c10ddbe7862f79226933cacebec">&#9670;&#160;</a></span>get_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mariadb_native_moodle_database::get_name </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns localised database type name Note: can be used before <a class="el" href="../../d3/d6e/classmoodle__database.html#a76f184b06a2c39fa93a89926d9777a54" title="Connects to the database.">connect()</a> </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#ad0e068f190a016d55d923a5d9cea6f0f">mysqli_native_moodle_database</a>.</p>

</div>
</div>
<a id="a8314cb807e9a59a9e3d6ec11f04bb4cf" name="a8314cb807e9a59a9e3d6ec11f04bb4cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8314cb807e9a59a9e3d6ec11f04bb4cf">&#9670;&#160;</a></span>get_prefix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_prefix </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns database table prefix Note: can be used before <a class="el" href="../../d3/d6e/classmoodle__database.html#a76f184b06a2c39fa93a89926d9777a54" title="Connects to the database.">connect()</a> </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The prefix used in the database. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0264e381dc950fac100b14a3f67cff8a" name="a0264e381dc950fac100b14a3f67cff8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0264e381dc950fac100b14a3f67cff8a">&#9670;&#160;</a></span>get_record()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_record </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$strictness</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a single database record as an object where all the given conditions met. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The table to select from. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>A comma separated list of fields to be returned from the chosen table. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td>IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found; IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended); MUST_EXIST means we will throw an exception if no record or multiple records found.</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000133">Todo</a></b></dt><dd><a href="https://tracker.moodle.org/browse/MDL-30407" class="el">MDL-30407</a> MUST_EXIST option should not throw a <a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a>, it should throw a different exception as it's a requested check. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>a fieldset object containing the first matching record, false or exception if error not found depending on mode </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a42ec3402be724ce5f2f731b3454c0504" name="a42ec3402be724ce5f2f731b3454c0504"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42ec3402be724ce5f2f731b3454c0504">&#9670;&#160;</a></span>get_record_select()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_record_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$strictness</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a single database record as an object which match a particular WHERE clause. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a where clause in the SQL call. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>A comma separated list of fields to be returned from the chosen table. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td>IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found; IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended); MUST_EXIST means throw exception if no record or multiple records found </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass|false</td><td>a fieldset object containing the first matching record, false or exception if error not found depending on mode </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a49e796ca1d8f309c957b7ec43fb1dc2a" name="a49e796ca1d8f309c957b7ec43fb1dc2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49e796ca1d8f309c957b7ec43fb1dc2a">&#9670;&#160;</a></span>get_record_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_record_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$strictness</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a single database record as an object using a SQL statement. </p>
<p>The SQL statement should normally only return one record. It is recommended to use <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a433229309e479ef1fd398ac6fe83322f" title="Get a number of records as an array of objects using a SQL statement.">get_records_sql()</a> if more matches possible!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The SQL string you wish to be executed, should normally only return one record. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td>IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found; IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended); MUST_EXIST means throw exception if no record or multiple records found </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>a fieldset object containing the first matching record, false or exception if error not found depending on mode </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4c69a059c3c3aef6ae083ef1fbdaed20" name="a4c69a059c3c3aef6ae083ef1fbdaed20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c69a059c3c3aef6ae083ef1fbdaed20">&#9670;&#160;</a></span>get_records()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_records </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a number of records as an array of objects where all the given conditions met. </p>
<p>If the query succeeds and returns at least one record, the return value is an array of objects, one object for each record found. The array key is the value from the first column of the result set. The object associated with that key has a member variable for each column of the results.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>an order to sort the results in (optional, a valid SQL ORDER BY parameter). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>a comma separated list of fields to return (optional, by default all fields are returned). The first field will be used as key for the array so must be a unique field such as 'id'. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records in total (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of Objects indexed by first column. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abf126d4aa56da71fd84cb77254de4106" name="abf126d4aa56da71fd84cb77254de4106"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf126d4aa56da71fd84cb77254de4106">&#9670;&#160;</a></span>get_records_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_records_list </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$values</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a number of records as an array of objects where one field match one list of values. </p>
<p>Return value is like <a class="el" href="">functionget_records</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td>The field to search </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$values</td><td>An array of values </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>Sort order (as valid SQL sort parameter) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>A comma separated list of fields to be returned from the chosen table. If specified, the first field should be a unique one such as 'id' since it will be used as a key in the associative array. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records in total (optional). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of objects indexed by first column </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa7d4d44f509f2fd325901accab10caa9" name="aa7d4d44f509f2fd325901accab10caa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7d4d44f509f2fd325901accab10caa9">&#9670;&#160;</a></span>get_records_menu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_records_menu </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the first two columns from a number of records as an associative array where all the given conditions met. </p>
<p>Arguments are like <a class="el" href="">functionget_recordset</a>.</p>
<p>If no errors occur the return value is an associative whose keys come from the first field of each record, and whose values are the corresponding second fields. False is returned if an error occurs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>an order to sort the results in (optional, a valid SQL ORDER BY parameter). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>a comma separated list of fields to return - the number of fields should be 2! </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>an associative array </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0e1223f0bd3e6923aa84ffada115270f" name="a0e1223f0bd3e6923aa84ffada115270f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e1223f0bd3e6923aa84ffada115270f">&#9670;&#160;</a></span>get_records_select()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_records_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a number of records as an array of objects which match a particular WHERE clause. </p>
<p>Return value is like <a class="el" href="">functionget_records</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The table to query. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a where clause in the SQL call. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>An array of sql parameters </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>An order to sort the results in (optional, a valid SQL ORDER BY parameter). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>A comma separated list of fields to return (optional, by default all fields are returned). The first field will be used as key for the array so must be a unique field such as 'id'. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records in total (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of objects indexed by first column </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad56c4886758273808afb84fd74289588" name="ad56c4886758273808afb84fd74289588"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad56c4886758273808afb84fd74289588">&#9670;&#160;</a></span>get_records_select_menu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_records_select_menu </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the first two columns from a number of records as an associative array which match a particular WHERE clause. </p>
<p>Arguments are like <a class="el" href="">functionget_recordset_select</a>. Return value is like <a class="el" href="">functionget_records_menu</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a where clause in the SQL call. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>Sort order (optional) - a valid SQL order parameter </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>A comma separated list of fields to be returned from the chosen table - the number of fields should be 2! </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>an associative array </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a433229309e479ef1fd398ac6fe83322f" name="a433229309e479ef1fd398ac6fe83322f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a433229309e479ef1fd398ac6fe83322f">&#9670;&#160;</a></span>get_records_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::get_records_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a number of records as an array of objects using a SQL statement. </p>
<p>Return value is like: </p><dl class="section see"><dt>See also</dt><dd>function <a class="el" href="../../d3/d6e/classmoodle__database.html#a4c69a059c3c3aef6ae083ef1fbdaed20" title="Get a number of records as an array of objects where all the given conditions met.">get_records</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>the SQL select query to execute. The first column of this SELECT statement must be a unique value (usually the 'id' field), as it will be used as the key of the returned array. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional, required if $limitnum is set). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of objects, or empty array if no records were found </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#ad09e279fd22987580c5fc8faa45026e9">moodle_database</a>.</p>

</div>
</div>
<a id="a27a87e4bb758741ac5c140be0813f209" name="a27a87e4bb758741ac5c140be0813f209"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27a87e4bb758741ac5c140be0813f209">&#9670;&#160;</a></span>get_records_sql_menu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_records_sql_menu </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the first two columns from a number of records as an associative array using a SQL statement. </p>
<p>Arguments are like <a class="el" href="">functionget_recordset_sql</a>. Return value is like <a class="el" href="">functionget_records_menu</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The SQL string you wish to be executed. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>an associative array </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a59cdf34105f4d33160d2d7d6b5d6f24b" name="a59cdf34105f4d33160d2d7d6b5d6f24b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59cdf34105f4d33160d2d7d6b5d6f24b">&#9670;&#160;</a></span>get_recordset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_recordset </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a number of records as a <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> where all the given conditions met. </p>
<p>Selects records from the table $table.</p>
<p>If specified, only records meeting $conditions.</p>
<p>If specified, the results will be sorted as specified by $sort. This is added to the SQL as "ORDER BY $sort". Example values of $sort might be "time ASC" or "time DESC".</p>
<p>If $fields is specified, only those fields are returned.</p>
<p>Since this method is a little less readable, use of it should be restricted to code where it's possible there might be large datasets being returned. For known small datasets use get_records - it leads to simpler code.</p>
<p>If you only want some of the records, specify $limitfrom and $limitnum. The query will skip the first $limitfrom records (according to the sort order) and then return the next $limitnum records. If either of $limitfrom or $limitnum is specified, both must be present.</p>
<p>The return value is a <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> if the query succeeds. If an error occurs, false is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>an order to sort the results in (optional, a valid SQL ORDER BY parameter). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>a comma separated list of fields to return (optional, by default all fields are returned). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a></td><td>A <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae6f6bc13543347a60b4d4c39f6f1de59" name="ae6f6bc13543347a60b4d4c39f6f1de59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6f6bc13543347a60b4d4c39f6f1de59">&#9670;&#160;</a></span>get_recordset_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_recordset_list </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$values</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a number of records as a <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> where one field match one list of values. </p>
<p>Only records where $field takes one of the values $values are returned. $values must be an array of values.</p>
<p>Other arguments and the return type are like <a class="el" href="">functionget_recordset</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td>a field to check (optional). </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$values</td><td>array of values the field must have </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>an order to sort the results in (optional, a valid SQL ORDER BY parameter). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>a comma separated list of fields to return (optional, by default all fields are returned). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a></td><td>A <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9add8d048686682c0f6942a027a4734e" name="a9add8d048686682c0f6942a027a4734e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9add8d048686682c0f6942a027a4734e">&#9670;&#160;</a></span>get_recordset_select()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_recordset_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'*'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a number of records as a <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> which match a particular WHERE clause. </p>
<p>If given, $select is used as the SELECT parameter in the SQL query, otherwise all records from the table are returned.</p>
<p>Other arguments and the return type are like <a class="el" href="">functionget_recordset</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>the table to query. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a where clause in the SQL call. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>an order to sort the results in (optional, a valid SQL ORDER BY parameter). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>a comma separated list of fields to return (optional, by default all fields are returned). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a></td><td>A <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4eae4660b10c47c9b92d42f101fa5b48" name="a4eae4660b10c47c9b92d42f101fa5b48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4eae4660b10c47c9b92d42f101fa5b48">&#9670;&#160;</a></span>get_recordset_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::get_recordset_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a number of records as a <a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a> using a SQL statement. </p>
<p>Since this method is a little less readable, use of it should be restricted to code where it's possible there might be large datasets being returned. For known small datasets use get_records_sql - it leads to simpler code.</p>
<p>The return type is like: </p><dl class="section see"><dt>See also</dt><dd>function <a class="el" href="../../d3/d6e/classmoodle__database.html#a59cdf34105f4d33160d2d7d6b5d6f24b" title="Get a number of records as a moodle_recordset where all the given conditions met.">get_recordset</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>the SQL select query to execute. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>return a subset of records, starting at this point (optional, required if $limitnum is set). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>return a subset comprising this many records (optional, required if $limitfrom is set). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/d34/classmoodle__recordset.html" title="Abstract class for resultsets returned from database functions.">moodle_recordset</a></td><td>instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a75b4e0662ab137e9ef69e61173c682ce">moodle_database</a>.</p>

</div>
</div>
<a id="a493c39d97cbffec6897b46cdac540926" name="a493c39d97cbffec6897b46cdac540926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a493c39d97cbffec6897b46cdac540926">&#9670;&#160;</a></span>get_row_format()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::get_row_format </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the row format from the database schema. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>row_format name or null if not known or table does not exist. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3a8c5f9f939ac39a23091a78993f9764" name="a3a8c5f9f939ac39a23091a78993f9764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a8c5f9f939ac39a23091a78993f9764">&#9670;&#160;</a></span>get_row_format_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::get_row_format_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$engine</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$collation</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine if the row format should be set to compressed, dynamic, or default. </p>
<p>Terrible kludge. If we're using utf8mb4 AND we're using InnoDB, we need to specify row format to be either dynamic or compressed (default is compact) in order to allow for bigger indexes (<a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> errors #1709 and #1071).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$engine</td><td>The database engine being used. Will be looked up if not supplied. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$collation</td><td>The database collation to use. Will look up the current collation if not supplied. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>An sql fragment to add to sql statements. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7839d9c9d1766772a24e8b3d05f6135b" name="a7839d9c9d1766772a24e8b3d05f6135b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7839d9c9d1766772a24e8b3d05f6135b">&#9670;&#160;</a></span>get_server_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::get_server_info </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns database server info array. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Array containing 'description' and 'version' info. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d8/d7b/classdml__read__exception.html" title="DML read exception - triggered by some SQL syntax errors, etc.">dml_read_exception</a></td><td>If the execution of 'SELECT VERSION()' query will fail. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a48bc59d587e11678df0ae93623073b79">moodle_database</a>.</p>

</div>
</div>
<a id="aa99211baed37f6af9c86766b43e7d9b5" name="aa99211baed37f6af9c86766b43e7d9b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa99211baed37f6af9c86766b43e7d9b5">&#9670;&#160;</a></span>get_session_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::get_session_lock </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$rowid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timeout</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtain session lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$rowid</td><td>id of the row with session record </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timeout</td><td>max allowed time to wait for the lock in seconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a6c57a9a2f96d9bec0f77164aae45dc69">moodle_database</a>.</p>

</div>
</div>
<a id="af44d6d3d48dc67c72d6143949a023ba8" name="af44d6d3d48dc67c72d6143949a023ba8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af44d6d3d48dc67c72d6143949a023ba8">&#9670;&#160;</a></span>get_settings_hash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_settings_hash </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a hash for the settings used during connection. </p>
<p>If not already requested it is generated and stored in a private property.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4713e24bb18b56ac90387afeca491dfd" name="a4713e24bb18b56ac90387afeca491dfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4713e24bb18b56ac90387afeca491dfd">&#9670;&#160;</a></span>get_tables()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::get_tables </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$usecache</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return tables in database WITHOUT current prefix. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$usecache</td><td>if true, returns list of cached tables. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of table names in lowercase and without prefix </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a2e8cb566e33c61c1ce9a3c86f51ac7b4">moodle_database</a>.</p>

</div>
</div>
<a id="afe146e06552bdb6da89ca32cab04c754" name="afe146e06552bdb6da89ca32cab04c754"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe146e06552bdb6da89ca32cab04c754">&#9670;&#160;</a></span>get_temp_tables_cache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_temp_tables_cache </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle the creation and caching of the temporary tables. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">cache_application</td><td>The temp_tables cachestore to complete operations on. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad848ee206bad0afea1fcc9e303fae770" name="ad848ee206bad0afea1fcc9e303fae770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad848ee206bad0afea1fcc9e303fae770">&#9670;&#160;</a></span>get_transaction_start_backtrace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::get_transaction_start_backtrace </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns transaction trace for debugging purposes. </p>
<p>to be used by core only </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">?array</td><td>or null if not in transaction. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2fbd7891285434302319f6feeaa7d623" name="a2fbd7891285434302319f6feeaa7d623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fbd7891285434302319f6feeaa7d623">&#9670;&#160;</a></span>get_version_from_db()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::get_version_from_db </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the version of the <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> server, as reported by 'SELECT VERSION()' query. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>A string that indicates the <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> server version. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d8/d7b/classdml__read__exception.html" title="DML read exception - triggered by some SQL syntax errors, etc.">dml_read_exception</a></td><td>If the execution of 'SELECT VERSION()' query will fail. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab36c48f06039c4071ca3c770a4d22dbc" name="ab36c48f06039c4071ca3c770a4d22dbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab36c48f06039c4071ca3c770a4d22dbc">&#9670;&#160;</a></span>has_breaking_change_quoted_defaults()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mariadb_native_moodle_database::has_breaking_change_quoted_defaults </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates whether column information retrieved from <code>information_schema.columns</code> has default values quoted or not. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>True when default values are quoted (breaking change); otherwise, false. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#aa885c06d0a766882f591f8ae357eddd3">mysqli_native_moodle_database</a>.</p>

</div>
</div>
<a id="a77f40ce9ad8f470f9b243a0144635461" name="a77f40ce9ad8f470f9b243a0144635461"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77f40ce9ad8f470f9b243a0144635461">&#9670;&#160;</a></span>has_breaking_change_sqlmode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mariadb_native_moodle_database::has_breaking_change_sqlmode </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates whether SQL_MODE default value has changed in a not backward compatible way. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>True when SQL_MODE breaks BC; otherwise, false. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a9627f627f0fe6599ec0cab2dad2e5297">mysqli_native_moodle_database</a>.</p>

</div>
</div>
<a id="a796c0daa0f858c6439cb9985bad0b804" name="a796c0daa0f858c6439cb9985bad0b804"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a796c0daa0f858c6439cb9985bad0b804">&#9670;&#160;</a></span>import_record()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::import_record </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dataobject</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Import a record into a table, id field is required. </p>
<p>Safety checks are NOT carried out. Lobs are supported.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>name of database table to be inserted into </td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$dataobject</td><td>A data object with values for one or more fields in the record </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#aebc6879671362696031999843e165eb3">moodle_database</a>.</p>

</div>
</div>
<a id="a607eadfd9aace50328e2321d850c6685" name="a607eadfd9aace50328e2321d850c6685"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a607eadfd9aace50328e2321d850c6685">&#9670;&#160;</a></span>insert_chunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::insert_chunk </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$chunk</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$columns</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert records in chunks. </p>
<p>Note: can be used only from <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a225a9a214763a2394065d8d1933456b1" title="Insert multiple records into database as fast as possible.">insert_records()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$chunk</td><td></td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d8/d41/classdatabase__column__info.html">database_column_info</a>[]</td><td class="paramname">$columns</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a50885935edf867e029f828e6be143f30" name="a50885935edf867e029f828e6be143f30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50885935edf867e029f828e6be143f30">&#9670;&#160;</a></span>insert_record()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::insert_record </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dataobject</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$returnid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$bulk</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert a record into a table and return the "id" field if required. </p>
<p>Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn't required, then this just reports success as true/false. $data is an object containing needed data </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be inserted into </td></tr>
    <tr><td class="paramtype">object&#160;|&#160;array</td><td class="paramname">$dataobject</td><td>A data object with values for one or more fields in the record </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$returnid</td><td>Should the id of the newly created record entry be returned? If this option is not requested then true/false is returned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool|int</td><td>true or new id </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a5d95faae31eb8264a61b48ee82327672">moodle_database</a>.</p>

</div>
</div>
<a id="a4a18778b229d02ff899320534eca8f1b" name="a4a18778b229d02ff899320534eca8f1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a18778b229d02ff899320534eca8f1b">&#9670;&#160;</a></span>insert_record_raw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::insert_record_raw </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$params</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$returnid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$bulk</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$customsequence</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert new record into database, as fast as possible, no safety checks, lobs not supported. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>name </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$params</td><td>data record as object or array </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$returnit</td><td>return it of inserted record </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$bulk</td><td>true means repeated inserts expected </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$customsequence</td><td>true if 'id' included in $params, disables $returnid </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool|int</td><td>true or new id </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a78dbff65e2da5fa4470a20e7489a2f52">moodle_database</a>.</p>

</div>
</div>
<a id="a225a9a214763a2394065d8d1933456b1" name="a225a9a214763a2394065d8d1933456b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a225a9a214763a2394065d8d1933456b1">&#9670;&#160;</a></span>insert_records()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::insert_records </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dataobjects</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert multiple records into database as fast as possible. </p>
<p>Order of inserts is maintained, but the operation is not atomic, use transactions if necessary.</p>
<p>This method is intended for inserting of large number of small objects, do not use for huge objects with text or binary fields.</p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.7</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be inserted into </td></tr>
    <tr><td class="paramtype">array&#160;|&#160;Traversable</td><td class="paramname">$dataobjects</td><td>list of objects to be inserted, must be compatible with foreach </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td>does not return new record ids</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">coding_exception</td><td>if data objects have different structure </td></tr>
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a9f0b239e223e372b5a5327420321ccb4">moodle_database</a>.</p>

</div>
</div>
<a id="a4bf8a85a4863bb842ecdea59610dc3f1" name="a4bf8a85a4863bb842ecdea59610dc3f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bf8a85a4863bb842ecdea59610dc3f1">&#9670;&#160;</a></span>is_antelope_file_format_no_more_supported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::is_antelope_file_format_no_more_supported </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tests if the Antelope file format is still supported or it has been removed. </p>
<p>When removed, only Barracuda file format is supported, given the XtraDB/InnoDB engine.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the Antelope file format has been removed; otherwise, false. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae965ce2938ad1d6507805a1ab4d1a1b0" name="ae965ce2938ad1d6507805a1ab4d1a1b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae965ce2938ad1d6507805a1ab4d1a1b0">&#9670;&#160;</a></span>is_compressed_row_format_supported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::is_compressed_row_format_supported </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$cached</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is this database compatible with compressed row format? </p>
<p>This feature is necessary for support of large number of text columns in InnoDB/XtraDB database.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$cached</td><td>use cached result </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if table can be created or changed to compressed row format. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a84e551beba47b1c0f94d1fe1e6c5de97" name="a84e551beba47b1c0f94d1fe1e6c5de97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84e551beba47b1c0f94d1fe1e6c5de97">&#9670;&#160;</a></span>is_count_window_function_supported()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mariadb_native_moodle_database::is_count_window_function_supported </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MariaDB supports the COUNT() window function and provides a performance improvement. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a9057378f157727f54a9d3777279ccec8">moodle_database</a>.</p>

</div>
</div>
<a id="ab584fecab234c48c418ec3a4d31b47bf" name="ab584fecab234c48c418ec3a4d31b47bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab584fecab234c48c418ec3a4d31b47bf">&#9670;&#160;</a></span>is_file_per_table_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::is_file_per_table_enabled </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check the database to see if innodb_file_per_table is on. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if on otherwise false. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3a17de1e539649b1b39b25f4a06b0a27" name="a3a17de1e539649b1b39b25f4a06b0a27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a17de1e539649b1b39b25f4a06b0a27">&#9670;&#160;</a></span>is_fulltext_search_supported()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mariadb_native_moodle_database::is_fulltext_search_supported </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does this mariadb instance support fulltext indexes? </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a4e3dd8d878322ac1a2c9f46833b4e1c2">mysqli_native_moodle_database</a>.</p>

</div>
</div>
<a id="a2ad23437cbe807149e555fd5cbe3e011" name="a2ad23437cbe807149e555fd5cbe3e011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ad23437cbe807149e555fd5cbe3e011">&#9670;&#160;</a></span>is_large_prefix_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::is_large_prefix_enabled </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check the database to see if innodb_large_prefix is on. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if on otherwise false. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abd15d09cfbcd348245a113dc21299684" name="abd15d09cfbcd348245a113dc21299684"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd15d09cfbcd348245a113dc21299684">&#9670;&#160;</a></span>is_transaction_started()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::is_transaction_started </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if a transaction is in progress. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7696933b02ece447e69a29117b087583" name="a7696933b02ece447e69a29117b087583"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7696933b02ece447e69a29117b087583">&#9670;&#160;</a></span>normalise_limit_from_num()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::normalise_limit_from_num </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitfrom</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitnum</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ensures that limit params are numeric and positive integers, to be passed to the database. </p>
<p>We explicitly treat null, '' and -1 as 0 in order to provide compatibility with how limit values have been passed historically.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>Where to start results from </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>How many results to return </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Normalised limit params in array($limitfrom, $limitnum) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa6b6dc8485613b1c78360eafec5a815a" name="aa6b6dc8485613b1c78360eafec5a815a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6b6dc8485613b1c78360eafec5a815a">&#9670;&#160;</a></span>normalise_value()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::normalise_value </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$column</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Normalise values based in RDBMS dependencies (booleans, LOBs...) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d8/d41/classdatabase__column__info.html">database_column_info</a></td><td class="paramname">$column</td><td>column metadata corresponding with the value we are going to normalise </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$value</td><td>value we are going to normalise </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>the normalised value </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a722c575a19352a93bd472b29b7122c04">moodle_database</a>.</p>

</div>
</div>
<a id="a88efe099824232405fdd57abf99a5da5" name="a88efe099824232405fdd57abf99a5da5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88efe099824232405fdd57abf99a5da5">&#9670;&#160;</a></span>perf_get_queries()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::perf_get_queries </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of queries done by this database. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>Number of queries. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a26f3aea41366300759a65971ddaeae91" name="a26f3aea41366300759a65971ddaeae91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26f3aea41366300759a65971ddaeae91">&#9670;&#160;</a></span>perf_get_queries_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::perf_get_queries_time </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time waiting for the database engine to finish running all queries. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">float</td><td>Number of seconds with microseconds </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abef8ec7916dbf288bdc45828e24e2e71" name="abef8ec7916dbf288bdc45828e24e2e71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abef8ec7916dbf288bdc45828e24e2e71">&#9670;&#160;</a></span>perf_get_reads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::perf_get_reads </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of reads done by this database. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>Number of reads. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aede2b6f470152fcb31b1011e4a0a3c9d" name="aede2b6f470152fcb31b1011e4a0a3c9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aede2b6f470152fcb31b1011e4a0a3c9d">&#9670;&#160;</a></span>perf_get_reads_replica()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::perf_get_reads_replica </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of reads before first write done by this database. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>Number of reads. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab3ba367be9772be6b095f58201579543" name="ab3ba367be9772be6b095f58201579543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3ba367be9772be6b095f58201579543">&#9670;&#160;</a></span>perf_get_writes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::perf_get_writes </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of writes done by this database. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>Number of writes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaa22068a8553ee63304484bab2798178" name="aaa22068a8553ee63304484bab2798178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa22068a8553ee63304484bab2798178">&#9670;&#160;</a></span>print_debug()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::print_debug </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$obj</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints sql debug info. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The query which is being debugged. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>The query parameters. (optional) </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$obj</td><td>The library specific object. (optional) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af68a46c6ba0287f470ae0b7d4272b5f3" name="af68a46c6ba0287f470ae0b7d4272b5f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af68a46c6ba0287f470ae0b7d4272b5f3">&#9670;&#160;</a></span>print_debug_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::print_debug_time </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints the time a query took to run. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af73ba05471d4c50e266ca117006b0174" name="af73ba05471d4c50e266ca117006b0174"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af73ba05471d4c50e266ca117006b0174">&#9670;&#160;</a></span>query_end()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::query_end </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$result</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This should be called immediately after each db query. </p>
<p>It does a clean up of resources. It also throws exceptions if the sql that ran produced errors. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$result</td><td>The db specific result obtained from running a query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d8/d7b/classdml__read__exception.html" title="DML read exception - triggered by some SQL syntax errors, etc.">dml_read_exception</a></td><td>| <a class="el" href="../../d5/da8/classdml__write__exception.html" title="DML write exception - triggered by some SQL syntax errors, etc.">dml_write_exception</a> | <a class="el" href="../../d6/df8/classddl__change__structure__exception.html" title="Error during changing db structure.">ddl_change_structure_exception</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a71eb1f8a02177772840691278ab6dc6f">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#ae17b89fe72332dc3208792d096d0e89d">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a330a77e48f251264f020d52169438e25" name="a330a77e48f251264f020d52169438e25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a330a77e48f251264f020d52169438e25">&#9670;&#160;</a></span>query_log()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::query_log </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$error</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This logs the last query based on 'logall', 'logslow' and 'logerrors' options configured via $CFG-&gt;dboptions . </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;bool</td><td class="paramname">$error</td><td>or false if not error </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a22869776c6a8b72f2983bc51152147bd" name="a22869776c6a8b72f2983bc51152147bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22869776c6a8b72f2983bc51152147bd">&#9670;&#160;</a></span>query_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::query_start </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$extrainfo</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This should be called before each db query. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The query string. </td></tr>
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$params</td><td>An array of parameters. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$type</td><td>The type of query ( SQL_QUERY_SELECT | SQL_QUERY_AUX_READONLY | SQL_QUERY_AUX | SQL_QUERY_INSERT | SQL_QUERY_UPDATE | SQL_QUERY_STRUCTURE ). </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$extrainfo</td><td>This is here for any driver specific extra information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../db/dc8/classpdo__moodle__database.html#a4308599a8db9b382fa4e977cef4a6168">pdo_moodle_database</a>, <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a239d87989be5b5334ca02ff8261afee2">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a342992f3081ccc6e010863ca60602bdb">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a6f19d95c9bf5d29ea5cfc5063ce24af5" name="a6f19d95c9bf5d29ea5cfc5063ce24af5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f19d95c9bf5d29ea5cfc5063ce24af5">&#9670;&#160;</a></span>query_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::query_time </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the time elapsed since the query started. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">float</td><td>Seconds with microseconds </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5826a54c172a58a7853eccfc23689064" name="a5826a54c172a58a7853eccfc23689064"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5826a54c172a58a7853eccfc23689064">&#9670;&#160;</a></span>raw_connect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::raw_connect </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$dbhost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$dbuser</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$dbpass</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$dbname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$prefix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$dboptions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connect to db. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$dbhost</td><td>The database host. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbuser</td><td>The database username. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbpass</td><td>The database username's password. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbname</td><td>The name of the database being connected to.e </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$prefix</td><td>string means moodle db prefix, false used for external databases where prefix not used </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$dboptions</td><td>driver specific options </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>success </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">moodle_exception</td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d5/d8d/classdml__connection__exception.html" title="DML db connection exception - triggered if database not accessible.">dml_connection_exception</a></td><td>if error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abf3175a0c0ca9a47f7228a5dd82cc0d8" name="abf3175a0c0ca9a47f7228a5dd82cc0d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf3175a0c0ca9a47f7228a5dd82cc0d8">&#9670;&#160;</a></span>record_exists()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::record_exists </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test whether a record exists in a table where all the given conditions met. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The table to check. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if a matching record exists, else false. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1bb1c6d5c6208e51c68cf56b9a24b1ac" name="a1bb1c6d5c6208e51c68cf56b9a24b1ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bb1c6d5c6208e51c68cf56b9a24b1ac">&#9670;&#160;</a></span>record_exists_select()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::record_exists_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test whether any records exists in a table which match a particular WHERE clause. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a WHERE clause in the SQL call. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if a matching record exists, else false. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad2bf8283a63f4d432b0e5289a991eb78" name="ad2bf8283a63f4d432b0e5289a991eb78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2bf8283a63f4d432b0e5289a991eb78">&#9670;&#160;</a></span>record_exists_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::record_exists_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test whether a SQL SELECT statement returns any records. </p>
<p>This function returns true if the SQL statement executes without any errors and returns at least one record.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The SQL statement to execute. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if the SQL executes without errors and returns at least one record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaf2f2a5d983a792c513bc461237c484e" name="aaf2f2a5d983a792c513bc461237c484e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf2f2a5d983a792c513bc461237c484e">&#9670;&#160;</a></span>release_session_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::release_session_lock </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$rowid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Releases the session lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$rowid</td><td>The id of the row with session record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a78cee87e0f3b11c0b85dcdee1487ce01">moodle_database</a>.</p>

</div>
</div>
<a id="a9c89e08b712205fb341d088e62062e91" name="a9c89e08b712205fb341d088e62062e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c89e08b712205fb341d088e62062e91">&#9670;&#160;</a></span>replace_all_text()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::replace_all_text </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d41/classdatabase__column__info.html">database_column_info</a></td>          <td class="paramname"><span class="paramname"><em>$column</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$search</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$replace</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Replace given text in all rows of column. </p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.6.1 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>name of the table </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d8/d41/classdatabase__column__info.html">database_column_info</a></td><td class="paramname">$column</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$search</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$replace</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a282c446467886bea70a4dc5ace1ce257" name="a282c446467886bea70a4dc5ace1ce257"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a282c446467886bea70a4dc5ace1ce257">&#9670;&#160;</a></span>replace_all_text_supported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::replace_all_text_supported </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does this driver support tool_replace? </p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.6.1 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#ae059743f764b66f1a55b9a7a0447480e">moodle_database</a>.</p>

</div>
</div>
<a id="a566d10b7a58d695c82fa97290d183c7f" name="a566d10b7a58d695c82fa97290d183c7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a566d10b7a58d695c82fa97290d183c7f">&#9670;&#160;</a></span>reset_caches()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::reset_caches </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablenames</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets the internal column details cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$tablenames</td><td>an array of xmldb table names affected by this request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a52626080be6e106f27052edac0046718" name="a52626080be6e106f27052edac0046718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52626080be6e106f27052edac0046718">&#9670;&#160;</a></span>rollback_delegated_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::rollback_delegated_transaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/db9/classmoodle__transaction.html">moodle_transaction</a></td>          <td class="paramname"><span class="paramname"><em>$transaction</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$e</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call when delegated transaction failed, this rolls back all delegated transactions up to the top most level. </p>
<p>In many cases you do not need to call this method manually, because all open delegated transactions are rolled back automatically if exceptions not caught.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d8/db9/classmoodle__transaction.html" title="Delegated transaction class.">moodle_transaction</a></td><td class="paramname">$transaction</td><td>An instance of a <a class="el" href="../../d8/db9/classmoodle__transaction.html" title="Delegated transaction class.">moodle_transaction</a>. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../df/d70/class_exception.html" title="General SimplePie exception class.">Exception</a>&#160;|&#160;Throwable</td><td class="paramname">$e</td><td>The related exception/throwable to this transaction rollback. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td>This does not return, instead the exception passed in will be rethrown. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3e779e20df13be668bf5d0d5b264afb6" name="a3e779e20df13be668bf5d0d5b264afb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e779e20df13be668bf5d0d5b264afb6">&#9670;&#160;</a></span>rollback_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::rollback_transaction </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Driver specific abort of real database transaction, this can not be used directly in code. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#ab531ad140c3e7532efcde3821ff4bdb1">moodle_database</a>.</p>

</div>
</div>
<a id="a01d9a7840353df2b1a28353e89b1eebf" name="a01d9a7840353df2b1a28353e89b1eebf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01d9a7840353df2b1a28353e89b1eebf">&#9670;&#160;</a></span>session_lock_supported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::session_lock_supported </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is session lock supported in this driver? </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#ae82cef939ad959751ee2aac1c482d356">moodle_database</a>.</p>

</div>
</div>
<a id="ad98011bcc2aabb2b18ef42296ec19f21" name="ad98011bcc2aabb2b18ef42296ec19f21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad98011bcc2aabb2b18ef42296ec19f21">&#9670;&#160;</a></span>set_db_handle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::set_db_handle </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbh</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets db handle to be used with subsequent queries. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">resource</td><td class="paramname">$dbh</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a35d0837880bf49e85ca84301f2be3eb7" name="a35d0837880bf49e85ca84301f2be3eb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35d0837880bf49e85ca84301f2be3eb7">&#9670;&#160;</a></span>set_debug()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::set_debug </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable/disable very detailed debugging. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$state</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5e884967eafc75a13446856e3d4bcf18" name="a5e884967eafc75a13446856e3d4bcf18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e884967eafc75a13446856e3d4bcf18">&#9670;&#160;</a></span>set_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::set_field </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newfield</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newvalue</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a single field in every table record where all the given conditions met. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newfield</td><td>the field to set. </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$newvalue</td><td>the value to set the field to. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>optional array $fieldname=&gt;requestedvalue with AND in between </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1ed46b38cf912a3b8e915ed3cf7c2730" name="a1ed46b38cf912a3b8e915ed3cf7c2730"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ed46b38cf912a3b8e915ed3cf7c2730">&#9670;&#160;</a></span>set_field_select()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::set_field_select </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newfield</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newvalue</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$select</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a single field in every table record which match a particular WHERE clause. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newfield</td><td>the field to set. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newvalue</td><td>the value to set the field to. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$select</td><td>A fragment of SQL to be used in a where clause in the SQL call. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>array of sql parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a3cada6a743d80f1c66775d33b9065b75">moodle_database</a>.</p>

</div>
</div>
<a id="a8d8a59b122bc0668b00eb85465a0d413" name="a8d8a59b122bc0668b00eb85465a0d413"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d8a59b122bc0668b00eb85465a0d413">&#9670;&#160;</a></span>setup_is_unicodedb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::setup_is_unicodedb </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is this database compatible with utf8? </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#ab747076263a0c2fd6a802cb74382ad57">moodle_database</a>.</p>

</div>
</div>
<a id="ae1eda33cd2dbdae99c3798ec70bdf226" name="ae1eda33cd2dbdae99c3798ec70bdf226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1eda33cd2dbdae99c3798ec70bdf226">&#9670;&#160;</a></span>should_db_version_be_read_from_db()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::should_db_version_be_read_from_db </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether $CFG-&gt;dboptions['versionfromdb'] has been set to boolean <code>true</code>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if $CFG-&gt;dboptions['versionfromdb'] has been set to boolean <code>true</code>. Otherwise, <code>false</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac68dc229239c363cbb694b5b48e80394" name="ac68dc229239c363cbb694b5b48e80394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac68dc229239c363cbb694b5b48e80394">&#9670;&#160;</a></span>sql_bitand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_bitand </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int2</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used in order to perform one bitwise AND operation between 2 integers. </p>
<p>NOTE: The SQL result is a number and can not be used directly in SQL condition, please compare it to some number to get a bool!!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$int1</td><td>SQL for the first integer in the operation. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$int2</td><td>SQL for the second integer in the operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acac48b82fd3f9c783378bafbb5d3d114" name="acac48b82fd3f9c783378bafbb5d3d114"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acac48b82fd3f9c783378bafbb5d3d114">&#9670;&#160;</a></span>sql_bitnot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_bitnot </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int1</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used in order to perform one bitwise NOT operation with 1 integer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$int1</td><td>The operand integer in the operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a80882d2125b553aab4f8ca270482bb71" name="a80882d2125b553aab4f8ca270482bb71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80882d2125b553aab4f8ca270482bb71">&#9670;&#160;</a></span>sql_bitor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_bitor </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int2</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used in order to perform one bitwise OR operation between 2 integers. </p>
<p>NOTE: The SQL result is a number and can not be used directly in SQL condition, please compare it to some number to get a bool!!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$int1</td><td>The first operand integer in the operation. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$int2</td><td>The second operand integer in the operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad4e61636f425f4bb9de8916a78460c3e" name="ad4e61636f425f4bb9de8916a78460c3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4e61636f425f4bb9de8916a78460c3e">&#9670;&#160;</a></span>sql_bitxor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_bitxor </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int2</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used in order to perform one bitwise XOR operation between 2 integers. </p>
<p>NOTE: The SQL result is a number and can not be used directly in SQL condition, please compare it to some number to get a bool!!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$int1</td><td>The first operand integer in the operation. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$int2</td><td>The second operand integer in the operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#af9ec217ea430b0fb086216947b2986a3">pgsql_native_moodle_database</a>.</p>

</div>
</div>
<a id="af04c35869c12df64a86464b5687e168c" name="af04c35869c12df64a86464b5687e168c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af04c35869c12df64a86464b5687e168c">&#9670;&#160;</a></span>sql_cast_2signed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::sql_cast_2signed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL to be used in order to an UNSIGNED INTEGER column to SIGNED. </p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000301">Deprecated</a></b></dt><dd>since 2.3 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The name of the field to be cast </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a1694340dccdc80574299d01339b65197">moodle_database</a>.</p>

</div>
</div>
<a id="a4ad90505cf998ae1e32fd13abe20972d" name="a4ad90505cf998ae1e32fd13abe20972d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ad90505cf998ae1e32fd13abe20972d">&#9670;&#160;</a></span>sql_cast_char2int()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::sql_cast_char2int </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$text</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL to be used in order to CAST one CHAR column to INTEGER. </p>
<p>Be aware that the CHAR column you're trying to cast contains really int values or the RDBMS will throw an error!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The name of the field to be casted. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$text</td><td>Specifies if the original column is one TEXT (CLOB) column (true). Defaults to false. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a180f8af7f59e19066d71edcdc304afb6">moodle_database</a>.</p>

</div>
</div>
<a id="a2f45b0d7e916fc199a8d2b5aa1ad4c7b" name="a2f45b0d7e916fc199a8d2b5aa1ad4c7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f45b0d7e916fc199a8d2b5aa1ad4c7b">&#9670;&#160;</a></span>sql_cast_char2real()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::sql_cast_char2real </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$text</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL to be used in order to CAST one CHAR column to REAL number. </p>
<p>Be aware that the CHAR column you're trying to cast contains really numbers or the RDBMS will throw an error!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The name of the field to be casted. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$text</td><td>Specifies if the original column is one TEXT (CLOB) column (true). Defaults to false. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a0439d8a8138f109078dca2844de06625">moodle_database</a>.</p>

</div>
</div>
<a id="a790893b7ddd951c847e89ff924e49002" name="a790893b7ddd951c847e89ff924e49002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a790893b7ddd951c847e89ff924e49002">&#9670;&#160;</a></span>sql_cast_to_char()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_cast_to_char </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$field</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return SQL for casting to char of given field/expression. </p>
<p>Default implementation performs implicit cast using concatenation with an empty string</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td>Table field or SQL expression to be cast </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a64d74cbdb71cb1f85551f1625da73751">pgsql_native_moodle_database</a>, and <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a6b228d6eed81b5e93d89229fcef805cd">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="af7890196bac87305b781986a03c6f5be" name="af7890196bac87305b781986a03c6f5be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7890196bac87305b781986a03c6f5be">&#9670;&#160;</a></span>sql_ceil()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_ceil </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the cross db correct CEIL (ceiling) expression applied to fieldname. </p>
<p>note: Most DBs use CEIL(), hence it's the default here.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The field (or expression) we are going to ceil. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your ceiling statement. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#afc575b21bf49ae1dfcc9cd5ce13e4e87">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a820b8acd947c5e66d363d7900c24565f" name="a820b8acd947c5e66d363d7900c24565f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a820b8acd947c5e66d363d7900c24565f">&#9670;&#160;</a></span>sql_compare_text()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_compare_text </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$numchars</em></span><span class="paramdefsep"> = </span><span class="paramdefval">32</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used to compare one TEXT (clob) column with one varchar column, because some RDBMS doesn't support such direct comparisons. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The name of the TEXT field we need to order by </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$numchars</td><td>Number of chars to use for the ordering (defaults to 32). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a59d2ae107e44a173941b4df4dbd258fd" name="a59d2ae107e44a173941b4df4dbd258fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59d2ae107e44a173941b4df4dbd258fd">&#9670;&#160;</a></span>sql_concat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::sql_concat </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the proper SQL to do CONCAT between the elements passed Can take many parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$arr,...</td><td>1 or more fields/strings to concat</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The concat sql </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a90ca908bef686f9e757de65a8fa2b273">moodle_database</a>.</p>

</div>
</div>
<a id="a32bf407ea0b57a8fcc0758bc2ee776ae" name="a32bf407ea0b57a8fcc0758bc2ee776ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32bf407ea0b57a8fcc0758bc2ee776ae">&#9670;&#160;</a></span>sql_concat_join()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::sql_concat_join </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$separator</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;'&#160;'&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$elements</em></span><span class="paramdefsep"> = </span><span class="paramdefval">array()</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the proper SQL to do CONCAT between the elements passed with a given separator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$separator</td><td>The string to use as the separator </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$elements</td><td>An array of items to concatenate </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The concat SQL </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a7d9dde595f34975475f4d0df3a2f9b1b">moodle_database</a>.</p>

</div>
</div>
<a id="ae22406799410a3cbdd253516eab46c5c" name="ae22406799410a3cbdd253516eab46c5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae22406799410a3cbdd253516eab46c5c">&#9670;&#160;</a></span>sql_empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_empty </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This used to return empty string replacement character. </p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000296">Deprecated</a></b></dt><dd>use bound parameter with empty string instead</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>An empty string. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a97728114ee233b71bd2aa862ef3e5602" name="a97728114ee233b71bd2aa862ef3e5602"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97728114ee233b71bd2aa862ef3e5602">&#9670;&#160;</a></span>sql_equal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::sql_equal </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$param</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$casesensitive</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$accentsensitive</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$notequal</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an equal (=) or not equal (&lt;&gt;) part of a query. </p>
<p>Note the use of this method may lead to slower queries (full scans) so use it only when needed and against already reduced data sets.</p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.2</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>Usually the name of the table column. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param</td><td>Usually the bound query parameter (?, :named). </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$casesensitive</td><td>Use case sensitive search when set to true (default). </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$accentsensitive</td><td>Use accent sensitive search when set to true (default). (not all databases support accent insensitive) </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$notequal</td><td>True means not equal (&lt;&gt;) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The SQL code fragment. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a4961151d8452dbbae8764a21d3995924">moodle_database</a>.</p>

</div>
</div>
<a id="aff9684dbbfefd579a8e8925e1930aff4" name="aff9684dbbfefd579a8e8925e1930aff4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff9684dbbfefd579a8e8925e1930aff4">&#9670;&#160;</a></span>sql_fullname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_fullname </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$first</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'firstname'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$last</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'lastname'</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the proper SQL (for the dbms in use) to concatenate $firstname and $lastname. </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000134">Todo</a></b></dt><dd><a href="https://tracker.moodle.org/browse/MDL-31233" class="el">MDL-31233</a> This may not be needed here.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$first</td><td>User's first name (default:'firstname'). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$last</td><td>User's last name (default:'lastname'). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The SQL to concatenate strings. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae669236b807e6b4e531144113fc1a0b7" name="ae669236b807e6b4e531144113fc1a0b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae669236b807e6b4e531144113fc1a0b7">&#9670;&#160;</a></span>sql_group_concat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::sql_group_concat </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$field</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$separator</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">'</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return SQL for performing group concatenation on given field/expression. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$separator</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a71e8c0d5b06ffc6a15d113cb563c3fbc">moodle_database</a>.</p>

</div>
</div>
<a id="a354de7f0293a8bf898e9569d34ce93d4" name="a354de7f0293a8bf898e9569d34ce93d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a354de7f0293a8bf898e9569d34ce93d4">&#9670;&#160;</a></span>sql_intersect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::sql_intersect </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$selects</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL that allows to find intersection of two or more queries. </p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.8</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$selects</td><td>array of SQL select queries, each of them only returns fields with the names from $fields </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>comma-separated list of fields </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>SQL query that will return only values that are present in each of selects </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#aa750949c8de170e0d0af4f5fa60059c6">moodle_database</a>.</p>

</div>
</div>
<a id="a4191fbfdf4d8f178c7f8baa6f0b3f10c" name="a4191fbfdf4d8f178c7f8baa6f0b3f10c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4191fbfdf4d8f178c7f8baa6f0b3f10c">&#9670;&#160;</a></span>sql_isempty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_isempty </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$nullablefield</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$textfield</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the proper SQL to know if one field is empty. </p>
<p>Note that the function behavior strongly relies on the parameters passed describing the field so, please, be accurate when specifying them.</p>
<p>Also, note that this function is not suitable to look for fields having NULL contents at all. It's all for empty values!</p>
<p>This function should be applied in all the places where conditions of the type: </p><pre class="fragment">... AND fieldname = '';
</pre><p>are being used. Final result for text fields should be: </p><pre class="fragment">... AND ' . sql_isempty('tablename', 'fieldname', true/false, true);
</pre><p>and for varchar fields result should be:</p>
<p>... AND fieldname = :empty; "; $params['empty'] = '';</p>
<p>(see parameters description below)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$tablename</td><td>Name of the table (without prefix). Not used for now but can be necessary in the future if we want to use some introspection using meta information against the <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a>. /// TODO /// </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>Name of the field we are going to check </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$nullablefield</td><td>For specifying if the field is nullable (true) or no (false) in the <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a>. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$textfield</td><td>For specifying if it is a text (also called clob) field (true) or a varchar one (false) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the sql code to be added to check for empty values </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a9eff09e65c8a28b1710c9e597a4463be">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a15973dfa55e723dee0363e3aee643914" name="a15973dfa55e723dee0363e3aee643914"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15973dfa55e723dee0363e3aee643914">&#9670;&#160;</a></span>sql_isnotempty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_isnotempty </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$nullablefield</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$textfield</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the proper SQL to know if one field is not empty. </p>
<p>Note that the function behavior strongly relies on the parameters passed describing the field so, please, be accurate when specifying them.</p>
<p>This function should be applied in all the places where conditions of the type: </p><pre class="fragment">... AND fieldname != '';
</pre><p>are being used. Final result for text fields should be: </p><pre class="fragment">... AND ' . sql_isnotempty('tablename', 'fieldname', true/false, true/false);
</pre><p>and for varchar fields result should be:</p>
<p>... AND fieldname != :empty; "; $params['empty'] = '';</p>
<p>(see parameters description below)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$tablename</td><td>Name of the table (without prefix). This is not used for now but can be necessary in the future if we want to use some introspection using meta information against the <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a>. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The name of the field we are going to check. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$nullablefield</td><td>Specifies if the field is nullable (true) or not (false) in the <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a>. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$textfield</td><td>Specifies if it is a text (also called clob) field (true) or a varchar one (false). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The sql code to be added to check for non empty values. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8794c1c35daa08f69264b7d4090f4a77" name="a8794c1c35daa08f69264b7d4090f4a77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8794c1c35daa08f69264b7d4090f4a77">&#9670;&#160;</a></span>sql_length()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::sql_length </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used to calculate the length in characters of one expression. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>fieldname or expression to calculate its length in characters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the piece of SQL code to be used in the statement. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a36de447388d1b69eea5e6aa8cef28939">moodle_database</a>.</p>

</div>
</div>
<a id="a303026767ea836b991a1eb6fccd61edd" name="a303026767ea836b991a1eb6fccd61edd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a303026767ea836b991a1eb6fccd61edd">&#9670;&#160;</a></span>sql_like()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::sql_like </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$param</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$casesensitive</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$accentsensitive</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$notlike</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$escapechar</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'\\'</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns 'LIKE' part of a query. </p>
<p>Note that mysql does not support $casesensitive = true and $accentsensitive = false. More information in <a href="http://bugs.mysql.com/bug.php?id=19567">http://bugs.mysql.com/bug.php?id=19567</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>usually name of the table column </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param</td><td>usually bound query parameter (?, :named) </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$casesensitive</td><td>use case sensitive search </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$accensensitive</td><td>use accent sensitive search (ignored if $casesensitive is true) </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$notlike</td><td>true means "NOT LIKE" </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$escapechar</td><td>escape char for '' and '_' </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>SQL code fragment </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#aa73681203c2756b0f4acc0048e3dced0">moodle_database</a>.</p>

</div>
</div>
<a id="a2c121b8dd12ec96c1b383f408771f9df" name="a2c121b8dd12ec96c1b383f408771f9df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c121b8dd12ec96c1b383f408771f9df">&#9670;&#160;</a></span>sql_like_escape()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_like_escape </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$text</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$escapechar</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'\\'</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Escape sql LIKE special characters like '_' or ''. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>The string containing characters needing escaping. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$escapechar</td><td>The desired escape character, defaults to '::::'. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The escaped sql LIKE string. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a22f17d732c22159cd6901d09316a531f">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a4a8c36b4f5df99363ab8bddfe2b718c4" name="a4a8c36b4f5df99363ab8bddfe2b718c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a8c36b4f5df99363ab8bddfe2b718c4">&#9670;&#160;</a></span>sql_modulo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_modulo </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$int2</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used in order to perform module '' operation - remainder after division. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$int1</td><td>The first operand integer in the operation. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$int2</td><td>The second operand integer in the operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a17896707600b6f12a885e0928cad3c62" name="a17896707600b6f12a885e0928cad3c62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17896707600b6f12a885e0928cad3c62">&#9670;&#160;</a></span>sql_null_from_clause()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_null_from_clause </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the FROM clause required by some DBs in all SELECT statements. </p>
<p>To be used in queries not having FROM clause to provide cross_db Most DBs don't need it, hence the default is '' </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7eb3d5f73789b5ed8c809e6fe1a0fa84" name="a7eb3d5f73789b5ed8c809e6fe1a0fa84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eb3d5f73789b5ed8c809e6fe1a0fa84">&#9670;&#160;</a></span>sql_order_by_null()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_order_by_null </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">SORT_ASC</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used to order by columns, standardising the return pattern of null values across database types to sort nulls first when ascending and last when descending. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The name of the field we need to sort by. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$sort</td><td>An order to sort the results in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d2/db6/classpgsql__native__moodle__database.html#a822470c86b6a680bd28e063d6f775cf8">pgsql_native_moodle_database</a>.</p>

</div>
</div>
<a id="a4e51c0085bf05d53d7fb61840645f2c7" name="a4e51c0085bf05d53d7fb61840645f2c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e51c0085bf05d53d7fb61840645f2c7">&#9670;&#160;</a></span>sql_order_by_text()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_order_by_text </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$numchars</em></span><span class="paramdefsep"> = </span><span class="paramdefval">32</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL text to be used to order by one TEXT (clob) column, because some RDBMS doesn't support direct ordering of such fields. </p>
<p>Note that the use or queries being ordered by TEXT columns must be minimised, because it's really slooooooow.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The name of the TEXT field we need to order by. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$numchars</td><td>The number of chars to use for the ordering (defaults to 32). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The piece of SQL code to be used in your statement. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a3e07de92d79438fbdcb72305f92ae32b">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a2e8706138bc2db33bf1da592c0c55ac1" name="a2e8706138bc2db33bf1da592c0c55ac1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e8706138bc2db33bf1da592c0c55ac1">&#9670;&#160;</a></span>sql_position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_position </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$needle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$haystack</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL for returning searching one string for the location of another. </p>
<p>Note, there is no guarantee which order $needle, $haystack will be in the resulting SQL so when using this method, and both arguments contain placeholders, you should use named placeholders.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$needle</td><td>the SQL expression that will be searched for. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$haystack</td><td>the SQL expression that will be searched in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The required searching SQL part. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a67c683d5757fbbedbaff009ae88af77a">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a69a9ff16cb42c07d95a049e75fa21428" name="a69a9ff16cb42c07d95a049e75fa21428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69a9ff16cb42c07d95a049e75fa21428">&#9670;&#160;</a></span>sql_regex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::sql_regex </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$positivematch</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$casesensitive</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return regex positive or negative match sql. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$positivematch</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$casesensitive</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>or empty if not supported </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#ae7fba4bbf3f6e865a889e8742481e7e4">moodle_database</a>.</p>

</div>
</div>
<a id="afa629853c2fd0bd659864594c8498b31" name="afa629853c2fd0bd659864594c8498b31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa629853c2fd0bd659864594c8498b31">&#9670;&#160;</a></span>sql_regex_get_word_beginning_boundary_marker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::sql_regex_get_word_beginning_boundary_marker </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the word-beginning boundary marker based on <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> version. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The word-beginning boundary marker. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a52bf2f972a7f4e6a5f6456bf36cfedce">moodle_database</a>.</p>

</div>
</div>
<a id="a05a7c7b03e223bc39b855a0ca23727eb" name="a05a7c7b03e223bc39b855a0ca23727eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05a7c7b03e223bc39b855a0ca23727eb">&#9670;&#160;</a></span>sql_regex_get_word_end_boundary_marker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::sql_regex_get_word_end_boundary_marker </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the word-end boundary marker based on <a class="el" href="../../d1/dd7/class_my_s_q_l.html" title="Caches data to a MySQL database.">MySQL</a> version. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The word-end boundary marker. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a2313430109d2e2c6625d0462fca7d1b8">moodle_database</a>.</p>

</div>
</div>
<a id="a36385de1a5b1bfd8f1ab6b40585573c5" name="a36385de1a5b1bfd8f1ab6b40585573c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36385de1a5b1bfd8f1ab6b40585573c5">&#9670;&#160;</a></span>sql_regex_supported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::sql_regex_supported </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does this driver support regex syntax when searching. </p>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a2372afdf1879c5b986f9ea5e04352304">moodle_database</a>.</p>

</div>
</div>
<a id="a1bec22642abe1fe63bf0c82b5206a6e4" name="a1bec22642abe1fe63bf0c82b5206a6e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bec22642abe1fe63bf0c82b5206a6e4">&#9670;&#160;</a></span>sql_substr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::sql_substr </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$expr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$start</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$length</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the proper substr() SQL text used to extract substrings from <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> NOTE: this was originally returning only function name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$expr</td><td>Some string field, no aggregates. </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$start</td><td>Integer or expression evaluating to integer (1 based value; first char has index 1) </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$length</td><td>Optional integer or expression evaluating to integer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The sql substring extraction fragment. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/df6/classsqlsrv__native__moodle__database.html#a4c8979afe5ae2d317f772d6997acad02">sqlsrv_native_moodle_database</a>.</p>

</div>
</div>
<a id="a5f26ff20924496ec4d7b12003e4bb9cf" name="a5f26ff20924496ec4d7b12003e4bb9cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f26ff20924496ec4d7b12003e4bb9cf">&#9670;&#160;</a></span>start_delegated_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::start_delegated_transaction </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>On DBs that support it, switch to transaction mode and begin a transaction you'll need to ensure you call allow_commit() on the returned object or your changes <em>will</em> be lost. </p>
<p>this is <em>very</em> useful for massive updates</p>
<p>Delegated database transactions can be nested, but only one actual database transaction is used for the outer-most delegated transaction. This method returns a transaction object which you should keep until the end of the delegated transaction. The actual database transaction will only be committed if all the nested delegated transactions commit successfully. If any part of the transaction rolls back then the whole thing is rolled back.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d8/db9/classmoodle__transaction.html" title="Delegated transaction class.">moodle_transaction</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a161e60ee2e05393bf0163460a92fbf7d" name="a161e60ee2e05393bf0163460a92fbf7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a161e60ee2e05393bf0163460a92fbf7d">&#9670;&#160;</a></span>store_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::store_settings </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbhost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbuser</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbpass</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dbname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$prefix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$dboptions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Store various database settings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$dbhost</td><td>The database host. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbuser</td><td>The database user to connect as. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbpass</td><td>The password to use when connecting to the database. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$dbname</td><td>The name of the database being connected to. </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$prefix</td><td>string means moodle db prefix, false used for external databases where prefix not used </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$dboptions</td><td>driver specific options </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac5788c52d917e79d2c95464809732aae" name="ac5788c52d917e79d2c95464809732aae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5788c52d917e79d2c95464809732aae">&#9670;&#160;</a></span>transactions_forbidden()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::transactions_forbidden </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is a test that throws an exception if transaction in progress. </p>
<p>This test does not force rollback of active transactions. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d2/d42/classdml__transaction__exception.html" title="DML transaction exception - triggered by problems related to DB transactions.">dml_transaction_exception</a></td><td>if stansaction active </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad4ced7a45b5e2fd15d6e7a5f4d0a1f22" name="ad4ced7a45b5e2fd15d6e7a5f4d0a1f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4ced7a45b5e2fd15d6e7a5f4d0a1f22">&#9670;&#160;</a></span>transactions_supported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mariadb_native_moodle_database::transactions_supported </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It is time to require transactions everywhere. </p>
<p>MyISAM is NOT supported!</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d1/d7c/classmysqli__native__moodle__database.html#a71911b36fff90d99ba12fc0bba22665c">mysqli_native_moodle_database</a>.</p>

</div>
</div>
<a id="ab13116204767a8cb4eddb6ab7edf4772" name="ab13116204767a8cb4eddb6ab7edf4772"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab13116204767a8cb4eddb6ab7edf4772">&#9670;&#160;</a></span>update_record()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::update_record </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dataobject</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$bulk</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update a record in a table. </p>
<p>$dataobject is an object containing needed data Relies on $dataobject having a variable "id" to specify the record to update</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The database table to be checked against. </td></tr>
    <tr><td class="paramtype">stdClass&#160;|&#160;array</td><td class="paramname">$dataobject</td><td>An object with contents equal to fieldname=&gt;fieldvalue. Must have an entry for 'id' to map to the table specified. </td></tr>
    <tr><td class="paramtype"></td><td class="paramname">bool</td><td>true means repeated updates expected </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#ae0b82b139bc584b0e76ddd5270a21236">moodle_database</a>.</p>

</div>
</div>
<a id="a92653530e2c7c2b2f1f7c366ec2a0ccf" name="a92653530e2c7c2b2f1f7c366ec2a0ccf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92653530e2c7c2b2f1f7c366ec2a0ccf">&#9670;&#160;</a></span>update_record_raw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysqli_native_moodle_database::update_record_raw </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$params</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$bulk</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update record in database, as fast as possible, no safety checks, lobs not supported. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>name </td></tr>
    <tr><td class="paramtype">stdClass&#160;|&#160;array</td><td class="paramname">$params</td><td>data record as object or array </td></tr>
    <tr><td class="paramtype"></td><td class="paramname">bool</td><td>true means repeated updates expected </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>A DML specific exception is thrown for any errors. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6e/classmoodle__database.html#a644c573433f7c624257e9b1ef708fd8a">moodle_database</a>.</p>

</div>
</div>
<a id="af0bcbea24c115fc7c14d8db268255df8" name="af0bcbea24c115fc7c14d8db268255df8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0bcbea24c115fc7c14d8db268255df8">&#9670;&#160;</a></span>update_temp_table_stats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::update_temp_table_stats </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Analyze the data in temporary tables to force statistics collection after bulk data loads. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af3edae032155bebcb42baaa3a97d8a34" name="af3edae032155bebcb42baaa3a97d8a34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3edae032155bebcb42baaa3a97d8a34">&#9670;&#160;</a></span>want_read_replica()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::want_read_replica </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether we want to connect to replica database for read queries. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Want read only connection. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0d65ccf297cbad247020bacd16e5f2e1" name="a0d65ccf297cbad247020bacd16e5f2e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d65ccf297cbad247020bacd16e5f2e1">&#9670;&#160;</a></span>where_clause()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::where_clause </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?array</td>          <td class="paramname"><span class="paramname"><em>$conditions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the SQL WHERE conditions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The table name that these conditions will be validated against. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>The conditions to build the where clause. (must not contain numeric indexes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array list containing sql 'where' part and 'params'. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aee549c23eaf78db12ba079a9e0279e59" name="aee549c23eaf78db12ba079a9e0279e59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee549c23eaf78db12ba079a9e0279e59">&#9670;&#160;</a></span>where_clause_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_database::where_clause_list </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$values</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns SQL WHERE conditions for the ..._list group of methods. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td>the name of a field. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$values</td><td>the values field might take. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array containing sql 'where' part and 'params' </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a3fa841ae6b4c000c77d2c4f2c68842c4" name="a3fa841ae6b4c000c77d2c4f2c68842c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fa841ae6b4c000c77d2c4f2c68842c4">&#9670;&#160;</a></span>$inorequaluniqueindex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int moodle_database::$inorequaluniqueindex = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>internal temporary variable used to guarantee unique parameters in each request. </p>
<p>Its used by <a class="el" href="../../d3/d6e/classmoodle__database.html#a9ad3b5ff05207f773cc49352b79740e0">get_in_or_equal()</a>. </p>

</div>
</div>
<a id="a98b3aaf27e355265db1838e10b49d49b" name="a98b3aaf27e355265db1838e10b49d49b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98b3aaf27e355265db1838e10b49d49b">&#9670;&#160;</a></span>$loggingquery</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool moodle_database::$loggingquery = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag indicating logging of query in progress. </p>
<p>This helps prevent infinite loops. </p>

</div>
</div>
<a id="acd93a51ea24daa4c930d2fb4a45f83a1" name="acd93a51ea24daa4c930d2fb4a45f83a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd93a51ea24daa4c930d2fb4a45f83a1">&#9670;&#160;</a></span>__pad0__</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">replacement moodle_database::__pad0__</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether we want to connect to slave database for read queries. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Want read only connection </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000297">Deprecated</a></b></dt><dd>Since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 5.0. See <a href="https://tracker.moodle.org/browse/MDL-71257" class="el">MDL-71257</a>. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000135">Todo</a></b></dt><dd>Final deprecation in <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 6.0. See <a href="https://tracker.moodle.org/browse/MDL-83171" class="el">MDL-83171</a>. </dd></dl>

</div>
</div>
<a id="afc94d1b2b078d795a08fc9e51cb4dda8" name="afc94d1b2b078d795a08fc9e51cb4dda8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc94d1b2b078d795a08fc9e51cb4dda8">&#9670;&#160;</a></span>__pad1__</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">replacement moodle_database::__pad1__</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of reads before first write done by this database. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>Number of reads. </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000298">Deprecated</a></b></dt><dd>Since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 5.0 </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000136">Todo</a></b></dt><dd>Final deprecation in <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 6.0. See <a href="https://tracker.moodle.org/browse/MDL-83171" class="el">MDL-83171</a>. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/dml/<b>mariadb_native_moodle_database.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 27 2025 04:12:03 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
