<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: core\session\manager Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;5.0</span>
   </div>
   <div id="projectbrief">Moodle 5.0.1 (Build: 20250609) (ffb6475f6ad)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d9/d0f/namespacecore.html">core</a></li><li class="navelem"><a class="el" href="../../d3/d00/namespacecore_1_1session.html">session</a></li><li class="navelem"><a class="el" href="../../d0/dcb/classcore_1_1session_1_1manager.html">manager</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="../../dd/de4/classcore_1_1session_1_1manager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">core\session\manager Class Reference<div class="ingroups"><a class="el" href="../../d0/de1/group__core.html">core</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aaf7f180c5c2bae83dc52da230a226a1b" id="r_aaf7f180c5c2bae83dc52da230a226a1b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf7f180c5c2bae83dc52da230a226a1b">add_session</a> (int $userid)</td></tr>
<tr class="memdesc:aaf7f180c5c2bae83dc52da230a226a1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert new empty session record.  <br /></td></tr>
<tr class="separator:aaf7f180c5c2bae83dc52da230a226a1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07e878b6ec750d885942f0a914146fe0" id="r_a07e878b6ec750d885942f0a914146fe0"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07e878b6ec750d885942f0a914146fe0">apply_concurrent_login_limit</a> ($userid, $sid=null)</td></tr>
<tr class="memdesc:a07e878b6ec750d885942f0a914146fe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminate other sessions of current user depending on $CFG-&gt;limitconcurrentlogins restriction.  <br /></td></tr>
<tr class="separator:a07e878b6ec750d885942f0a914146fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac256f3316b334bccdfb4b44e46d33334" id="r_ac256f3316b334bccdfb4b44e46d33334"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac256f3316b334bccdfb4b44e46d33334">check_mutated_closed_session</a> ()</td></tr>
<tr class="memdesc:ac256f3316b334bccdfb4b44e46d33334"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the session has been mutated since it was closed.  <br /></td></tr>
<tr class="separator:ac256f3316b334bccdfb4b44e46d33334"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ddc7c9e3e2e8077a5f9c150e60177e8" id="r_a5ddc7c9e3e2e8077a5f9c150e60177e8"><td class="memItemLeft" align="right" valign="top"><a id="a5ddc7c9e3e2e8077a5f9c150e60177e8" name="a5ddc7c9e3e2e8077a5f9c150e60177e8"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>cleanup_recent_session_locks</b> ()</td></tr>
<tr class="memdesc:a5ddc7c9e3e2e8077a5f9c150e60177e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset recent session locks array if there is a time gap more than SESSION_RESET_GAP_THRESHOLD. <br /></td></tr>
<tr class="separator:a5ddc7c9e3e2e8077a5f9c150e60177e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fd55270f08c245e20dccf6d1a43a0e8" id="r_a6fd55270f08c245e20dccf6d1a43a0e8"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6fd55270f08c245e20dccf6d1a43a0e8">destroy</a> (string $id)</td></tr>
<tr class="memdesc:a6fd55270f08c245e20dccf6d1a43a0e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a specific session and delete this session record for this session id.  <br /></td></tr>
<tr class="separator:a6fd55270f08c245e20dccf6d1a43a0e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9a018fc31397b9e79c729de49547a1e" id="r_ad9a018fc31397b9e79c729de49547a1e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9a018fc31397b9e79c729de49547a1e">destroy_all</a> ()</td></tr>
<tr class="memdesc:ad9a018fc31397b9e79c729de49547a1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy all sessions, and delete all the session data.  <br /></td></tr>
<tr class="separator:ad9a018fc31397b9e79c729de49547a1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a789f936319db0cb587e38aa3706628" id="r_a9a789f936319db0cb587e38aa3706628"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a789f936319db0cb587e38aa3706628">destroy_by_auth_plugin</a> (string $pluginname)</td></tr>
<tr class="memdesc:a9a789f936319db0cb587e38aa3706628"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy all sessions for a given plugin.  <br /></td></tr>
<tr class="separator:a9a789f936319db0cb587e38aa3706628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c547f3d735f64bf8bae8e40faa91df" id="r_ad5c547f3d735f64bf8bae8e40faa91df"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5c547f3d735f64bf8bae8e40faa91df">destroy_user_sessions</a> ($userid, $keepsid=null)</td></tr>
<tr class="memdesc:ad5c547f3d735f64bf8bae8e40faa91df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy all sessions of given user unconditionally.  <br /></td></tr>
<tr class="separator:ad5c547f3d735f64bf8bae8e40faa91df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acefcadc05977dd68b1398b18349bd4d3" id="r_acefcadc05977dd68b1398b18349bd4d3"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acefcadc05977dd68b1398b18349bd4d3">display_blocking_page</a> ()</td></tr>
<tr class="memdesc:acefcadc05977dd68b1398b18349bd4d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display the page which blocks other pages.  <br /></td></tr>
<tr class="separator:acefcadc05977dd68b1398b18349bd4d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0b70b33cc5e9195ddedd2297316b039" id="r_ae0b70b33cc5e9195ddedd2297316b039"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae0b70b33cc5e9195ddedd2297316b039">gc</a> (int $maxlifetime=0)</td></tr>
<tr class="memdesc:ae0b70b33cc5e9195ddedd2297316b039"><td class="mdescLeft">&#160;</td><td class="mdescRight">Periodic timed-out session cleanup.  <br /></td></tr>
<tr class="separator:ae0b70b33cc5e9195ddedd2297316b039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec945e46f0dfb826e66c1e909b10e4a" id="r_afec945e46f0dfb826e66c1e909b10e4a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afec945e46f0dfb826e66c1e909b10e4a">get_handler_class</a> ()</td></tr>
<tr class="memdesc:afec945e46f0dfb826e66c1e909b10e4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get fully qualified name of session handler class.  <br /></td></tr>
<tr class="separator:afec945e46f0dfb826e66c1e909b10e4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca952b8e9d4baf457de8322be0cf9e42" id="r_aca952b8e9d4baf457de8322be0cf9e42"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aca952b8e9d4baf457de8322be0cf9e42">get_locked_page_at</a> ($time)</td></tr>
<tr class="memdesc:aca952b8e9d4baf457de8322be0cf9e42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the page that blocks other pages at a specific timestamp.  <br /></td></tr>
<tr class="separator:aca952b8e9d4baf457de8322be0cf9e42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a895a3b892c552ebefd67b143c8713351" id="r_a895a3b892c552ebefd67b143c8713351"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a895a3b892c552ebefd67b143c8713351">get_login_token</a> ()</td></tr>
<tr class="memdesc:a895a3b892c552ebefd67b143c8713351"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current login token or generate a new one.  <br /></td></tr>
<tr class="separator:a895a3b892c552ebefd67b143c8713351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf708f1ceb856eb64d626176bfa18ec3" id="r_acf708f1ceb856eb64d626176bfa18ec3"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf708f1ceb856eb64d626176bfa18ec3">get_performance_info</a> ()</td></tr>
<tr class="memdesc:acf708f1ceb856eb64d626176bfa18ec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns current page performance info.  <br /></td></tr>
<tr class="separator:acf708f1ceb856eb64d626176bfa18ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af66dde82284169161d25e22e7a2b8f40" id="r_af66dde82284169161d25e22e7a2b8f40"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af66dde82284169161d25e22e7a2b8f40">get_realuser</a> ()</td></tr>
<tr class="memdesc:af66dde82284169161d25e22e7a2b8f40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the $USER object ignoring current login-as session.  <br /></td></tr>
<tr class="separator:af66dde82284169161d25e22e7a2b8f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a008def12208ed79ca5ab49bfa32b8047" id="r_a008def12208ed79ca5ab49bfa32b8047"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a008def12208ed79ca5ab49bfa32b8047">get_recent_session_locks</a> ()</td></tr>
<tr class="memdesc:a008def12208ed79ca5ab49bfa32b8047"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the recent session locks array.  <br /></td></tr>
<tr class="separator:a008def12208ed79ca5ab49bfa32b8047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7022a1a614fe4f287ad815f59ffbc053" id="r_a7022a1a614fe4f287ad815f59ffbc053"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7022a1a614fe4f287ad815f59ffbc053">get_session_by_sid</a> (string $sid)</td></tr>
<tr class="memdesc:a7022a1a614fe4f287ad815f59ffbc053"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a single session record for this session id.  <br /></td></tr>
<tr class="separator:a7022a1a614fe4f287ad815f59ffbc053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa7087cf0bc2b90457e80c7e2dcd3f99" id="r_afa7087cf0bc2b90457e80c7e2dcd3f99"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa7087cf0bc2b90457e80c7e2dcd3f99">get_session_lock_info</a> ()</td></tr>
<tr class="memdesc:afa7087cf0bc2b90457e80c7e2dcd3f99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get session lock info of the current page.  <br /></td></tr>
<tr class="separator:afa7087cf0bc2b90457e80c7e2dcd3f99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67bc58e06ea54122e12580025d743842" id="r_a67bc58e06ea54122e12580025d743842"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67bc58e06ea54122e12580025d743842">get_sessions_by_userid</a> (int $userid)</td></tr>
<tr class="memdesc:a67bc58e06ea54122e12580025d743842"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all the session records for this user id.  <br /></td></tr>
<tr class="separator:a67bc58e06ea54122e12580025d743842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85a6ea9dbb6d263832d40e7219d6fd2a" id="r_a85a6ea9dbb6d263832d40e7219d6fd2a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a85a6ea9dbb6d263832d40e7219d6fd2a">init_empty_session</a> (?bool $newsid=null)</td></tr>
<tr class="memdesc:a85a6ea9dbb6d263832d40e7219d6fd2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty current session, fill it with not-logged-in user info.  <br /></td></tr>
<tr class="separator:a85a6ea9dbb6d263832d40e7219d6fd2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64ebc652d26e5b9791073a2124c12e9e" id="r_a64ebc652d26e5b9791073a2124c12e9e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64ebc652d26e5b9791073a2124c12e9e">is_loggedinas</a> ()</td></tr>
<tr class="memdesc:a64ebc652d26e5b9791073a2124c12e9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is current $USER logged-in-as somebody else?  <br /></td></tr>
<tr class="separator:a64ebc652d26e5b9791073a2124c12e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c426e5b9e0fdc68aeb75754968157ba" id="r_a6c426e5b9e0fdc68aeb75754968157ba"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c426e5b9e0fdc68aeb75754968157ba">keepalive</a> ($identifier='sessionerroruser', $<a class="el" href="../../db/d60/classcore_1_1component.html">component</a>='error', $frequency=null, $timeout=0)</td></tr>
<tr class="memdesc:a6c426e5b9e0fdc68aeb75754968157ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a JS session keepalive to the page.  <br /></td></tr>
<tr class="separator:a6c426e5b9e0fdc68aeb75754968157ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbe6de768b02dc3c2d7e719d6d68e5ef" id="r_abbe6de768b02dc3c2d7e719d6d68e5ef"><td class="memItemLeft" align="right" valign="top"><a id="abbe6de768b02dc3c2d7e719d6d68e5ef" name="abbe6de768b02dc3c2d7e719d6d68e5ef"></a>
<a class="el" href="../../d0/de1/group__core.html#ggafbdb95183823e8d474f07171cda363c3af939fff79ba150926752251d6f3af945">replacement</a> static&#160;</td><td class="memItemRight" valign="bottom"><b>kill_all_sessions</b> ()</td></tr>
<tr class="separator:abbe6de768b02dc3c2d7e719d6d68e5ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43e9b5b2212feda675befab35ee1696b" id="r_a43e9b5b2212feda675befab35ee1696b"><td class="memItemLeft" align="right" valign="top"><a id="a43e9b5b2212feda675befab35ee1696b" name="a43e9b5b2212feda675befab35ee1696b"></a>
<a class="el" href="../../d0/de1/group__core.html#ggafbdb95183823e8d474f07171cda363c3af939fff79ba150926752251d6f3af945">replacement</a> static&#160;</td><td class="memItemRight" valign="bottom"><b>kill_session</b> ($sid)</td></tr>
<tr class="separator:a43e9b5b2212feda675befab35ee1696b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82fe9950dc21da0797f4916e1b61b41f" id="r_a82fe9950dc21da0797f4916e1b61b41f"><td class="memItemLeft" align="right" valign="top"><a id="a82fe9950dc21da0797f4916e1b61b41f" name="a82fe9950dc21da0797f4916e1b61b41f"></a>
<a class="el" href="../../d0/de1/group__core.html#ggafbdb95183823e8d474f07171cda363c3af939fff79ba150926752251d6f3af945">replacement</a> static&#160;</td><td class="memItemRight" valign="bottom"><b>kill_sessions_for_auth_plugin</b> (string $pluginname)</td></tr>
<tr class="separator:a82fe9950dc21da0797f4916e1b61b41f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e68ee499caf6e68f672a9172f660dfe" id="r_a9e68ee499caf6e68f672a9172f660dfe"><td class="memItemLeft" align="right" valign="top"><a id="a9e68ee499caf6e68f672a9172f660dfe" name="a9e68ee499caf6e68f672a9172f660dfe"></a>
<a class="el" href="../../d0/de1/group__core.html#ggafbdb95183823e8d474f07171cda363c3af939fff79ba150926752251d6f3af945">replacement</a> static&#160;</td><td class="memItemRight" valign="bottom"><b>kill_user_sessions</b> ($userid, $keepsid=null)</td></tr>
<tr class="separator:a9e68ee499caf6e68f672a9172f660dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa64cad81c56b3e9aa96860f1b5a732ba" id="r_aa64cad81c56b3e9aa96860f1b5a732ba"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa64cad81c56b3e9aa96860f1b5a732ba">login_user</a> (\stdClass $<a class="el" href="../../d0/dba/classcore_1_1context_1_1user.html">user</a>)</td></tr>
<tr class="memdesc:aa64cad81c56b3e9aa96860f1b5a732ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Login user, to be called from <a class="el" href="../../d0/de1/group__core.html#ga4acb6121854c6a3cd8c99c31fa2c4275" title="Call to complete the user login process after authenticate_user_login() has succeeded.">complete_user_login()</a> only.  <br /></td></tr>
<tr class="separator:aa64cad81c56b3e9aa96860f1b5a732ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c5a804ee360f710bccc7734fc9619f3" id="r_a7c5a804ee360f710bccc7734fc9619f3"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7c5a804ee360f710bccc7734fc9619f3">loginas</a> ($userid, <a class="el" href="../../d1/d90/classcore_1_1context.html">context</a> $<a class="el" href="../../d1/d90/classcore_1_1context.html">context</a>, $generateevent=true)</td></tr>
<tr class="memdesc:a7c5a804ee360f710bccc7734fc9619f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Login as another user - no security checks here.  <br /></td></tr>
<tr class="separator:a7c5a804ee360f710bccc7734fc9619f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af47d84412411a56087551bf6aba3685a" id="r_af47d84412411a56087551bf6aba3685a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af47d84412411a56087551bf6aba3685a">restart_with_write_lock</a> (bool $readonlysession)</td></tr>
<tr class="memdesc:af47d84412411a56087551bf6aba3685a"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the current session is not writeable, abort it, and re-open it requesting (and blocking) until a write lock is acquired.  <br /></td></tr>
<tr class="separator:af47d84412411a56087551bf6aba3685a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09951a2b97868a3c82e3f6f198779984" id="r_a09951a2b97868a3c82e3f6f198779984"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09951a2b97868a3c82e3f6f198779984">session_exists</a> ($sid)</td></tr>
<tr class="memdesc:a09951a2b97868a3c82e3f6f198779984"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does the PHP session with given id exist?  <br /></td></tr>
<tr class="separator:a09951a2b97868a3c82e3f6f198779984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e8c85665baea9b94f2a05927248b85b" id="r_a0e8c85665baea9b94f2a05927248b85b"><td class="memItemLeft" align="right" valign="top"><a id="a0e8c85665baea9b94f2a05927248b85b" name="a0e8c85665baea9b94f2a05927248b85b"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>sessionlock_debugging</b> ()</td></tr>
<tr class="memdesc:a0e8c85665baea9b94f2a05927248b85b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display debugging info about slow and blocked script. <br /></td></tr>
<tr class="separator:a0e8c85665baea9b94f2a05927248b85b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ddab7d9e7aef89bf2cb4b233b60429" id="r_a40ddab7d9e7aef89bf2cb4b233b60429"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40ddab7d9e7aef89bf2cb4b233b60429">set_user</a> (\stdClass $<a class="el" href="../../d0/dba/classcore_1_1context_1_1user.html">user</a>)</td></tr>
<tr class="memdesc:a40ddab7d9e7aef89bf2cb4b233b60429"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set current user.  <br /></td></tr>
<tr class="separator:a40ddab7d9e7aef89bf2cb4b233b60429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67c59fdd86d1d88741f97a5e1c3898b" id="r_aa67c59fdd86d1d88741f97a5e1c3898b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa67c59fdd86d1d88741f97a5e1c3898b">start</a> ()</td></tr>
<tr class="memdesc:aa67c59fdd86d1d88741f97a5e1c3898b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start user session.  <br /></td></tr>
<tr class="separator:aa67c59fdd86d1d88741f97a5e1c3898b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85d56e9e90eab4e333eeb8ea41eb3459" id="r_a85d56e9e90eab4e333eeb8ea41eb3459"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a85d56e9e90eab4e333eeb8ea41eb3459">terminate_current</a> ()</td></tr>
<tr class="memdesc:a85d56e9e90eab4e333eeb8ea41eb3459"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminate current user session.  <br /></td></tr>
<tr class="separator:a85d56e9e90eab4e333eeb8ea41eb3459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5343f1374666fe3fe978649403ddc9f8" id="r_a5343f1374666fe3fe978649403ddc9f8"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5343f1374666fe3fe978649403ddc9f8">time_remaining</a> ($sid)</td></tr>
<tr class="memdesc:a5343f1374666fe3fe978649403ddc9f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of seconds remaining in the current session.  <br /></td></tr>
<tr class="separator:a5343f1374666fe3fe978649403ddc9f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab335ee85f73e9cd22d33cf2879199b36" id="r_ab335ee85f73e9cd22d33cf2879199b36"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab335ee85f73e9cd22d33cf2879199b36">touch_session</a> ($sid)</td></tr>
<tr class="memdesc:ab335ee85f73e9cd22d33cf2879199b36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fake last access for given session, this prevents session timeout.  <br /></td></tr>
<tr class="separator:ab335ee85f73e9cd22d33cf2879199b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab43992ae2ebbeac1f85c8fc6ae65fc93" id="r_ab43992ae2ebbeac1f85c8fc6ae65fc93"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab43992ae2ebbeac1f85c8fc6ae65fc93">update_recent_session_locks</a> ($sessionlock)</td></tr>
<tr class="memdesc:ab43992ae2ebbeac1f85c8fc6ae65fc93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the recent session locks.  <br /></td></tr>
<tr class="separator:ab43992ae2ebbeac1f85c8fc6ae65fc93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48d2bebb1089077b01b8f8fd03278707" id="r_a48d2bebb1089077b01b8f8fd03278707"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a48d2bebb1089077b01b8f8fd03278707">update_session</a> (\stdClass $record)</td></tr>
<tr class="memdesc:a48d2bebb1089077b01b8f8fd03278707"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a session record.  <br /></td></tr>
<tr class="separator:a48d2bebb1089077b01b8f8fd03278707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc2ea9b2bc901deacf247646d24893ba" id="r_abc2ea9b2bc901deacf247646d24893ba"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc2ea9b2bc901deacf247646d24893ba">validate_login_token</a> ($token=false)</td></tr>
<tr class="memdesc:abc2ea9b2bc901deacf247646d24893ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the submitted value against the stored login token.  <br /></td></tr>
<tr class="separator:abc2ea9b2bc901deacf247646d24893ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e0d3b70cc2af2f0dcc3751d82591933" id="r_a7e0d3b70cc2af2f0dcc3751d82591933"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e0d3b70cc2af2f0dcc3751d82591933">write_close</a> ()</td></tr>
<tr class="memdesc:a7e0d3b70cc2af2f0dcc3751d82591933"><td class="mdescLeft">&#160;</td><td class="mdescRight">No more changes in session expected.  <br /></td></tr>
<tr class="separator:a7e0d3b70cc2af2f0dcc3751d82591933"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a2fc654d980560dcac7adf5bf79980219" id="r_a2fc654d980560dcac7adf5bf79980219"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/de1/group__core.html#ggafbdb95183823e8d474f07171cda363c3af939fff79ba150926752251d6f3af945">replacement</a>&#160;</td><td class="memItemRight" valign="bottom">: '<a class="el" href="#ad9a018fc31397b9e79c729de49547a1e">destroy_all</a>'</td></tr>
<tr class="memdesc:a2fc654d980560dcac7adf5bf79980219"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminate all sessions unconditionally.  <br /></td></tr>
<tr class="separator:a2fc654d980560dcac7adf5bf79980219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a464b396a2dbfc3a2193612a9e88e75a5" id="r_a464b396a2dbfc3a2193612a9e88e75a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/de1/group__core.html#ggafbdb95183823e8d474f07171cda363c3af939fff79ba150926752251d6f3af945">replacement</a>&#160;</td><td class="memItemRight" valign="bottom">: '<a class="el" href="#a6fd55270f08c245e20dccf6d1a43a0e8">destroy</a>'</td></tr>
<tr class="memdesc:a464b396a2dbfc3a2193612a9e88e75a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminate give session unconditionally.  <br /></td></tr>
<tr class="separator:a464b396a2dbfc3a2193612a9e88e75a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf0b6fc152803d2763fc9b943ea5d623" id="r_aaf0b6fc152803d2763fc9b943ea5d623"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/de1/group__core.html#ggafbdb95183823e8d474f07171cda363c3af939fff79ba150926752251d6f3af945">replacement</a>&#160;</td><td class="memItemRight" valign="bottom">: '<a class="el" href="#a9a789f936319db0cb587e38aa3706628">destroy_by_auth_plugin</a>'</td></tr>
<tr class="memdesc:aaf0b6fc152803d2763fc9b943ea5d623"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kill sessions of users with disabled plugins.  <br /></td></tr>
<tr class="separator:aaf0b6fc152803d2763fc9b943ea5d623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c7dde9bb621d0a2241965cdf3b29b6f" id="r_a4c7dde9bb621d0a2241965cdf3b29b6f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/de1/group__core.html#ggafbdb95183823e8d474f07171cda363c3af939fff79ba150926752251d6f3af945">replacement</a>&#160;</td><td class="memItemRight" valign="bottom">: '<a class="el" href="#ad5c547f3d735f64bf8bae8e40faa91df">destroy_user_sessions</a>'</td></tr>
<tr class="memdesc:a4c7dde9bb621d0a2241965cdf3b29b6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminate all sessions of given user unconditionally.  <br /></td></tr>
<tr class="separator:a4c7dde9bb621d0a2241965cdf3b29b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8f528c6c8475c99aaaf5eab556e9380" id="r_ae8f528c6c8475c99aaaf5eab556e9380"><td class="memItemLeft" align="right" valign="top"><a id="ae8f528c6c8475c99aaaf5eab556e9380" name="ae8f528c6c8475c99aaaf5eab556e9380"></a>
int const&#160;</td><td class="memItemRight" valign="bottom"><b>MAXIMUM_STORED_SESSION_HISTORY</b> = 50</td></tr>
<tr class="memdesc:ae8f528c6c8475c99aaaf5eab556e9380"><td class="mdescLeft">&#160;</td><td class="mdescRight">A hard cutoff of maximum stored history. <br /></td></tr>
<tr class="separator:ae8f528c6c8475c99aaaf5eab556e9380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ad0097217d012fcd8ff66550516a1b3" id="r_a5ad0097217d012fcd8ff66550516a1b3"><td class="memItemLeft" align="right" valign="top"><a id="a5ad0097217d012fcd8ff66550516a1b3" name="a5ad0097217d012fcd8ff66550516a1b3"></a>
int const&#160;</td><td class="memItemRight" valign="bottom"><b>SESSION_RESET_GAP_THRESHOLD</b> = 1</td></tr>
<tr class="memdesc:a5ad0097217d012fcd8ff66550516a1b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The recent session locks array is reset if there is a time gap more than this value in seconds. <br /></td></tr>
<tr class="separator:a5ad0097217d012fcd8ff66550516a1b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb6001c93a4835d01cb89c4b262e0761" id="r_adb6001c93a4835d01cb89c4b262e0761"><td class="memItemLeft" align="right" valign="top"><a id="adb6001c93a4835d01cb89c4b262e0761" name="adb6001c93a4835d01cb89c4b262e0761"></a>
<a class="el" href="../../d0/de1/group__core.html#ggafbdb95183823e8d474f07171cda363c3af939fff79ba150926752251d6f3af945">replacement</a>&#160;</td><td class="memItemRight" valign="bottom"><b>since</b>: '4.5'</td></tr>
<tr class="separator:adb6001c93a4835d01cb89c4b262e0761"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:adfc68196c1f6a0e8445dc8d9d04961f2" id="r_adfc68196c1f6a0e8445dc8d9d04961f2"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adfc68196c1f6a0e8445dc8d9d04961f2">check_security</a> ()</td></tr>
<tr class="memdesc:adfc68196c1f6a0e8445dc8d9d04961f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do various session security checks.  <br /></td></tr>
<tr class="separator:adfc68196c1f6a0e8445dc8d9d04961f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfff87faf8a43a3e36a9a759d72a1587" id="r_adfff87faf8a43a3e36a9a759d72a1587"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adfff87faf8a43a3e36a9a759d72a1587">initialise_user_session</a> ($newsid)</td></tr>
<tr class="memdesc:adfff87faf8a43a3e36a9a759d72a1587"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise $_SESSION, handles google access and sets up not-logged-in user properly.  <br /></td></tr>
<tr class="separator:adfff87faf8a43a3e36a9a759d72a1587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a793541d2d93ad18d5db530c50aa616bb" id="r_a793541d2d93ad18d5db530c50aa616bb"><td class="memItemLeft" align="right" valign="top"><a id="a793541d2d93ad18d5db530c50aa616bb" name="a793541d2d93ad18d5db530c50aa616bb"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>load_handler</b> ()</td></tr>
<tr class="memdesc:a793541d2d93ad18d5db530c50aa616bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create handler instance. <br /></td></tr>
<tr class="separator:a793541d2d93ad18d5db530c50aa616bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad085b7ef35338ed1ddfa4dbfe3d68a13" id="r_ad085b7ef35338ed1ddfa4dbfe3d68a13"><td class="memItemLeft" align="right" valign="top"><a id="ad085b7ef35338ed1ddfa4dbfe3d68a13" name="ad085b7ef35338ed1ddfa4dbfe3d68a13"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>prepare_cookies</b> ()</td></tr>
<tr class="memdesc:ad085b7ef35338ed1ddfa4dbfe3d68a13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make sure all cookie and session related stuff is configured properly before session start. <br /></td></tr>
<tr class="separator:ad085b7ef35338ed1ddfa4dbfe3d68a13"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a1c0f9aabe03f8827e95ca7b0ee543a2e" id="r_a1c0f9aabe03f8827e95ca7b0ee543a2e"><td class="memItemLeft" align="right" valign="top"><a id="a1c0f9aabe03f8827e95ca7b0ee543a2e" name="a1c0f9aabe03f8827e95ca7b0ee543a2e"></a>
static <a class="el" href="../../d8/d2e/classcore_1_1session_1_1handler.html">handler</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$handler</b></td></tr>
<tr class="memdesc:a1c0f9aabe03f8827e95ca7b0ee543a2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">$handler active session handler instance <br /></td></tr>
<tr class="separator:a1c0f9aabe03f8827e95ca7b0ee543a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad18a1d5065253f89d0322f35ff45d2b9" id="r_ad18a1d5065253f89d0322f35ff45d2b9"><td class="memItemLeft" align="right" valign="top"><a id="ad18a1d5065253f89d0322f35ff45d2b9" name="ad18a1d5065253f89d0322f35ff45d2b9"></a>
static string&#160;</td><td class="memItemRight" valign="bottom"><b>$logintokenkey</b> = 'core_auth_login'</td></tr>
<tr class="memdesc:ad18a1d5065253f89d0322f35ff45d2b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">$logintokenkey Key used to get and store request protection for login form. <br /></td></tr>
<tr class="separator:ad18a1d5065253f89d0322f35ff45d2b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade4b62a1721ed804eb5528d7224eaa25" id="r_ade4b62a1721ed804eb5528d7224eaa25"><td class="memItemLeft" align="right" valign="top"><a id="ade4b62a1721ed804eb5528d7224eaa25" name="ade4b62a1721ed804eb5528d7224eaa25"></a>
static bool&#160;</td><td class="memItemRight" valign="bottom"><b>$sessionactive</b> = null</td></tr>
<tr class="memdesc:ade4b62a1721ed804eb5528d7224eaa25"><td class="mdescLeft">&#160;</td><td class="mdescRight">$sessionactive Is the session active? <br /></td></tr>
<tr class="separator:ade4b62a1721ed804eb5528d7224eaa25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aaf7f180c5c2bae83dc52da230a226a1b" name="aaf7f180c5c2bae83dc52da230a226a1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf7f180c5c2bae83dc52da230a226a1b">&#9670;&#160;</a></span>add_session()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::add_session </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$userid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert new empty session record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>the new record </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a07e878b6ec750d885942f0a914146fe0" name="a07e878b6ec750d885942f0a914146fe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07e878b6ec750d885942f0a914146fe0">&#9670;&#160;</a></span>apply_concurrent_login_limit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::apply_concurrent_login_limit </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Terminate other sessions of current user depending on $CFG-&gt;limitconcurrentlogins restriction. </p>
<p>This is expected to be called right after <a class="el" href="../../d0/de1/group__core.html#ga4acb6121854c6a3cd8c99c31fa2c4275" title="Call to complete the user login process after authenticate_user_login() has succeeded.">complete_user_login()</a>.</p>
<p>NOTE:</p><ul>
<li>Do not use from SSO auth plugins, this would not work.</li>
<li>Do not use from web services because they do not have sessions.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sid</td><td>session id to be always keep, usually the current one </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac256f3316b334bccdfb4b44e46d33334" name="ac256f3316b334bccdfb4b44e46d33334"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac256f3316b334bccdfb4b44e46d33334">&#9670;&#160;</a></span>check_mutated_closed_session()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::check_mutated_closed_session </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the session has been mutated since it was closed. </p>
<p>In write_close the session is saved to the variable $sessionatclose If there is a difference between $sessionatclose and the current session, it means a script has erroneously closed the session too early. Script is usually called in shutdown_manager </p>

</div>
</div>
<a id="adfc68196c1f6a0e8445dc8d9d04961f2" name="adfc68196c1f6a0e8445dc8d9d04961f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfc68196c1f6a0e8445dc8d9d04961f2">&#9670;&#160;</a></span>check_security()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::check_security </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do various session security checks. </p>
<p>WARNING: $USER and $SESSION are set up later, do not use them yet! </p><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/dd0/classcore_1_1session_1_1exception.html" title="Session related exception class.">core\session\exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6fd55270f08c245e20dccf6d1a43a0e8" name="a6fd55270f08c245e20dccf6d1a43a0e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fd55270f08c245e20dccf6d1a43a0e8">&#9670;&#160;</a></span>destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::destroy </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy a specific session and delete this session record for this session id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$id</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad9a018fc31397b9e79c729de49547a1e" name="ad9a018fc31397b9e79c729de49547a1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9a018fc31397b9e79c729de49547a1e">&#9670;&#160;</a></span>destroy_all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::destroy_all </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy all sessions, and delete all the session data. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9a789f936319db0cb587e38aa3706628" name="a9a789f936319db0cb587e38aa3706628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a789f936319db0cb587e38aa3706628">&#9670;&#160;</a></span>destroy_by_auth_plugin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::destroy_by_auth_plugin </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$pluginname</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy all sessions for a given plugin. </p>
<p>Typically used when a plugin is disabled or uninstalled, so all sessions (users) for that plugin are logged out.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$pluginname</td><td>Auth plugin name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad5c547f3d735f64bf8bae8e40faa91df" name="ad5c547f3d735f64bf8bae8e40faa91df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5c547f3d735f64bf8bae8e40faa91df">&#9670;&#160;</a></span>destroy_user_sessions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::destroy_user_sessions </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$keepsid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy all sessions of given user unconditionally. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$keepsid</td><td>keep this sid if present </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acefcadc05977dd68b1398b18349bd4d3" name="acefcadc05977dd68b1398b18349bd4d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acefcadc05977dd68b1398b18349bd4d3">&#9670;&#160;</a></span>display_blocking_page()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::display_blocking_page </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Display the page which blocks other pages. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae0b70b33cc5e9195ddedd2297316b039" name="ae0b70b33cc5e9195ddedd2297316b039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0b70b33cc5e9195ddedd2297316b039">&#9670;&#160;</a></span>gc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::gc </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$maxlifetime</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Periodic timed-out session cleanup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$maxlifetime</td><td>Sessions that have not updated for the last max_lifetime seconds will be removed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afec945e46f0dfb826e66c1e909b10e4a" name="afec945e46f0dfb826e66c1e909b10e4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afec945e46f0dfb826e66c1e909b10e4a">&#9670;&#160;</a></span>get_handler_class()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::get_handler_class </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get fully qualified name of session handler class. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The name of the handler class </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aca952b8e9d4baf457de8322be0cf9e42" name="aca952b8e9d4baf457de8322be0cf9e42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca952b8e9d4baf457de8322be0cf9e42">&#9670;&#160;</a></span>get_locked_page_at()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::get_locked_page_at </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the page that blocks other pages at a specific timestamp. </p>
<p>Look for a page whose lock was gained before that timestamp, and released after that timestamp.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">float</td><td class="paramname">$time</td><td>Time before session lock starts. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array|null</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a895a3b892c552ebefd67b143c8713351" name="a895a3b892c552ebefd67b143c8713351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a895a3b892c552ebefd67b143c8713351">&#9670;&#160;</a></span>get_login_token()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::get_login_token </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the current login token or generate a new one. </p>
<p>All login forms generated from <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> must include a login token named "logintoken" with the value being the result of this function. Logins will be rejected if they do not include this token as well as the username and password fields.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The current login token. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acf708f1ceb856eb64d626176bfa18ec3" name="acf708f1ceb856eb64d626176bfa18ec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf708f1ceb856eb64d626176bfa18ec3">&#9670;&#160;</a></span>get_performance_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::get_performance_info </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns current page performance info. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>perf info </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af66dde82284169161d25e22e7a2b8f40" name="af66dde82284169161d25e22e7a2b8f40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af66dde82284169161d25e22e7a2b8f40">&#9670;&#160;</a></span>get_realuser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::get_realuser </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the $USER object ignoring current login-as session. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>user object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a008def12208ed79ca5ab49bfa32b8047" name="a008def12208ed79ca5ab49bfa32b8047"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a008def12208ed79ca5ab49bfa32b8047">&#9670;&#160;</a></span>get_recent_session_locks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::get_recent_session_locks </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the recent session locks array. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Recent session locks array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7022a1a614fe4f287ad815f59ffbc053" name="a7022a1a614fe4f287ad815f59ffbc053"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7022a1a614fe4f287ad815f59ffbc053">&#9670;&#160;</a></span>get_session_by_sid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::get_session_by_sid </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$sid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a single session record for this session id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afa7087cf0bc2b90457e80c7e2dcd3f99" name="afa7087cf0bc2b90457e80c7e2dcd3f99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa7087cf0bc2b90457e80c7e2dcd3f99">&#9670;&#160;</a></span>get_session_lock_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::get_session_lock_info </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get session lock info of the current page. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a67bc58e06ea54122e12580025d743842" name="a67bc58e06ea54122e12580025d743842"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67bc58e06ea54122e12580025d743842">&#9670;&#160;</a></span>get_sessions_by_userid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::get_sessions_by_userid </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$userid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns all the session records for this user id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a85a6ea9dbb6d263832d40e7219d6fd2a" name="a85a6ea9dbb6d263832d40e7219d6fd2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85a6ea9dbb6d263832d40e7219d6fd2a">&#9670;&#160;</a></span>init_empty_session()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::init_empty_session </td>
          <td>(</td>
          <td class="paramtype">?bool</td>          <td class="paramname"><span class="paramname"><em>$newsid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Empty current session, fill it with not-logged-in user info. </p>
<p>This is intended for installation scripts, unit tests and other special areas. Do NOT use for logout and session termination in normal requests!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$newsid</td><td>only used after initialising a user session, is this a new user session? </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adfff87faf8a43a3e36a9a759d72a1587" name="adfff87faf8a43a3e36a9a759d72a1587"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfff87faf8a43a3e36a9a759d72a1587">&#9670;&#160;</a></span>initialise_user_session()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::initialise_user_session </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newsid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialise $_SESSION, handles google access and sets up not-logged-in user properly. </p>
<p>WARNING: $USER and $SESSION are set up later, do not use them yet!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$newsid</td><td>is this a new session in first http request? </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a64ebc652d26e5b9791073a2124c12e9e" name="a64ebc652d26e5b9791073a2124c12e9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64ebc652d26e5b9791073a2124c12e9e">&#9670;&#160;</a></span>is_loggedinas()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::is_loggedinas </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is current $USER logged-in-as somebody else? </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6c426e5b9e0fdc68aeb75754968157ba" name="a6c426e5b9e0fdc68aeb75754968157ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c426e5b9e0fdc68aeb75754968157ba">&#9670;&#160;</a></span>keepalive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::keepalive </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$identifier</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'sessionerroruser'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$component</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'error'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$frequency</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timeout</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a JS session keepalive to the page. </p>
<p>A JS session keepalive script will be called to update the session modification time every $frequency seconds.</p>
<p>Upon failure, the specified error message will be shown to the user.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$identifier</td><td>The string identifier for the message to show on failure. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>The string component for the message to show on failure. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$frequency</td><td>The update frequency in seconds. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timeout</td><td>The timeout of each request in seconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">coding_exception</td><td>IF the frequency is longer than the session lifetime. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa64cad81c56b3e9aa96860f1b5a732ba" name="aa64cad81c56b3e9aa96860f1b5a732ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa64cad81c56b3e9aa96860f1b5a732ba">&#9670;&#160;</a></span>login_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::login_user </td>
          <td>(</td>
          <td class="paramtype">\stdClass</td>          <td class="paramname"><span class="paramname"><em>$user</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Login user, to be called from <a class="el" href="../../d0/de1/group__core.html#ga4acb6121854c6a3cd8c99c31fa2c4275" title="Call to complete the user login process after authenticate_user_login() has succeeded.">complete_user_login()</a> only. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$user</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7c5a804ee360f710bccc7734fc9619f3" name="a7c5a804ee360f710bccc7734fc9619f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c5a804ee360f710bccc7734fc9619f3">&#9670;&#160;</a></span>loginas()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::loginas </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d90/classcore_1_1context.html">context</a></td>          <td class="paramname"><span class="paramname"><em>$context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$generateevent</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Login as another user - no security checks here. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$generateevent</td><td>Set to false to prevent the loginas event to be generated </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af47d84412411a56087551bf6aba3685a" name="af47d84412411a56087551bf6aba3685a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af47d84412411a56087551bf6aba3685a">&#9670;&#160;</a></span>restart_with_write_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::restart_with_write_lock </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$readonlysession</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If the current session is not writeable, abort it, and re-open it requesting (and blocking) until a write lock is acquired. </p>
<p>If current session was already opened with an intentional write lock, this call will not do anything. NOTE: Even when using a session handler that does not support non-locking sessions, if the original session was not opened with the explicit intention of being locked, this will still restart your session so that code behaviour matches as closely as practical across environments.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$readonlysession</td><td>Used by debugging logic to determine if whatever triggered the restart (e.g., a webservice) declared itself as read only. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a09951a2b97868a3c82e3f6f198779984" name="a09951a2b97868a3c82e3f6f198779984"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09951a2b97868a3c82e3f6f198779984">&#9670;&#160;</a></span>session_exists()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::session_exists </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does the PHP session with given id exist? </p>
<p>The session must exist both in session table and actual session backend and the session must not be timed out.</p>
<p>Timeout evaluation is simplified, the auth hooks are not executed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a40ddab7d9e7aef89bf2cb4b233b60429" name="a40ddab7d9e7aef89bf2cb4b233b60429"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40ddab7d9e7aef89bf2cb4b233b60429">&#9670;&#160;</a></span>set_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::set_user </td>
          <td>(</td>
          <td class="paramtype">\stdClass</td>          <td class="paramname"><span class="paramname"><em>$user</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set current user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$user</td><td>record </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa67c59fdd86d1d88741f97a5e1c3898b" name="aa67c59fdd86d1d88741f97a5e1c3898b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa67c59fdd86d1d88741f97a5e1c3898b">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::start </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start user session. </p>
<p>Note: This is intended to be called only from lib/setup.php! </p>

</div>
</div>
<a id="a85d56e9e90eab4e333eeb8ea41eb3459" name="a85d56e9e90eab4e333eeb8ea41eb3459"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85d56e9e90eab4e333eeb8ea41eb3459">&#9670;&#160;</a></span>terminate_current()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::terminate_current </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Terminate current user session. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5343f1374666fe3fe978649403ddc9f8" name="a5343f1374666fe3fe978649403ddc9f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5343f1374666fe3fe978649403ddc9f8">&#9670;&#160;</a></span>time_remaining()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::time_remaining </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the number of seconds remaining in the current session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sid</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab335ee85f73e9cd22d33cf2879199b36" name="ab335ee85f73e9cd22d33cf2879199b36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab335ee85f73e9cd22d33cf2879199b36">&#9670;&#160;</a></span>touch_session()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::touch_session </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fake last access for given session, this prevents session timeout. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sid</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab43992ae2ebbeac1f85c8fc6ae65fc93" name="ab43992ae2ebbeac1f85c8fc6ae65fc93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab43992ae2ebbeac1f85c8fc6ae65fc93">&#9670;&#160;</a></span>update_recent_session_locks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::update_recent_session_locks </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sessionlock</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the recent session locks. </p>
<p>This function will store session lock info of all the pages visited.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$sessionlock</td><td>Session lock array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a48d2bebb1089077b01b8f8fd03278707" name="a48d2bebb1089077b01b8f8fd03278707"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48d2bebb1089077b01b8f8fd03278707">&#9670;&#160;</a></span>update_session()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::update_session </td>
          <td>(</td>
          <td class="paramtype">\stdClass</td>          <td class="paramname"><span class="paramname"><em>$record</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update a session record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$record</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abc2ea9b2bc901deacf247646d24893ba" name="abc2ea9b2bc901deacf247646d24893ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc2ea9b2bc901deacf247646d24893ba">&#9670;&#160;</a></span>validate_login_token()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::validate_login_token </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$token</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check the submitted value against the stored login token. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$token</td><td>The value submitted in the login form that we are validating. If false is passed for the token, this function will always return true. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>If the submitted token is valid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7e0d3b70cc2af2f0dcc3751d82591933" name="a7e0d3b70cc2af2f0dcc3751d82591933"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e0d3b70cc2af2f0dcc3751d82591933">&#9670;&#160;</a></span>write_close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core\session\manager::write_close </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>No more changes in session expected. </p>
<p>Unblocks the sessions, other scripts may start executing in parallel. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a2fc654d980560dcac7adf5bf79980219" name="a2fc654d980560dcac7adf5bf79980219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fc654d980560dcac7adf5bf79980219">&#9670;&#160;</a></span>__pad0__</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/de1/group__core.html#ggafbdb95183823e8d474f07171cda363c3af939fff79ba150926752251d6f3af945">replacement</a> core\session\manager::__pad0__</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminate all sessions unconditionally. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000237">Deprecated</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 4.5 See <a href="https://tracker.moodle.org/browse/MDL-66161" class="el">MDL-66161</a> </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000126">Todo</a></b></dt><dd>Remove in <a href="https://tracker.moodle.org/browse/MDL-81848" class="el">MDL-81848</a> </dd></dl>

</div>
</div>
<a id="a464b396a2dbfc3a2193612a9e88e75a5" name="a464b396a2dbfc3a2193612a9e88e75a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a464b396a2dbfc3a2193612a9e88e75a5">&#9670;&#160;</a></span>__pad1__</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/de1/group__core.html#ggafbdb95183823e8d474f07171cda363c3af939fff79ba150926752251d6f3af945">replacement</a> core\session\manager::__pad1__</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminate give session unconditionally. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000238">Deprecated</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 4.5 See <a href="https://tracker.moodle.org/browse/MDL-66161" class="el">MDL-66161</a> </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000127">Todo</a></b></dt><dd>Remove in <a href="https://tracker.moodle.org/browse/MDL-81848" class="el">MDL-81848</a> </dd></dl>

</div>
</div>
<a id="aaf0b6fc152803d2763fc9b943ea5d623" name="aaf0b6fc152803d2763fc9b943ea5d623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf0b6fc152803d2763fc9b943ea5d623">&#9670;&#160;</a></span>__pad2__</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/de1/group__core.html#ggafbdb95183823e8d474f07171cda363c3af939fff79ba150926752251d6f3af945">replacement</a> core\session\manager::__pad2__</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Kill sessions of users with disabled plugins. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$pluginname</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000239">Deprecated</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 4.5 See <a href="https://tracker.moodle.org/browse/MDL-66161" class="el">MDL-66161</a> </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000128">Todo</a></b></dt><dd>Remove in <a href="https://tracker.moodle.org/browse/MDL-81848" class="el">MDL-81848</a> </dd></dl>

</div>
</div>
<a id="a4c7dde9bb621d0a2241965cdf3b29b6f" name="a4c7dde9bb621d0a2241965cdf3b29b6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c7dde9bb621d0a2241965cdf3b29b6f">&#9670;&#160;</a></span>__pad3__</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/de1/group__core.html#ggafbdb95183823e8d474f07171cda363c3af939fff79ba150926752251d6f3af945">replacement</a> core\session\manager::__pad3__</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminate all sessions of given user unconditionally. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$keepsid</td><td>keep this sid if present </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000240">Deprecated</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 4.5 See <a href="https://tracker.moodle.org/browse/MDL-66161" class="el">MDL-66161</a> </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000129">Todo</a></b></dt><dd>Remove in <a href="https://tracker.moodle.org/browse/MDL-81848" class="el">MDL-81848</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/classes/session/<b>manager.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 8 2025 03:42:46 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
